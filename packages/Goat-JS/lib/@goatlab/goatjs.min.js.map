{"version":3,"sources":["webpack://@goatlab/goatjs/webpack/universalModuleDefinition","webpack://@goatlab/goatjs/webpack/bootstrap","webpack://@goatlab/goatjs/./src/utilities.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/utils.js","webpack://@goatlab/goatjs/./src/models/Configuration.js","webpack://@goatlab/goatjs/../Fluent/lib/@goatlab/goat-fluent.min.js","webpack://@goatlab/goatjs/./node_modules/dayjs/dayjs.min.js","webpack://@goatlab/goatjs/./src/models/Form.js","webpack://@goatlab/goatjs/./node_modules/await-to-js/dist/await-to-js.es5.js","webpack://@goatlab/goatjs/./src/Wrappers/Connection.js","webpack://@goatlab/goatjs/./node_modules/axios/index.js","webpack://@goatlab/goatjs/./src/Wrappers/Event.js","webpack://@goatlab/goatjs/./src/models/Submission.js","webpack://@goatlab/goatjs/(webpack)/buildin/module.js","webpack://@goatlab/goatjs/./src/models/User.js","webpack://@goatlab/goatjs/./node_modules/@stamp/it/index.js","webpack://@goatlab/goatjs/./node_modules/@stamp/is/object.js","webpack://@goatlab/goatjs/./src/models/Role.js","webpack://@goatlab/goatjs/./src/models/Translation.js","webpack://@goatlab/goatjs/./src/models/Pages.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/defaults.js","webpack://@goatlab/goatjs/./src/repositories/Auth/Auth.js","webpack://@goatlab/goatjs/./node_modules/@stamp/is/function.js","webpack://@goatlab/goatjs/./node_modules/md5/md5.js","webpack://@goatlab/goatjs/./src/repositories/Auth/AuthInterface.js","webpack://@goatlab/goatjs/./node_modules/process/browser.js","webpack://@goatlab/goatjs/./src/repositories/Database/Sync.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/helpers/bind.js","webpack://@goatlab/goatjs/./node_modules/is-buffer/index.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/adapters/xhr.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/core/createError.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/cancel/isCancel.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/cancel/Cancel.js","webpack://@goatlab/goatjs/./node_modules/@stamp/compose/index.js","webpack://@goatlab/goatjs/./node_modules/@stamp/is/array.js","webpack://@goatlab/goatjs/./node_modules/@stamp/is/stamp.js","webpack://@goatlab/goatjs/./node_modules/@stamp/core/assign.js","webpack://@goatlab/goatjs/./node_modules/@stamp/core/merge.js","webpack://@goatlab/goatjs/./node_modules/charenc/charenc.js","webpack://@goatlab/goatjs/./node_modules/qs/lib/utils.js","webpack://@goatlab/goatjs/./node_modules/qs/lib/formats.js","webpack://@goatlab/goatjs/./src/repositories/Database/Scheduler.js","webpack://@goatlab/goatjs/./src/index.js","webpack://@goatlab/goatjs/./src/start.js","webpack://@goatlab/goatjs/./src/models/repositories/Labels.js","webpack://@goatlab/goatjs/./src/repositories/Database/SyncInterval.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/axios.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/core/Axios.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/helpers/normalizeHeaderName.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/core/settle.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/core/enhanceError.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/helpers/buildURL.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/helpers/parseHeaders.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/helpers/isURLSameOrigin.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/helpers/cookies.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/core/InterceptorManager.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/core/dispatchRequest.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/core/transformData.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/helpers/isAbsoluteURL.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/helpers/combineURLs.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/cancel/CancelToken.js","webpack://@goatlab/goatjs/./node_modules/axios/lib/helpers/spread.js","webpack://@goatlab/goatjs/./node_modules/@stamp/is/composable.js","webpack://@goatlab/goatjs/./node_modules/@stamp/is/plain-object.js","webpack://@goatlab/goatjs/./node_modules/@stamp/shortcut/index.js","webpack://@goatlab/goatjs/./node_modules/@stamp/is/string.js","webpack://@goatlab/goatjs/./src/repositories/Auth/Connectors/Formio.js","webpack://@goatlab/goatjs/./node_modules/crypt/crypt.js","webpack://@goatlab/goatjs/./src/repositories/Auth/Connectors/Keycloak.js","webpack://@goatlab/goatjs/./node_modules/qs/lib/index.js","webpack://@goatlab/goatjs/./node_modules/qs/lib/stringify.js","webpack://@goatlab/goatjs/./node_modules/qs/lib/parse.js","webpack://@goatlab/goatjs/./node_modules/btoa/index.js","webpack://@goatlab/goatjs/./node_modules/node-libs-browser/node_modules/buffer/index.js","webpack://@goatlab/goatjs/(webpack)/buildin/global.js","webpack://@goatlab/goatjs/./node_modules/base64-js/index.js","webpack://@goatlab/goatjs/./node_modules/ieee754/index.js","webpack://@goatlab/goatjs/./node_modules/isarray/index.js","webpack://@goatlab/goatjs/./src/repositories/Auth/Connectors/Loopback.js","webpack://@goatlab/goatjs/./src/models/repositories/Columns.js","webpack://@goatlab/goatjs/./src/repositories/Submission/OfflineData.js","webpack://@goatlab/goatjs/../Fluent-loki/lib/@goatlab/fluent-loki.min.js","webpack://@goatlab/goatjs/../Fluent-formio/lib/@goatlab/fluent-formio.min.js","webpack://@goatlab/goatjs/../Fluent-loopback/lib/@goatlab/fluent-loopback.min.js","webpack://@goatlab/goatjs/./src/repositories/Errors/Errors.js","webpack://@goatlab/goatjs/./src/repositories/Date/moment.js","webpack://@goatlab/goatjs/./src/repositories/Sockets/SocketsInterface.js","webpack://@goatlab/goatjs/./src/repositories/Submission/ParallelSurvey.js","webpack://@goatlab/goatjs/./node_modules/uuid/v4.js","webpack://@goatlab/goatjs/./node_modules/uuid/lib/rng-browser.js","webpack://@goatlab/goatjs/./node_modules/uuid/lib/bytesToUuid.js","webpack://@goatlab/goatjs/./src/repositories/Submission/Import.js","webpack://@goatlab/goatjs/./src/offlinePlugin/offlinePlugin.js","webpack://@goatlab/goatjs/./src/offlinePlugin/getRequest.js","webpack://@goatlab/goatjs/./src/repositories/Submission/Hash.js","webpack://@goatlab/goatjs/./src/repositories/Schedule.js"],"names":["Utilities","cloneDeep","JSON","parse","stringify","object","getLanguage","localStorage","getItem","process","env","DEFAULT_LANGUAGE","setLanguage","setItem","code","get","fn","def","e","getFromPath","obj","path","_path","includes","split","assignedName","Array","isArray","trim","undefined","fullPath","replace","filter","Boolean","map","everyFunc","step","result","every","label","value","uniqBy","arr","predicate","cb","o","reduce","item","key","has","set","Map","values","orderBy","isEmpty","length","hasOwnProperty","call","debounce","time","timeout","functionCall","apply","arguments","clearTimeout","setTimeout","deleteNulls","k","splice","eachComponent","components","includeAll","parent","forEach","component","hasColumns","columns","hasRows","rows","hasComps","noRecurse","newPath","componentMap","tree","subPath","type","column","row","matchComponent","query","matches","Object","keys","findComponents","results","push","unixDate","Math","round","Date","freeze","Fluent","model","properties","name","config","remote","connector","token","methods","appConf","forceOnline","setOffline","setOnline","local","first","localConfig","localConfigDate","getConfigDate","offlineConfigDate","offlineFiles","lastUpdated","date","clear","sure","insert","Configuration","data","fastUpdated","unix","remoteConfig","Error","compose","privatize","privatizeMethods","webpackUniversalModuleDefinition","root","factory","exports","module","define","modules","installedModules","__webpack_require__","moduleId","i","l","m","c","d","getter","defineProperty","enumerable","r","Symbol","toStringTag","t","mode","__esModule","ns","create","bind","n","getDefault","getModuleExports","property","prototype","p","s","Shortcut","isStamp","isString","isObject","isFunction","merge","assign","concat","extractFunctions","fns","standardiseDescriptor","descr","props","initializers","init","composers","deepProperties","deepProps","pd","propertyDescriptors","staticProperties","statics","staticDeepProperties","deepStatics","configuration","conf","deepConfiguration","deepConf","dp","sp","sdp","spd","staticPropertyDescriptors","dc","ii","cc","descriptor","stampit","args","arg","baseStampit","shortcuts","prop","isComposable","slice","createFactory","Stamp","options","__proto__","defineProperties","inits","initializer","returnedValue","instance","stamp","createStamp","composeFunction","composeImplementation","_compose","concatAssignFunctions","dstObject","srcArray","propName","dstArray","indexOf","combineProperties","srcObject","action","deepMergeAssign","mergeAssign","mergeComposable","dstDescriptor","srcComposable","srcDescriptor","composables","j","composer","g","Function","window","isPlainObject","mergeOne","dst","src","returnValue","srcValue","dstValue","newDst","global","_it","_it2","_interopRequireDefault","_privatize","_privatize2","default","pullForm","getModelName","getFluentConfig","FLUENT","_FLUENT_","getConnector","connectors","connectorName","getConnectorFromArray","_this","Lcon","find","_Lcon","base","_ref","_ref$token","_ref$pullForm","_ref$connectorName","_ref$path","remoteConnector","remoteConnection","_ref2","_ref2$connectorName","localConnector","merged","mergeConnector","_extends","target","source","_utilities","_utilities2","_asyncToGenerator","gen","Promise","resolve","reject","info","error","done","then","err","_toConsumableArray","arr2","from","all","avg","average","sum","acc","element","extract","chunkApply","size","callback","regeneratorRuntime","mark","_callee","totalSize","count","reducer","promiseChain","wrap","_callee$","_context","prev","next","chunks","chain","batch","console","log","abrupt","stop","collapse","chunk","unChunk","combine","array","index","_value","contains","Fx","some","val","duplicatesBy","duplicates","submission","finalKey","string","functionToCheck","toString","_typeof","iterator","constructor","_Collection","_Collection2","chainReference","whereArray","orWhereArray","selectArray","orderByArray","limitNumber","offsetNumber","populateArray","pullSize","ownerId","paginator","rawQuery","operators","id","findOne","remove","softDelete","update","updateOrCreate","findAndRemove","paginate","tableView","raw","owner","user","method","own","sent","collect","_this2","_callee2","_callee2$","_context2","select","_len","_key","prepareInput","elem","pos","jsApplySelect","_this3","_data","newElement","attribute","offset","_offset","populate","_len2","relations","_key2","skip","where","_this4","_len3","_key3","andWhere","_this5","_len4","_key4","orWhere","_this6","_len5","_key5","limit","_limit","take","pluck","keyPath","_this7","_callee3","_callee3$","_context3","extracted","_len6","_key6","jsApplyOrderBy","field","order","sort","a","b","A","B","input","cols","ArrayInsert","dataArray","_this8","_callee4","initial","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_callee4$","_context4","showProgress","t0","t1","return","finish","Event","MergeConnector","Interface","Model","_Fluent","_Fluent2","_Model","_Model2","_Interface","_Interface2","_MergeConnector","_MergeConnector2","_Event","_Event2","registerGlobalVariable","registerModel","extend","models","_ref$REMOTE_CONNECTOR","REMOTE_CONNECTORS","_ref$LOCAL_CONNECTORS","LOCAL_CONNECTORS","_ref$MERGE_CONNECTORS","MERGE_CONNECTORS","getConfig","registerConnector","ctx","deregisterConnector","_ref3","filteredConnectors","getPrototypeOf","createShortcut","param","privates","WeakMap","makeProxyFunction","proxiedFn","fields","configurable","_","opts","privateMethodNames","Privatize","newObject","methodNames","stampSymbol","for","localFx","remoteFx","localData","remoteData","prepareMergedFunctions","CustomEvent","event","params","evt","document","createEvent","bubbles","cancelable","detail","initCustomEvent","emit","text","customEvent","dispatchEvent","listen","addEventListener","removeEventListener","getModel","_id","form","delete","cardFormattedForms","tags","title","f","customIcon","icon","subtitle","modified","fromNow","actions","view","cards","FormLabels","i18n","forms","Labels","getUpdatedAt","localForms","localDate","offlineForms","Forms","remoteForms","getFastTableTemplates","fullForm","templates","FAST_TABLE_TEMPLATE","template","dataObject","Connection","online","navigator","onLine","initEventListeners","isOnline","url","APP_URL","axios","getUnsync","email","queuedForSync","unsynced","showView","timeFilter","companyFilter","classifier","Columns","getTableView","tableCols","submissions","subtract","toISOString","parameters","classifiedBy","extraFilters","resultAxios","flattenedResponse","docs","col","res","sub","page","rowsPerPage","rowsNumber","totalDocs","Form","status","sync","draft","HumanUpdated","Number","isInteger","dayjs","syncError","updated","newFx","getParallelParticipants","currentSubmission","groupId","parallelSurvey","parallelSurveyID","getParallelSurvey","parallelsurveyInfo","setParallelSurvey","getGroups","formId","formio","groups","groupName","group","getGroup","removeFromGroup","assingToGroup","submissionId","parallelData","storeLocally","localUser","isUserAlreadyStored","onlineUser","updateUser","userId","login","credentials","role","post","getRolesDate","localRoles","remoteRoles","roles","insertedRoles","rolesDate","offlineRolesDate","Roles","getFormTranslations","localTranslations","languageCode","supportedLanguages","translations","isoLanguages","getIsoLanguages","languages","iso","require","getLocalizationDate","offlineTranslations","Translations","trans","storeTranslations","appTranslations","translationsArray","lenguages","translation","language","updateLabel","newTranslations","createTranslation","en","localPages","getUpdatedDate","offlinePages","Pages","pages","submit","baseUrl","Formio","Keycloak","Loopback","hasRoleIn","hasRoleIdIn","hasRole","check","logOut","attempt","Sync","vm","syncUsers","syncSubmission","areUsersSynced","usersAreSync","unsyncSubmissions","Scheduler","isSyncing","OfflineData","send","User","getUsersToSync","users","GoatIsSyncing","Schedule","Moment","SocketsInterface","GOAT","Auth","Submission","ParallelSurvey","Translation","Import","OfflinePlugin","Role","Hash","ErrorHandler","interceptAxios","fluentFormioBaseUrl","loopbackBaseUrl","loopback","loki","SyncInterval","promises","defaultLanguage","start","handle","fetchAllLabels","labels","translationsLabels","translationLabel","allLabels","formLabels","getFormLabels","getAppLabels","appLabels","mergeLabels","getPagesLabels","pagesLabels","location","picture","labelsObject1","labelsObject2","createOrAdd","extrapolateTranslations","regex","matched","match","exec","componentLabels","formioLabelsPositions","position","tooltip","texts","html","content","test","questions","q","v","header","footer","card","milliseconds","rInterval","delay","dateNow","now","requestAnimation","requestAnimationFrame","intervalFunc","_debouncedSync","AuthInterface","localAuthenticate","username","password","hashedPassword","MD5_KEY","dbUser","userFound","isValidUser","remoteAuthenticate","response","authenticate","headers","x_jwt_token","rolesNames","catch","removeItem","roleName","rolesIds","appRoles","roleId","loginUrl","logoutUrl","serviceAccount","clientId","secretId","checkUrl","logout","fetch","body","qs","client_id","refresh_token","refreshServiceAccount","grant_type","json","access_token","loginServiceAccount","auth","offlineSubmissions","PromiseEach","startSync","offlineSubmission","sendSubmission","stopSync","remoteEndPoint","insertedData","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","LokiIndexedAdapter","appname","app","catalog","checkAvailability","closeDatabase","db","close","indexedDB","loadDatabase","dbname","appName","adapter","LokiCatalog","cat","getAppKey","loadKey","saveDatabase","dbstring","saveCallback","success","closeAfterSave","setAppKey","saveKey","deleteDatabase","deleteAppKey","deleteKey","deleteDatabasePartitions","self","getDatabaseList","str","startsWith","getAppKeys","names","idx","getKeyList","getCatalogSummary","getAllKeys","entries","oapp","okey","oval","initializeLokiCatalog","openRequest","open","onupgradeneeded","thisDB","objectStoreNames","deleteObjectStore","objectStore","createObjectStore","autoIncrement","createIndex","unique","onsuccess","onerror","transaction","store","appkey","request","usercallback","lres","getAppKeyById","requestPut","put","singleKeyRange","IDBKeyRange","only","cursor","openCursor","localdata","currObject","continue","_LokiConnector","_LokiConnector2","_Database","_Database2","_Utilities","_Utilities2","_v","_v2","_goatFluent","filterObject","prepareFilter","t2","andObject","$and","orObject","$or","globalFilter","conditionToObject","lokiOperator","getLokiOperator","operator","lokiOperators","in","nin","like","regexp","endsWith","converted","DB","getCollection","_callee5","_callee5$","_context5","_callee6","mod","_callee6$","_context6","_callee7","_callee7$","_context7","_this9","_callee8","_callee8$","_context8","_this10","_callee9","_callee9$","_context9","removeIndices","_lokijs","_lokijs2","_lokiIndexedAdapter","_lokiIndexedAdapter2","LokiReactNativeAdapter","product","Database","getModels","_create","idbAdapter","pa","dbConfig","autosave","autosaveInterval","autoload","autoloadCallback","databaseInitialize","throttledSaves","LokiPartitioningAdapter","paging","baseModels","dbModel","addCollection","shouldCreate","windowModels","dbModels","collections","collection","recreateModels","Utils","copyProperties","dest","resolveTransformObject","subObj","depth","pname","substring","resolveTransformParams","transform","clonedStep","resolvedTransform","clone","getIn","usingDotNotation","Comparators","aeq","aeqHelper","lt","ltHelper","gt","gtHelper","prop1","prop2","cv1","cv2","equal","sortHelper","desc","compoundeval","obj1","obj2","val1","val2","len","dotSubScan","paths","fun","poffset","pathOffset","valueFound","containsCheckFn","doQueryOp","op","LokiOps","$eq","$aeq","$ne","$dteq","$gt","$gte","$lt","$lte","$jgt","$jgte","$jlt","$jlte","$between","vals","$jbetween","$in","$nin","$keyin","$nkeyin","$definedin","$undefinedin","$regex","$containsString","$containsNone","$containsAny","checkFn","$contains","$type","$finite","isFinite","$size","$len","$where","$not","$exists","indexedOps","cloneMethod","cloned","jQuery","cloneObjectArray","objarray","localStorageAvailable","LokiEventEmitter","events","asyncListeners","on","eventName","listener","currentEventName","selfArgs","addListener","removeListener","listeners","Loki","filename","databaseVersion","engineVersion","autosaveHandle","persistenceMethod","persistenceAdapter","throttledSavePending","throttledCallbacks","verbose","getENV","android","NSObject","URL","ENV","configureOptions","clearChanges","getIndexedAdapter","initialConfig","defaultPersistence","persistenceMethods","LokiFsAdapter","LokiLocalStorageAdapter","LokiMemoryAdapter","autosaveDisable","parseInt","autosaveEnable","autosaveCallback","serializationMethod","destructureDelimiter","copy","databaseCopy","clen","loadJSONObject","retainDirtyFlags","removeNonSerializable","constraints","ttl","disableMeta","disableChangesApi","disableDeltaChangesApi","Collection","loadCollection","collectionName","renameCollection","oldName","newName","listCollections","colls","objType","removeCollection","tmpcol","curcol","getName","serializeReplacer","serialize","serializeDestructured","toJson","sidx","resultlen","reconstruct","dbcopy","partitioned","delimited","delimiter","partition","serializeCollection","collectionIndex","join","delim","doccount","docidx","resultlines","deserializeDestructured","destructuredSource","workarray","cdb","collIndex","collCount","lineIndex","currLine","deserializeCollection","pop","loadJSON","serializedDb","dbObject","coll","copyColl","loader","collObj","makeLoader","collOptions","inflater","proto","inflate","adaptiveBinaryIndices","transactional","cloneObjects","autoupdate","changes","dirty","addAutoUpdateObserver","maxId","idIndex","binaryIndices","transforms","ensureId","uniqueNames","ensureUniqueIndex","DynamicViews","colldv","dv","addDynamicView","resultdata","resultsdirty","filterPipeline","sortCriteria","sortFunction","sortDirty","resultset","filteredrows","filterInitialized","rematerialize","removeWhereFilters","ensureAllIndexes","autosaveDirty","generateChangesNotification","arrayOfCollectionNames","getCollName","selectedCollections","getChanges","serializeChanges","collectionNamesArray","flushChanges","hashStore","asyncResponses","asyncTimeout","saveCount","savecount","lastsave","dbref","pageIterator","pageSize","pageIndex","loadNextPartition","keyname","loadNextPage","dlen","isLastPage","exportDatabase","dirtyPartitions","saveNextPartition","shift","docIndex","saveNextPage","pageLen","cdlen","delimlen","serializedObject","pageBuilder","doneWithPartition","doneWithPage","pageSaveCallback","fs","stat","stats","isFile","readFile","encoding","readFileCallback","tmpdbname","writeFile","writeFileCallback","rename","unlink","deleteDatabaseCallback","throttledSaveDrain","getTime","recursiveWait","recursiveWaitLimit","recursiveWaitLimitDuration","started","loadDatabaseInternal","cFun","loadDatabaseCallback","dbString","parseSuccess","saveDatabaseInternal","exportDatabaseCallback","autosaveClearFlags","saveDatabasecallback","localCallbacks","unshift","pcb","save","setInterval","autosaveHandleInterval","clearInterval","Resultset","reset","toJSON","qty","prepareFullDocIndex","rscopy","branch","rs","simplesort","compoundsort","dataOptions","eqJoin","joinData","leftJoinKey","rightJoinKey","mapFun","mapReduce","mapFunction","reduceFunction","comparefun","wrappedComparer","userComparer","propname","eff","targetEff","frl","hasBinaryIndex","ensureIndex","reverse","disableIndexIntersect","useJavascriptSorting","forceIndexIntersect","fr","io","pv","findOr","expressionArray","fri","frlen","docset","idxset","origCount","ei","elen","precompileQuery","RegExp","findAnd","firstOnly","queryObject","queryObjectOp","searchByIndex","filters","doIndexCheck","rowIdx","segm","calculateRange","viewFunction","TypeError","removeMeta","forceClones","forceCloneMethod","$loki","meta","updateFunction","rcd","removeBatchByPositions","leftData","leftDataLength","rightData","rightDataLength","leftKeyisFunction","rightKeyisFunction","joinMap","left","right","DynamicView","rebuildPending","persistent","sortPriority","minRebuildInterval","cachedresultset","sortCriteriaSimple","fpl","fpi","ofp","applyFind","branchResultset","removeFilters","queueSortPhase","applySort","applySimpleSort","applySortCriteria","criteria","startTransaction","commit","rollback","_indexOfFilterWithId","uid","_addFilter","reapplyFilters","queueRebuildEvent","applyFilter","applyWhere","removeFilter","performSortPhase","suppressRebuildEvent","evaluateDocument","objIndex","isNew","ofr","oldPos","oldlen","evalResultset","newPos","removeDocument","rmidx","rmlen","rxo","fxo","adjels","drs","di","filt","exact","cachedIndex","cachedBinaryIndex","cachedData","UniqueIndex","ExactIndex","serializableIndices","age","ttlInterval","daemon","setTTL","indices","observerCallback","changedObjects","Set","add","change","removeAutoUpdateObserver","getChangeDelta","old","getObjectDelta","oldObject","propertyNames","delta","propertyName","propertyDelta","setChangesApi","enabled","deleteCallback","createChange","warning","warn","operation","insertMeta","created","revision","updateMeta","createInsertChange","createUpdateChange","insertMetaWithChange","updateMetaWithChange","observe","unobserve","addTransform","getTransform","setTransform","removeTransform","byExample","findObject","findObjects","ttlDaemonFuncGen","ttlDaemon","toRemove","daemonFilter","member","timestamp","diff","interval","indexes","force","checkAllIndexes","bIndices","checkIndex","randomSamplingFactor","randomSampling","valid","iter","biv","repair","floor","random","getBinaryIndexValues","idxvals","flagBinaryIndexesDirty","flagBinaryIndexDirty","ensureIdAsync","async","removeDynamicView","getDynamicView","findAndUpdate","updateWhere","doc","insertOne","bulkInsert","returnObj","biname","uiname","adaptiveBatchOverride","oldInternal","newInternal","adaptiveBinaryIndexUpdate","message","isNaN","version","constrUnique","addedPos","dvlen","adaptiveBinaryIndexInsert","filterFunction","removeWhere","list","removeDataOnly","positions","xo","didx","bic","uic","adaptiveOverride","adaptiveBinaryIndexRemove","removeBatch","xlt","posx","returnPosition","retpos","max","min","mid","getBinaryIndexPosition","dataPosition","binaryIndexName","range","idxPos","calculateRangeStart","removedFromIndexOnly","bi","curr","sortedPositions","adaptive","minVal","maxVal","lbound","calculateRangeEnd","ubound","lval","uval","segResult","seg","by","findOneUnindexed","leftJoinProp","rightJoinProp","stages","getStage","commitLog","stage","stageName","commitStage","no_op","isDotNotation","isDeepProperty","deepProperty","maxRecord","deep","minRecord","extractNumerical","parseBase10","stdDev","standardDeviation","dict","median","half","num","parseFloat","isNotUndefined","squareDiffs","sqrDiff","avgSquareDiff","sqrt","isDeep","pieces","binarySearch","lo","hi","compared","found","BSonSort","KeyValueStore","setSort","bs","uniqueField","keyMap","lokiMap","fieldValue","byId","exactField","idxSet","SortedIndex","sortedField","bsr","getLt","getAll","getGt","end","getPos","persistenceAdapters","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","drainQueue","run","nextTick","Item","browser","argv","versions","noop","once","off","removeAllListeners","prependListener","prependOnceListener","binding","cwd","chdir","dir","umask","_arguments","rng","bytesToUuid","v4","buf","rnds","getRandomValues","crypto","msCrypto","rnds8","Uint8Array","whatwgRNG","mathRNG","byteToHex","substr","bth","_typeof2","webpackPolyfill","deprecate","children","isBuffer","isArrayBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","buffer","isNumber","isUndefined","isDate","isBlob","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","assignValue","thisArg","utils","normalizeHeaderName","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","getDefaultAdapter","XMLHttpRequest","defaults","transformRequest","transformResponse","xsrfCookieName","xsrfHeaderName","maxContentLength","validateStatus","common","forEachMethodNoData","forEachMethodWithData","settle","buildURL","parseHeaders","isURLSameOrigin","createError","btoa","xhrAdapter","dispatchXhrRequest","requestData","requestHeaders","loadEvent","xDomain","XDomainRequest","onprogress","handleProgress","ontimeout","handleTimeout","Authorization","toUpperCase","paramsSerializer","handleLoad","readyState","responseURL","responseHeaders","getAllResponseHeaders","responseData","responseType","responseText","statusText","handleError","cookies","xsrfValue","withCredentials","read","setRequestHeader","toLowerCase","onDownloadProgress","onUploadProgress","upload","cancelToken","promise","onCanceled","cancel","abort","enhanceError","isCancel","__CANCEL__","Cancel","_FluentConnector","_FluentConnector2","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_i","_s","_awaitToJs","_awaitToJs2","_dayjs","_dayjs2","_isSameOrAfter","_isSameOrAfter2","_jwtDecode","_jwtDecode2","_axios","_axios2","_Connection","_Connection2","_AuthenticationError","_AuthenticationError2","getToken","getTokenType","decodedToken","expDate","exp","isSameOrAfter","_connector","httpGET","numberOfRows","spacer","getUrl","getHeaders","getFilters","getSkip","getOrder","getSelect","getSpacer","_ref4","httpPOST","_ref5","_ref6","httpPUT","_ref7","_ref8","_ref9","httpDelete","_ref10","_ref11","removed","_ref12","_ref13","_this11","_callee10","_callee10$","_context10","getLimit","_this12","_callee11","_callee11$","_context11","_this13","_callee12","_callee12$","_context12","filterQuery","condition","valueString","or","__webpack_exports__","to","errorExt","u","h","String","z","utcOffset","abs","year","month","ceil","M","y","w","ms","Q","$","weekdays","months","D","format","pl","locale","$L","utc","$u","$d","NaN","UTC","$y","getFullYear","$M","getMonth","$D","getDate","$W","getDay","$H","getHours","$m","getMinutes","$s","getSeconds","$ms","getMilliseconds","$utils","isValid","isSame","startOf","endOf","isAfter","isBefore","$g","day","hour","minute","second","millisecond","valueOf","toDate","$locale","weekStart","$set","daysInMonth","setDate","meridiem","YY","YYYY","MM","MMM","monthsShort","MMMM","DD","dd","weekdaysMin","ddd","weekdaysShort","dddd","H","HH","hh","mm","ss","SSS","Z","getTimezoneOffset","toUTCString","isDayjs","Ls","base64_url_decode","InvalidTokenError","atob","b64DecodeUnicode","decodeURIComponent","charCodeAt","output","chars","InvalidCharacterError","polyfill","bc","charAt","fromCharCode","Axios","createInstance","defaultConfig","context","instanceConfig","CancelToken","spread","isSlowBuffer","_isBuffer","readFloatLE","InterceptorManager","dispatchRequest","interceptors","unshiftRequestInterceptors","interceptor","fulfilled","rejected","pushResponseInterceptors","normalizedName","processHeader","encode","encodeURIComponent","serializedParams","parts","parseValue","ignoreDuplicateOf","parsed","parser","line","standardBrowserEnv","msie","userAgent","urlParsingNode","createElement","originURL","resolveURL","href","setAttribute","protocol","host","search","hash","hostname","port","pathname","requestURL","nonStandardBrowserEnv","E","block","charCode","write","expires","domain","secure","cookie","toGMTString","handlers","use","eject","forEachHandler","transformData","isAbsoluteURL","combineURLs","throwIfCancellationRequested","throwIfRequested","baseURL","cleanHeaderConfig","onAdapterResolution","onAdapterRejection","reason","relativeURL","executor","resolvePromise","promiseExecutor","_classCallCheck","Constructor","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","writable","setPrototypeOf","AuthenticationError","_Error","_LoopbackConnector","_LoopbackConnector2","_pluralize","_pluralize2","_defineProperty","currentPage","itemsPerPage","totalItemCount","remotePath","finalComponents","getForm","getTableViewComponents","Config","getPage","getPaginatorLimit","getPopulate","relation","nestedRelation","getOrderBy","related","and","deleted","encodeURI","redirect","trigger","neq","gte","lte","inq","exists","pluralize","pluralRules","singularRules","uncountables","irregularPlurals","irregularSingles","sanitizeRule","rule","restoreCase","word","interpolate","sanitizeWord","rules","replaceWord","replaceMap","keepMap","checkWord","bool","inclusive","pluralized","singular","plural","isPlural","isSingular","addPluralRule","replacement","addSingularRule","addUncountableRule","addIrregularRule","single","subscribe","getGroupId","submissionHasGroup","getNewUserWizard","getNewGroupWizard","createWizard","prepareNewUserObject","prepareNewGroupObject","createNewSurvey","assignSelfId","progressSteps","steps","$t","inputValidator","participantName","nextParticipant","surveyData","file","reader","FileReader","onload","theFile","ex","parseJson","readAsText","getFormIOInstance","each","prepareSubmission","saveSubmission","imported","$swal","$eventHub","formSubmission","OFFLINE_PLUGIN","plugin","priority","preRequest","GetRequest","staticRequest","handleExternalAPI","handleLocalForm","handleInternalResource","formID","hashed","_every","_debouncedCallback"],"mappings":"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;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,aAAa;AACxB,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mCAAmC,OAAO;AAC1C;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,SAAS,GAAG,SAAS;AAC5C,2BAA2B;AAC3B;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,uCAAuC,OAAO;AAC9C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AC9SA;;AACA;;;;AACA;;;;;;;;AACA;AACA;AACA;kBACeqG,mBAAOC,KAAP,CAAa;AAC1BC,cAAY;AACVC,UAAM,eADI;AAEVC,YAAQ;AACNC,cAAQ;AACNC,mBAAW,cADL;AAENC,eAAO;AAFD;AADF;AAFE,GADc;AAU1BC,W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AAW;AACpC,YAAY,mBAAO,CAAC,EAAS;;AAE7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,cAAc;;AAEjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;;;;;;;;;;;;;AC/JD;;;;;;kBAEe,kBAAQ;AACrBlK,WAAS;AACPmR,QADO,kBACA;AACL,YAAM,IAAI7P,KAAJ,CAAU,iDAAV,CAAN;AACD,KAHM;AAIP0b,SAJO,mBAIC;AACN,YAAM,IAAI1b,KAAJ,CAAU,kDAAV,CAAN;AACD,KANM;AAOPsiB,aAPO,uBAOK;AACV,YAAM,IAAItiB,KAAJ,CAAU,sDAAV,CAAN;AACD,KATM;AAUPuiB,eAVO,yBAUO;AACZ,YAAM,IAAIviB,KAAJ,CAAU,wDAAV,CAAN;AACD,KAZM;AAaPwiB,WAbO,qBAaG;AACR,YAAM,IAAIxiB,KAAJ,CAAU,oDAAV,CAAN;AACD,KAfM;AAgBPyiB,SAhBO,mBAgBC;AACN,YAAM,IAAIziB,KAAJ,CAAU,kDAAV,CAAN;AACD,KAlBM;AAmBP0iB,UAnBO,oBAmBE;AACP,YAAM,IAAI1iB,KAAJ,CAAU,mDAAV,CAAN;AACD,KArBM;AAsBP2iB,WAtBO,mBAsBClD,WAtBD,EAsBcyC,OAtBd,EAsBuBxC,IAtBvB,EAsB6B;AAClC,YAAM,IAAI1f,KAAJ,CAAU,yDAAV,CAAN;AACD;AAxBM;AADY,CAAR,C;;;;;;ACFf;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA;AACA,4BAA4B,UAAU;;;;;;;;;;;;;;;;ACvLtC;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;AAEA,IAAI4iB;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACF;;;;AADE;AAAA,0FAKgBC,EALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAMMD,KAAKE,SAAL,EANN;;AAAA;AAAA,qBAQI,sBAAOtkB,SAAP,GAAmBikB,KAAnB,EARJ;AAAA;AAAA;AAAA;;AAAA;AAAA,uBASQG,KAAKG,cAAL,CAAoBF,EAApB,CATR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAYF;;;;;;AAZE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAkByBD,KAAKI,cAAL,EAlBzB;;AAAA;AAkBIC,4BAlBJ;;AAAA,oBAoBKA,YApBL;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,uBAwB8B,4BAAaxH,SAAb,EAxB9B;;AAAA;AAwBIyH,iCAxBJ;AAAA;AAAA,uBA0BsBC,oBAAUC,SAAV,EA1BtB;;AAAA;AA0BIA,yBA1BJ;;;AA4BA,oBAAIF,kBAAkB9nB,MAAlB,GAA2B,CAA3B,IAAgC,CAACgoB,SAArC,EAAgD;AAC9CC,wCAAYC,IAAZ,CAAiBJ,iBAAjB;AACD;;AA9BD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAgCF;;;;AAhCE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAoCaK,eAAKxkB,KAAL,GACVyS,KADU,CACJ,MADI,EACI,GADJ,EACS,KADT,EAEVI,QAFU,CAED,eAFC,EAEgB,GAFhB,EAEqB,KAFrB,EAGVA,QAHU,CAGD,WAHC,EAGY,GAHZ,EAGiB,KAHjB,EAIVhZ,GAJU,EApCb;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AA0CF;;;;AA1CE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBA8CkBgqB,KAAKY,cAAL,EA9ClB;;AAAA;AA8CIC,qBA9CJ;AAAA,kDAgDO,CAAC,CAACA,KAAF,IAAWlqB,MAAMC,OAAN,CAAciqB,KAAd,CAAX,IAAmCA,MAAMroB,MAAN,KAAiB,CAhD3D;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAkDF;;;;;AAlDE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAuDkBwnB,KAAKY,cAAL,EAvDlB;;AAAA;AAuDIC,qBAvDJ;AAAA;AAAA,uBAyDsBN,oBAAUC,SAAV,EAzDtB;;AAAA;AAyDIA,yBAzDJ;;;AA2DA,oBAAI7pB,MAAMC,OAAN,CAAciqB,KAAd,KAAwBA,MAAMroB,MAAN,GAAe,CAAvC,IAA4C,CAACgoB,SAAjD,EAA4D;AAC1DC,wCAAYP,SAAZ,CAAsBW,KAAtB;AACD;;AA7DD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,GAAJ;;kBAiEeb,I;;;;;;;ACvEF;;AAEb;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;ACVa;;AAEb,YAAY,mBAAO,CAAC,CAAY;AAChC,aAAa,mBAAO,CAAC,EAAkB;AACvC,eAAe,mBAAO,CAAC,EAAuB;AAC9C,mBAAmB,mBAAO,CAAC,EAA2B;AACtD,sBAAsB,mBAAO,CAAC,EAA8B;AAC5D,kBAAkB,mBAAO,CAAC,EAAqB;;AAE/C;AACA;AACA;AACA;;AAEA;AACA,4CAA4C;AAC5C;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAoB,mBAAO,CAAC,EAAsB;;AAElD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;;;;;;;ACjKa;;AAEb,mBAAmB,mBAAO,CAAC,EAAgB;;AAE3C;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;;;;;;;ACjBa;;AAEb;AACA;AACA;;;;;;;;ACJa;;AAEb;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;;;;;;AClBA,cAAc,mBAAO,CAAC,EAAiB;AACvC,iBAAiB,mBAAO,CAAC,EAAoB;AAC7C,eAAe,mBAAO,CAAC,EAAkB;AACzC,cAAc,mBAAO,CAAC,EAAiB;AACvC,mBAAmB,mBAAO,CAAC,EAAsB;;AAEjD,aAAa,mBAAO,CAAC,EAAoB;AACzC,YAAY,mBAAO,CAAC,EAAmB;;AAEvC;;AAEA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA,eAAe,+BAA+B;;AAE9C;AACA;AACA,qEAAqE;;AAErE;;AAEA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA,WAAW,0DAA0D;AACrE;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,WAAW,WAAW,eAAe;AACrC,WAAW,QAAQ;AACnB,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,WAAW;AACtB,WAAW,WAAW;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,SAAS;AACtB,WAAW,gBAAgB;AAC3B,aAAa,MAAM;AACnB;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,sBAAsB;AACzC;AACA,oCAAoC,uCAAuC;AAC3E;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA,aAAa,gBAAgB;AAC7B,aAAa,MAAM;AACnB,cAAc,OAAO;AACrB,cAAc,gBAAgB;AAC9B,cAAc,gBAAgB;AAC9B,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB,cAAc,OAAO;AACrB;;AAEA;AACA;AACA,aAAa,SAAS;AACtB,aAAa,EAAE;AACf,cAAc,WAAW;AACzB;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;;;;;;;;AC5LA;;;;;;;ACAA,iBAAiB,mBAAO,CAAC,EAAY;;AAErC;AACA;AACA;;;;;;;ACJA;;;;;;;ACAA,oBAAoB,mBAAO,CAAC,EAAwB;AACpD,eAAe,mBAAO,CAAC,EAAkB;AACzC,cAAc,mBAAO,CAAC,EAAiB;;AAEvC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,iBAAiB;AAClC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;;;;;;;AClDA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,iCAAiC,gBAAgB;AACjD;AACA;AACA,KAAK;;AAEL;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChCa;;AAEb;AACA;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;;AAEA;AACA,CAAC;;AAED;AACA;AACA;AACA;;AAEA;AACA;;AAEA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,iDAAiD,EAAE;AACnD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,kDAAkD,EAAE;AACpD;AACA,SAAS;AACT;;AAEA;AACA,mBAAmB,mBAAmB;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;A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A,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA,kCAAkC,cAAc;AAChD;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA,KAAK;AACL;AACA,CAAC;;AAED;AACA;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA,KAAK;AACL;AACA,CAAC;;AAED;;;;;;;;AC9Ea;;AAEb,YAAY,mBAAO,CAAC,CAAU;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACXa;;AAEb,kBAAkB,mBAAO,CAAC,EAAe;;AAEzC;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACzBa;;AAEb;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACpBa;;AAEb,YAAY,mBAAO,CAAC,CAAY;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;;;ACjEa;;AAEb,YAAY,mBAAO,CAAC,CAAY;;AAEhC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,eAAe;;AAEhC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;ACpDa;;AAEb,YAAY,mBAAO,CAAC,CAAY;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,gBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAc,OAAO;AACrB,gBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;;;;;;ACnEa;;AAEb,YAAY,mBAAO,CAAC,CAAY;;AAEhC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,wCAAwC;AACxC,OAAO;;AAEP;AACA,0DAA0D,wBAAwB;AAClF;AACA,OAAO;;AAEP;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,gCAAgC;AAChC,6BAA6B,aAAa,EAAE;AAC5C;AACA;AACA,GAAG;AACH;;;;;;;;ACpDa;;AAEb,YAAY,mBAAO,CAAC,CAAY;;AAEhC;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB;AACA,YAAY,OAAO;AACnB;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;;;;;;;;ACnDa;;AAEb,YAAY,mBAAO,CAAC,CAAY;AAChC,oBAAoB,mBAAO,CAAC,EAAiB;AAC7C,eAAe,mBAAO,CAAC,EAAoB;AAC3C,eAAe,mBAAO,CAAC,EAAa;AACpC,oBAAoB,mBAAO,CAAC,EAA4B;AACxD,kBAAkB,mBAAO,CAAC,EAA0B;;AAEpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B;AAC/B,uCAAuC;AACvC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;;;;;;;ACrFa;;AAEb,YAAY,mBAAO,CAAC,CAAY;;AAEhC;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,MAAM;AACjB,WAAW,eAAe;AAC1B,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;;;;;;;ACnBa;;AAEb;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACba;;AAEb;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACba;;AAEb,aAAa,mBAAO,CAAC,EAAU;;AAE/B;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACxDa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;;;;;;AC1BA;AACA;AACA;AACA,iBAAiB,mBAAO,CAAC,EAAU;;;;;;;ACHnC;AACA;AACA;AACA;;;;;;;ACHA,cAAc,mBAAO,CAAC,EAAgB;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,CAAC;;;;;;;AClDD;AACA;AACA;;;;;;;;;;;;;;ACFA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;AANA;;;kBAQekD,wBAAc9nB,OAAd,CAAsB;AACnCvB,WAAS;AACP;;;;;;AAMMspB,qBAPC,6BAOiBvI,WAPjB,EAO8B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3BwI,wBAD2B,GACJxI,WADI,CAC3BwI,QAD2B,EACjBC,QADiB,GACJzI,WADI,CACjByI,QADiB;AAAA;AAAA,uBAEhBvoB,wBAAcZ,KAAd,GAAsBC,KAAtB,EAFgB;;AAAA;AAE/BV,sBAF+B;;;AAInC;AACM6pB,8BAL6B,GAKZ,kBAAID,QAAJ,EAAc5pB,OAAO8pB,OAArB,CALY;;AAOnC;;AAPmC;AAAA,uBAQhB7E,eAAKxkB,KAAL,GAChByS,KADgB,CACV,eADU,EACO,GADP,EACYyW,QADZ,EAEhBrvB,GAFgB,EARgB;;AAAA;AAQ/ByvB,sBAR+B;AAW/BC,yBAX+B,GAWnBD,UAAUA,OAAO,CAAP,CAAV,GAAsBA,OAAO,CAAP,CAAtB,GAAkC3uB,SAXf;;AAAA,oBAa9B4uB,SAb8B;AAAA;AAAA;AAAA;;AAAA,sBAc3B,IAAItoB,KAAJ,EAd2B;;AAAA;AAgBnC;AACMuoB,2BAjB6B,GAiBfD,UAAU1oB,IAAV,CAAeuoB,cAAf,KAAkCA,cAjBnB;;AAAA,oBAmB9BI,WAnB8B;AAAA;AAAA;AAAA;;AAAA,sBAoB3B,IAAIvoB,KAAJ,EApB2B;;AAAA;AAAA,iDAuB5BsoB,SAvB4B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwBpC,KA/BM;;AAgCP;;;;;;;AAOME,sBAvCC,8BAuCkB/I,WAvClB,EAuC+BC,IAvC/B,EAuCqC;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACrB6D,eAAK/D,KAAL,CAAW,EAAEC,aAAaA,WAAf,EAA4BC,MAAMA,IAAlC,EAAX,CADqB;;AAAA;AACtC+I,wBADsC;AAEtC5Y,oBAFsC,GAE/B4Y,SAAS7oB,IAFsB;AAAA;AAAA,uBAIpC2jB,eAAKjE,UAAL,CAAgBzP,IAAhB,CAJoC;;AAAA;AAAA,kDAKnC4Y,QALmC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAM3C,KA7CM;;AA8CP;;;;;;;AAOMC,gBArDC,wBAqDYjJ,WArDZ,EAqDyBC,IArDzB,EAqD+B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACf1E,qBAAWK,QAAX,EADe;;AAAA;AAChCA,wBADgC;;AAAA,qBAGhCA,QAHgC;AAAA;AAAA;AAAA;;AAAA,kDAI3B,OAAKmN,kBAAL,CAAwB/I,WAAxB,EAAqCC,IAArC,CAJ2B;;AAAA;AAAA,kDAM7B,OAAKsI,iBAAL,CAAuBvI,WAAvB,CAN6B;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOrC,KA5DM;;AA6DP;;;;;;;AAOAkD,WApEO,mBAoEClD,WApED,EAoEcC,IApEd,EAoEoB;AAAA;;AACzBA,aAAOA,QAAQ,MAAf;;AAEA,aAAO,IAAIpV,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,eAAKke,YAAL,CAAkBjJ,WAAlB,EAA+BC,IAA/B;AACE;AADF,SAEG9U,IAFH;AAAA,6EAEQ,kBAAO6d,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACAE,2BADA,GACUF,SAASE,OAAT,IAAoB,EAD9B;AAEA9Y,wBAFA,GAEO4Y,SAAS7oB,IAFhB;AAGJ;;AAEAiQ,yBAAK+Y,WAAL,GAAmBD,QAAQ,aAAR,CAAnB;AACA;;AAEA;AACAvwB,iCAAaM,OAAb,CAAqB,UAArB,EAAiCX,KAAKE,SAAL,CAAe4X,IAAf,CAAjC;AACAzX,iCAAaM,OAAb,CAAqB,aAArB,EAAoCiwB,QAAQ,aAAR,CAApC;AACA;AAXI;AAAA,2BAYctE,eAAKtlB,KAAL,GAAaC,KAAb,EAZd;;AAAA;AAYA+gB,yBAZA;;;AAcJlQ,yBAAKgZ,UAAL,GAAkB,EAAlB;AACArrB,2BAAOC,IAAP,CAAYsiB,KAAZ,EAAmBzjB,OAAnB,CAA2B,UAACzB,GAAD,EAAS;AAClC,0BAAIA,QAAQ,OAAR,IAAmBA,QAAQ,KAA3B,IAAoCA,QAAQ,MAAhD,EAAwD;AACtD,4BAAIgV,KAAKkQ,KAAL,IAAclQ,KAAKkQ,KAAL,CAAWzZ,OAAX,CAAmByZ,MAAMllB,GAAN,EAAWoe,GAA9B,MAAuC,CAAC,CAA1D,EAA6D;AAC3DpJ,+BAAKgZ,UAAL,CAAgBjrB,IAAhB,CAAqBmiB,MAAMllB,GAAN,CAArB;AACD;AACF;AACF,qBAND;;AAQAzC,iCAAaM,OAAb,CAAqB,UAArB,EAAiCX,KAAKE,SAAL,CAAe4X,IAAf,CAAjC;;AAEAtF,4BAAQsF,IAAR;;AAzBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAFR;;AAAA;AAAA;AAAA;AAAA;AA6BE;AA7BF,SA8BGiZ,KA9BH,CA8BS,UAACpe,KAAD,EAAW;AAChBgC,kBAAQC,GAAR,CAAY,+BAAZ;AACAnC,iBAAOE,KAAP;AACD,SAjCH;AAkCD,OAnCM,CAAP;AAoCD,KA3GM;;AA4GP;;;;;AAKAmF,QAjHO,kBAiHA;AACL,UAAI;AACF,YAAIA,OAAO9X,KAAKC,KAAL,CAAWI,aAAaC,OAAb,CAAqB,UAArB,CAAX,CAAX;;AAEA,eAAOwX,SAAS,IAAT,GAAgB,KAAhB,GAAwBA,IAA/B;AACD,OAJD,CAIE,OAAO9W,CAAP,EAAU;AACVX,qBAAa2wB,UAAb,CAAwB,UAAxB;AACA,eAAO,KAAP;AACD;AACF,KA1HM;;AA2HP;;;;;AAKArN,SAhIO,mBAgIC;AACN,UAAIA,QAAQ,EAAZ;;AAEA,UAAI,KAAK7L,IAAL,MAAe,KAAKA,IAAL,GAAYjQ,IAA3B,IAAmC,KAAKiQ,IAAL,GAAYjQ,IAAZ,CAAiB8b,KAAxD,EAA+D;AAC7DA,gBAAQ,KAAK7L,IAAL,GAAYjQ,IAAZ,CAAiB8b,KAAzB;AACD,OAFD,MAEO,IAAI,KAAK7L,IAAL,MAAe,KAAKA,IAAL,GAAY6L,KAA/B,EAAsC;AAC3CA,gBAAQ,KAAK7L,IAAL,GAAY6L,KAApB;AACD;AACD,aAAOA,KAAP;AACD,KAzIM;;AA0IP;;;;;;AAMA8G,WAhJO,mBAgJCwG,QAhJD,EAgJW;AAChB,UAAInZ,OAAO9X,KAAKC,KAAL,CAAWI,aAAaC,OAAb,CAAqB,UAArB,CAAX,CAAX;;AAEAwX,aAAOA,SAAS,IAAT,GAAgB,KAAhB,GAAwBA,IAA/B;;AAEA,UAAI3V,SAAS2V,KAAKgZ,UAAL,CAAgB7f,IAAhB,CAAqB,UAAC1H,CAAD,EAAO;AACvC,eAAOA,EAAEgY,KAAF,KAAY0P,QAAnB;AACD,OAFY,CAAb;;AAIA,aAAO,OAAO9uB,MAAP,KAAkB,WAAzB;AACD,KA1JM;;AA2JP;;;;;;;AAOAooB,aAlKO,qBAkKGvC,KAlKH,EAkKU;AAAA;;AACf,UAAI,CAACA,KAAD,IAAUloB,oBAAUsD,OAAV,CAAkB4kB,KAAlB,CAAd,EAAwC;AACtC,eAAO,IAAP;AACD;AACD,aAAOA,MAAMxS,IAAN,CAAW,UAACmS,IAAD,EAAU;AAC1B,eAAO,OAAK8C,OAAL,CAAa9C,IAAb,KAAsBA,SAAS,eAAtC;AACD,OAFM,CAAP;AAGD,KAzKM;;AA0KP;;;;;;AAMM6C,eAhLC,uBAgLW0G,QAhLX,EAgLqB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACtB,CAACA,QAAD,IAAapxB,oBAAUsD,OAAV,CAAkB8tB,QAAlB,CADS;AAAA;AAAA;AAAA;;AAAA,kDAEjB,IAFiB;;AAAA;AAAA;AAAA,uBAIL5E,eAAKtlB,KAAL,GAAaC,KAAb,EAJK;;AAAA;AAItBkqB,wBAJsB;AAMtBnJ,qBANsB,GAMdkJ,SAAStuB,MAAT,CAAgB,UAACqR,OAAD,EAAUmd,MAAV,EAAqB;AAC/C3rB,yBAAOC,IAAP,CAAYyrB,QAAZ,EAAsB5sB,OAAtB,CAA8B,UAAUojB,IAAV,EAAgB;AAC5C,wBAAIwJ,SAASxJ,IAAT,KAAkBwJ,SAASxJ,IAAT,EAAezG,GAAjC,IAAwCiQ,SAASxJ,IAAT,EAAezG,GAAf,KAAuBkQ,MAAnE,EAA2E;AACzEnd,8BAAQpO,IAAR,CAAasrB,SAASxJ,IAAT,EAAepG,KAA5B;AACD;AACF,mBAJD;AAKA,yBAAOtN,OAAP;AACD,iBAPW,EAOT,EAPS,CANc;AAAA,kDAenB+T,MAAMxS,IAAN,CAAW,UAACmS,IAAD,EAAU;AAC1B,yBAAO,OAAK8C,OAAL,CAAa9C,IAAb,KAAsBA,SAAS,eAAtC;AACD,iBAFM,CAfmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkB3B,KAlMM;;AAmMP;;;;;AAKA+C,SAxMO,mBAwMC;AACN,UAAI5S,OAAO9X,KAAKC,KAAL,CAAWI,aAAaC,OAAb,CAAqB,UAArB,CAAX,CAAX;;AAEA,aAAO,CAAC,CAACwX,IAAF,IAAU,CAAC,CAACA,KAAK+Y,WAAxB;AACD,KA5MM;;AA6MP;;;;AAIMlG,UAjNC,oBAiNQ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACPtqB,aAAa2wB,UAAb,CAAwB,UAAxB,CADO;;AAAA;AAAA;AAAA,uBAEP3wB,aAAa2wB,UAAb,CAAwB,aAAxB,CAFO;;AAAA;AAAA;AAAA,uBAGP3wB,aAAa2wB,UAAb,CAAwB,YAAxB,CAHO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAId;AArNM;AAD0B,CAAtB,C;;;;;;ACTf;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB,cAAc;AACnC;AACA;AACA,KAAK;;AAEL;AACA;AACA,0BAA0B,OAAO;AACjC;AACA;AACA,KAAK;;AAEL;AACA;AACA,wCAAwC,kBAAkB;AAC1D;AACA;AACA,KAAK;;AAEL;AACA;AACA,iCAAiC,uBAAuB;AACxD;AACA;AACA,KAAK;;AAEL;AACA;AACA,+BAA+B,kBAAkB;AACjD;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,iCAAiC,gBAAgB;AACjD;AACA;AACA,KAAK;;AAEL;AACA;AACA,kCAAkC,kBAAkB;AACpD;AACA,uBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,CAAC;;;;;;;;;;;;;;AC/FD;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;kBAEehB,wBAAc9nB,OAAd,CAAsB;AACnCmD,MADmC,sBACjB;AAAA,QAAX8e,OAAW,QAAXA,OAAW;;AAChB,SAAK5G,GAAL,CAAS4G,OAAT,GAAmBA,OAAnB;AACD,GAHkC;;AAInC9jB,cAAY;AACVkd,SAAK;AACH4G,eAASxoB,SADN;AAEH0vB,gBAAU,6CAFP;AAGHC,iBAAW;AAHR,KADK;AAMVC,oBAAgB;AACdC,gBAAU,aADI;AAEdC,gBAAU;AAFI;AANN,GAJuB;AAenC9qB,WAAS;AACP+qB,YADO,sBACI;AACT,UAAI,KAAKnO,GAAL,CAAS4G,OAAb,EAAsB,OAAO,KAAK5G,GAAL,CAAS4G,OAAhB;;AAEtB,YAAM,IAAIliB,KAAJ,CAAU,qCAAV,CAAN;AACD,KALM;AAMD0pB,UANC,oBAMQ;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACPpO,mBADO,QACE,MAAKA,GAAL,CAAS4G,OADX,GACqB,MAAK5G,GAAL,CAAS8N,QAD9B;AAAA;AAAA,uBAEQO,MACnBrO,GADmB,EAEnB;AACExL,0BAAQ,MADV;AAEE8Z,wBAAMC,aAAG5xB,SAAH,CAAa;AACjB6xB,+BAAW,MAAKR,cAAL,CAAoBC,QADd;AAEjBQ,mCAAe3xB,aAAaC,OAAb,CAAqB,cAArB;AAFE,mBAAb,CAFR;AAMEswB,2BAAS;AACP,oCAAgB,iDADT;AAEP,iDAA2BvwB,aAAaC,OAAb,CAAqB,OAArB;AAFpB;AANX,iBAFmB,CAFR;;AAAA;AAEP6B,sBAFO;;;AAiBb9B,6BAAa2wB,UAAb,CAAwB,OAAxB;AACA3wB,6BAAa2wB,UAAb,CAAwB,cAAxB;;AAlBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBd,KAzBM;AA0BDiB,yBA1BC,mCA0BuB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACtB1O,mBADsB,QACb,OAAKA,GAAL,CAAS4G,OADI,GACM,OAAK5G,GAAL,CAAS8N,QADf;AAAA;AAAA,uBAERO,MAClBrO,GADkB,EAElB;AACExL,0BAAQ,MADV;AAEE8Z,wBAAMC,aAAG5xB,SAAH,CAAa;AACjB6xB,+BAAW,OAAKR,cAAL,CAAoBC,QADd;AAEjBU,gCAAY,eAFK;AAGjBF,mCAAe3xB,aAAaC,OAAb,CAAqB,cAArB;AAHE,mBAAb,CAFR;AAOEswB,2BAAS;AACP,oCAAgB;AADT;AAPX,iBAFkB,CAFQ;;AAAA;AAEtBrrB,qBAFsB;AAAA;AAAA,uBAiBPA,MAAM4sB,IAAN,EAjBO;;AAAA;AAiBtBhwB,sBAjBsB;;;AAmB5B9B,6BAAaM,OAAb,CAAqB,OAArB,EAA8BwB,OAAOiwB,YAArC;AACA/xB,6BAAaM,OAAb,CAAqB,cAArB,EAAqCwB,OAAO6vB,aAA5C;;AApB4B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqB7B,KA/CM;AAgDDK,uBAhDC,iCAgDqB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACpB9O,mBADoB,QACX,OAAKA,GAAL,CAAS4G,OADE,GACQ,OAAK5G,GAAL,CAAS8N,QADjB;AAEpBiB,oBAFoB,GAEb,oBAAQ,OAAKf,cAAL,CAAoBC,QAA5B,SAAwC,OAAKD,cAAL,CAAoBE,QAA5D,CAFa;AAAA;AAAA,uBAGRG,MAChBrO,GADgB,EAEhB;AACExL,0BAAQ,MADV;AAEE8Z,wBAAMC,aAAG5xB,SAAH,CAAa;AACjB,kCAAc;AADG,mBAAb,CAFR;AAKE0wB,2BAAS;AACP,gDAA0B0B,IADnB;AAEP,oCAAgB;AAFT;AALX,iBAFgB,CAHQ;;AAAA;AAGtB/sB,qBAHsB;AAAA;AAAA,uBAiBLA,MAAM4sB,IAAN,EAjBK;;AAAA;AAiBpBhwB,sBAjBoB;;;AAmB1B9B,6BAAaM,OAAb,CAAqB,OAArB,EAA8BwB,OAAOiwB,YAArC;AACA/xB,6BAAaM,OAAb,CAAqB,cAArB,EAAqCwB,OAAO6vB,aAA5C;;AApB0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAqB3B,KArEM;AAsEDpH,WAtEC,mBAsEOlD,WAtEP,EAsEoBC,IAtEpB,EAsE0B;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAC/BhT,wBAAQC,GAAR,CAAY,OAAK2O,GAAjB;AAD+B;AAAA,uBAEzB,OAAK8O,mBAAL,EAFyB;;AAAA;AAAA,kDAIxB,OAAKd,cAJmB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKhC;AA3EM;AAf0B,CAAtB,C;;;;;;;ACNF;;AAEb,gBAAgB,mBAAO,CAAC,EAAa;AACrC,YAAY,mBAAO,CAAC,EAAS;AAC7B,cAAc,mBAAO,CAAC,EAAW;;AAEjC;AACA;AACA;AACA;AACA;;;;;;;;ACVa;;AAEb,YAAY,mBAAO,CAAC,EAAS;AAC7B,cAAc,mBAAO,CAAC,EAAW;AACjC;;AAEA;AACA,yCAAyC;AACzC;AACA,KAAK;AACL;AACA,4CAA4C;AAC5C;AACA,KAAK;AACL,qCAAqC;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,mBAAmB,oBAAoB;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,2CAA2C;AAC3C;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;AC5Qa;;AAEb,YAAY,mBAAO,CAAC,EAAS;;AAE7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gCAAgC;AAChC;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,wCAAwC,gCAAgC;;AAExE;AACA,uCAAuC;;AAEvC;AACA;AACA;AACA;AACA;AACA,uBAAuB;AACvB;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA;;AAEA,eAAe,kBAAkB;AACjC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,kCAAkC,QAAQ;AAC1C;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,uBAAuB;AACvB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;;AAEA;AACA;;;;;;;ACjPA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA,CAAC;;;;;;;;;AChBD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEY;;AAEZ,aAAa,mBAAO,CAAC,EAAW;AAChC,cAAc,mBAAO,CAAC,EAAS;AAC/B,cAAc,mBAAO,CAAC,EAAS;;AAE/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,mDAAmD;AACxE;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,UAAU;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,uCAAuC,SAAS;AAChD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;AACA,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gDAAgD,EAAE;AAClD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,wBAAwB,eAAe;AACvC;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,wBAAwB,QAAQ;AAChC;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,mBAAmB,cAAc;AACjC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA,uDAAuD,OAAO;AAC9D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAqB,QAAQ;AAC7B;AACA;AACA,GAAG;AACH;AACA,eAAe,SAAS;AACxB;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,eAAe,iBAAiB;AAChC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,YAAY;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB,gBAAgB;AACjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;;;;;;AC5vDA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;ACnBY;;AAEZ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kCAAkC,SAAS;AAC3C;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAqB,SAAS;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0CAA0C,UAAU;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;ACtJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA;AACA,QAAQ,WAAW;;AAEnB;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AA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","file":"@goatlab/goatjs.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"@goatlab/goatjs\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@goatlab/goatjs\"] = factory();\n\telse\n\t\troot[\"@goatlab/goatjs\"] = factory();\n})(this, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 40);\n","/* eslint-disable no-unused-vars */\nlet Utilities = (() => {\n  /**\n   * Deep clones a JS object using JSON.parse\n   * This function will not clone object\n   * functions\n   * @param {Object} object\n   */\n  const cloneDeep = object => {\n    return JSON.parse(JSON.stringify(object));\n  };\n  /**\n   * Gets default language stored in local database\n   * @returns {string} language code (ie. en)\n   */\n  const getLanguage = () => {\n    return localStorage.getItem('defaultLanguage') || process.env.DEFAULT_LANGUAGE;\n  };\n  /**\n   * Stores language as default in local database\n   * @param {String} code \n   */\n  const setLanguage = code => {\n    localStorage.setItem('defaultLanguage', code);\n  };\n  /**\n   * Given an Object and its path, if exisits it will\n   * return the value of it, if not the default\n   * @param {Object} obj\n   * @param {String} path\n   * @param {*} def\n   */\n  const get = (fn, def) => {\n    try {\n      return fn();\n    } catch (e) {\n      return def;\n    }\n  };\n  /**\n   *\n   * @param {*} obj\n   * @param {*} path\n   * @param {*} def\n   */\n  const getFromPath = (obj, path, def) => {\n    let _path = path;\n\n    if (path.includes(' as ')) {\n      path = path.split(' as ');\n      _path = path[0];\n    }\n\n    let assignedName = get(() => {\n      return Array.isArray(path) && path[1].trim();\n    }, undefined);\n\n    let fullPath = _path\n      .replace(/\\[/g, '.')\n      .replace(/]/g, '')\n      .split('.')\n      .filter(Boolean)\n      .map(e => e.trim());\n\n    function everyFunc (step) {\n      return !(step && (obj = obj[step]) === undefined);\n    }\n\n    let result = fullPath.every(everyFunc) ? obj : def;\n\n    return { label: assignedName || _path, value: result };\n  };\n  /**\n   *\n   * @param {*} arr\n   * @param {*} predicate\n   */\n  const uniqBy = (arr, predicate) => {\n    const cb = typeof predicate === 'function' ? predicate : o => o[predicate];\n\n    return [\n      ...arr\n        .reduce((map, item) => {\n          const key = cb(item);\n\n          map.has(key) || map.set(key, item);\n\n          return map;\n        }, new Map())\n        .values()\n    ];\n  };\n  /**\n   *\n   */\n  const orderBy = () => {};\n  /**\n   *\n   * @param {*} value\n   */\n  const isEmpty = value => {\n    if (!value) {\n      return true;\n    }\n    if (Array.isArray(value) || typeof value === 'string') {\n      return !value.length;\n    }\n    for (let key in value) {\n      if (hasOwnProperty.call(value, key)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  /**\n   *\n   * @param {*} fn\n   * @param {*} time\n   */\n  const debounce = (fn, time) => {\n    let timeout;\n\n    return function () {\n      const functionCall = () => fn.apply(this, arguments);\n\n      clearTimeout(timeout);\n      timeout = setTimeout(functionCall, time);\n    };\n  };\n  /**\n   * Recursively removes all NULL values\n   * from an Object or an Array\n   *\n   * @static\n   * @param {Array|Object} object Array, Object to clean\n   * @returns {Array|Object} returns the cleaned value\n   */\n  const deleteNulls = object => {\n    let obj = object;\n    var isArray = obj instanceof Array;\n\n    for (let k in obj) {\n      if (obj[k] === null) isArray ? obj.splice(k, 1) : delete obj[k];\n      else if (typeof obj[k] === 'object') deleteNulls(obj[k]);\n    }\n    return obj;\n  };\n\n  const eachComponent = (components, fn, includeAll, path, parent) => {\n    if (!components) return;\n    path = path || '';\n    components.forEach(component => {\n      if (!component) {\n        return;\n      }\n      const hasColumns = component.columns && Array.isArray(component.columns);\n      const hasRows = component.rows && Array.isArray(component.rows);\n      const hasComps =\n        component.components && Array.isArray(component.components);\n      let noRecurse = false;\n      const newPath = component.key ?\n        path ?\n          `${path}.${component.key}` :\n          component.key :\n        '';\n\n      // Keep track of parent references.\n      if (parent) {\n        // Ensure we don't create infinite JSON structures.\n        component.parent = { ...parent };\n        delete component.parent.components;\n        delete component.parent.componentMap;\n        delete component.parent.columns;\n        delete component.parent.rows;\n      }\n\n      if (\n        includeAll ||\n        component.tree ||\n        (!hasColumns && !hasRows && !hasComps)\n      ) {\n        noRecurse = fn(component, newPath);\n      }\n\n      const subPath = () => {\n        if (\n          component.key &&\n          ![\n            'panel',\n            'table',\n            'well',\n            'columns',\n            'fieldset',\n            'tabs',\n            'form'\n          ].includes(component.type) &&\n          (['datagrid', 'container', 'editgrid'].includes(component.type) ||\n            component.tree)\n        ) {\n          return newPath;\n        } else if (component.key && component.type === 'form') {\n          return `${newPath}.data`;\n        }\n        return path;\n      };\n\n      if (!noRecurse) {\n        if (hasColumns) {\n          component.columns.forEach(column =>\n            eachComponent(\n              column.components,\n              fn,\n              includeAll,\n              subPath(),\n              parent ? component : null\n            )\n          );\n        } else if (hasRows) {\n          component.rows.forEach(row => {\n            if (Array.isArray(row)) {\n              row.forEach(column =>\n                eachComponent(\n                  column.components,\n                  fn,\n                  includeAll,\n                  subPath(),\n                  parent ? component : null\n                )\n              );\n            }\n          });\n        } else if (hasComps) {\n          eachComponent(\n            component.components,\n            fn,\n            includeAll,\n            subPath(),\n            parent ? component : null\n          );\n        }\n      }\n    });\n  };\n\n  const matchComponent = (component, query) => {\n    if (typeof query === 'string') {\n      return component.key === query;\n    }\n    let matches = false;\n\n    Object.keys(query).forEach(path => {\n      matches = getFromPath(component, path).value === query[path];\n      if (!matches) {\n        return false;\n      }\n    });\n    return matches;\n  };\n\n  const findComponents = (components, query) => {\n    const results = [];\n\n    eachComponent(\n      components,\n      (component, path) => {\n        if (matchComponent(component, query)) {\n          component.path = path;\n          results.push(component);\n        }\n      },\n      true\n    );\n    return results;\n  };\n\n  const unixDate = () => {\n    return Math.round(+new Date() / 1000);\n  };\n\n  return Object.freeze({\n    cloneDeep,\n    getLanguage,\n    setLanguage,\n    get,\n    orderBy,\n    isEmpty,\n    debounce,\n    getFromPath,\n    deleteNulls,\n    eachComponent,\n    findComponents,\n    unixDate\n  });\n})();\n\nexport default Utilities;\n","'use strict';\n\nvar bind = require('./helpers/bind');\nvar isBuffer = require('is-buffer');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n","import { Fluent } from \"@goatlab/goat-fluent\";\nimport Utilities from \"utilities\";\nimport dayjs from \"dayjs\";\n// TODO We still have to figure out how to solve the problem of\n// The CONFIG URL and FLUENT_URL changing on APP sync\n// Every page refresh will make the urls go back to their default\nexport default Fluent.model({\n  properties: {\n    name: \"Configuration\",\n    config: {\n      remote: {\n        connector: 'formioConfig',\n        token: ''\n      }\n    }\n  },\n  methods: {\n    /**\n     * Decides whether to set Configurations\n     * Online or Offline\n     * @param {Object} config.appConfig The application Config\n     * @param {Boolean} config.forceOnline If we need online\n     */\n    async set({ appConf, forceOnline }) {\n      if (!forceOnline) {\n        return this.setOffline({ appConf });\n      }\n      return this.setOnline({ appConf });\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async setOffline({ appConf }) {\n      let localConfig = await this.local().first();\n\n      let localConfigDate = this.getConfigDate(localConfig);\n      let offlineConfigDate = appConf.offlineFiles.lastUpdated.date;\n\n      // If local config is newer than offline\n      if (localConfigDate > offlineConfigDate) {\n        return localConfig;\n      }\n\n      if (localConfig) {\n        await this.local().clear({ sure: true });\n      }\n\n      return this.local().insert({\n        ...appConf.offlineFiles.Configuration.data,\n        fastUpdated: dayjs().unix()\n      });\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async setOnline({ appConf }) {\n      let localConfig = await this.local().first();\n\n      let remoteConfig = await this.remote().first();\n\n      if (!localConfig && !remoteConfig) {\n        throw new Error(\n          \"Application is not connected to internet, or the configuration file cannot be pulled\"\n        );\n      }\n\n      if (!remoteConfig) {\n        return localConfig;\n      }\n\n      if (localConfig) {\n        await this.local().clear({ sure: true });\n      }\n      return this.local().insert({\n        ...remoteConfig.data,\n        fastUpdated: dayjs().unix()\n      });\n    },\n    /**\n     *\n     * @param {*} config\n     */\n    getConfigDate(config) {\n      return Utilities.get(() => config.fastUpdated, 0);\n    }\n  }\n})\n  .compose(Fluent.privatize)\n  .privatizeMethods(\n    \"setOnlineConfig\",\n    \"setOfflineConfig\",\n    \"getConfigDate\",\n    \"assingGlobalVariable\",\n    \"getRemote\"\n  )();\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"@goatlab/goat-fluent\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@goatlab/goat-fluent\"] = factory();\n\telse\n\t\troot[\"@goatlab/goat-fluent\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 13);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar compose = __webpack_require__(2);\nvar Shortcut = __webpack_require__(17);\nvar isStamp = __webpack_require__(6);\nvar isString = __webpack_require__(18);\nvar isObject = __webpack_require__(1);\nvar isFunction = __webpack_require__(3);\nvar merge = __webpack_require__(8);\nvar assign = __webpack_require__(7);\n\nvar concat = Array.prototype.concat;\nfunction extractFunctions() {\n  var fns = concat.apply([], arguments).filter(isFunction);\n  return fns.length === 0 ? undefined : fns;\n}\n\nfunction standardiseDescriptor(descr) {\n  if (!isObject(descr)) return descr;\n\n  var methods = descr.methods;\n  var properties = descr.properties;\n  var props = descr.props;\n  var initializers = descr.initializers;\n  var init = descr.init;\n  var composers = descr.composers;\n  var deepProperties = descr.deepProperties;\n  var deepProps = descr.deepProps;\n  var pd = descr.propertyDescriptors;\n  var staticProperties = descr.staticProperties;\n  var statics = descr.statics;\n  var staticDeepProperties = descr.staticDeepProperties;\n  var deepStatics = descr.deepStatics;\n  var configuration = descr.configuration;\n  var conf = descr.conf;\n  var deepConfiguration = descr.deepConfiguration;\n  var deepConf = descr.deepConf;\n\n  var p = isObject(props) || isObject(properties) ?\n    assign({}, props, properties) : undefined;\n\n  var dp = isObject(deepProps) ? merge({}, deepProps) : undefined;\n  dp = isObject(deepProperties) ? merge(dp, deepProperties) : dp;\n\n  var sp = isObject(statics) || isObject(staticProperties) ?\n    assign({}, statics, staticProperties) : undefined;\n\n  var sdp = isObject(deepStatics) ? merge({}, deepStatics) : undefined;\n  sdp = isObject(staticDeepProperties) ? merge(sdp, staticDeepProperties) : sdp;\n\n  var spd = descr.staticPropertyDescriptors;\n  if (isString(descr.name)) spd = assign({}, spd || {}, { name: { value: descr.name } });\n\n  var c = isObject(conf) || isObject(configuration) ?\n    assign({}, conf, configuration) : undefined;\n\n  var dc = isObject(deepConf) ? merge({}, deepConf) : undefined;\n  dc = isObject(deepConfiguration) ? merge(dc, deepConfiguration) : dc;\n\n  var ii = extractFunctions(init, initializers);\n\n  var cc = extractFunctions(composers);\n\n  var descriptor = {};\n  if (methods) descriptor.methods = methods;\n  if (p) descriptor.properties = p;\n  if (ii) descriptor.initializers = ii;\n  if (cc) descriptor.composers = cc;\n  if (dp) descriptor.deepProperties = dp;\n  if (sp) descriptor.staticProperties = sp;\n  if (sdp) descriptor.staticDeepProperties = sdp;\n  if (pd) descriptor.propertyDescriptors = pd;\n  if (spd) descriptor.staticPropertyDescriptors = spd;\n  if (c) descriptor.configuration = c;\n  if (dc) descriptor.deepConfiguration = dc;\n\n  return descriptor;\n}\n\nfunction stampit() {\n  'use strict'; // to make sure `this` is not pointing to `global` or `window`\n  var length = arguments.length, args = [];\n  for (var i = 0; i < length; i += 1) {\n    var arg = arguments[i];\n    args.push(isStamp(arg) ? arg : standardiseDescriptor(arg));\n  }\n\n  return compose.apply(this || baseStampit, args); // jshint ignore:line\n}\n\nvar baseStampit = Shortcut.compose({\n  staticProperties: {\n    create: function () { return this.apply(this, arguments); },\n    compose: stampit // infecting\n  }\n});\n\nvar shortcuts = Shortcut.compose.staticProperties;\nfor (var prop in shortcuts) stampit[prop] = shortcuts[prop].bind(baseStampit);\nstampit.compose = stampit.bind();\n\nmodule.exports = stampit;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = function isObject(arg) {\n  var type = typeof arg;\n  return Boolean(arg) && (type === 'object' || type === 'function');\n};\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArray = __webpack_require__(5);\nvar isFunction = __webpack_require__(3);\nvar isObject = __webpack_require__(1);\nvar isStamp = __webpack_require__(6);\nvar isComposable = __webpack_require__(15);\n\nvar assign = __webpack_require__(7);\nvar merge = __webpack_require__(8);\n\nvar slice = Array.prototype.slice;\n\n/**\n * Creates new factory instance.\n * @returns {Function} The new factory function.\n */\nfunction createFactory() {\n  return function Stamp(options) {\n    var descriptor = Stamp.compose || {};\n    // Next line was optimized for most JS VMs. Please, be careful here!\n    var obj = {__proto__: descriptor.methods}; // jshint ignore:line\n\n    merge(obj, descriptor.deepProperties);\n    assign(obj, descriptor.properties);\n    Object.defineProperties(obj, descriptor.propertyDescriptors || {});\n\n    if (!descriptor.initializers || descriptor.initializers.length === 0) return obj;\n\n    if (options === undefined) options = {};\n    var inits = descriptor.initializers;\n    var length = inits.length;\n    for (var i = 0; i < length; i += 1) {\n      var initializer = inits[i];\n      if (isFunction(initializer)) {\n        var returnedValue = initializer.call(obj, options,\n          {instance: obj, stamp: Stamp, args: slice.apply(arguments)});\n        obj = returnedValue === undefined ? obj : returnedValue;\n      }\n    }\n\n    return obj;\n  };\n}\n\n/**\n * Returns a new stamp given a descriptor and a compose function implementation.\n * @param {Descriptor} [descriptor={}] The information about the object the stamp will be creating.\n * @param {Compose} composeFunction The \"compose\" function implementation.\n * @returns {Stamp}\n */\nfunction createStamp(descriptor, composeFunction) {\n  var Stamp = createFactory();\n\n  if (descriptor.staticDeepProperties) {\n    merge(Stamp, descriptor.staticDeepProperties);\n  }\n  if (descriptor.staticProperties) {\n    assign(Stamp, descriptor.staticProperties);\n  }\n  if (descriptor.staticPropertyDescriptors) {\n    Object.defineProperties(Stamp, descriptor.staticPropertyDescriptors);\n  }\n\n  var composeImplementation = isFunction(Stamp.compose) ? Stamp.compose : composeFunction;\n  Stamp.compose = function _compose() {\n    'use strict'; // to make sure `this` is not pointing to `global` or `window`\n    return composeImplementation.apply(this, arguments);\n  };\n  assign(Stamp.compose, descriptor);\n\n  return Stamp;\n}\n\nfunction concatAssignFunctions(dstObject, srcArray, propName) {\n  if (!isArray(srcArray)) return;\n\n  var length = srcArray.length;\n  var dstArray = dstObject[propName] || [];\n  dstObject[propName] = dstArray;\n  for (var i = 0; i < length; i += 1) {\n    var fn = srcArray[i];\n    if (isFunction(fn) && dstArray.indexOf(fn) < 0) {\n      dstArray.push(fn);\n    }\n  }\n}\n\n\nfunction combineProperties(dstObject, srcObject, propName, action) {\n  if (!isObject(srcObject[propName])) return;\n  if (!isObject(dstObject[propName])) dstObject[propName] = {};\n  action(dstObject[propName], srcObject[propName]);\n}\n\nfunction deepMergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, merge);\n}\nfunction mergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, assign);\n}\n\n/**\n * Mutates the dstDescriptor by merging the srcComposable data into it.\n * @param {Descriptor} dstDescriptor The descriptor object to merge into.\n * @param {Composable} [srcComposable] The composable\n * (either descriptor or stamp) to merge data form.\n */\nfunction mergeComposable(dstDescriptor, srcComposable) {\n  var srcDescriptor = (srcComposable && srcComposable.compose) || srcComposable;\n\n  mergeAssign(dstDescriptor, srcDescriptor, 'methods');\n  mergeAssign(dstDescriptor, srcDescriptor, 'properties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'propertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticProperties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'staticDeepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticPropertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'configuration');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepConfiguration');\n  concatAssignFunctions(dstDescriptor, srcDescriptor.initializers, 'initializers');\n  concatAssignFunctions(dstDescriptor, srcDescriptor.composers, 'composers');\n}\n\n/**\n * Given the list of composables (stamp descriptors and stamps) returns\n * a new stamp (composable factory function).\n * @typedef {Function} Compose\n * @param {...(Composable)} [arguments] The list of composables.\n * @returns {Stamp} A new stamp (aka composable factory function)\n */\nmodule.exports = function compose() {\n  'use strict'; // to make sure `this` is not pointing to `global` or `window`\n  var descriptor = {};\n  var composables = [];\n  if (isComposable(this)) {\n    mergeComposable(descriptor, this);\n    composables.push(this);\n  }\n\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i];\n    if (isComposable(arg)) {\n      mergeComposable(descriptor, arg);\n      composables.push(arg);\n    }\n  }\n\n  var stamp = createStamp(descriptor, compose);\n\n  var composers = descriptor.composers;\n  if (isArray(composers) && composers.length > 0) {\n    for (var j = 0; j < composers.length; j += 1) {\n      var composer = composers[j];\n      var returnedValue = composer({stamp: stamp, composables: composables});\n      stamp = isStamp(returnedValue) ? returnedValue : stamp;\n    }\n  }\n\n  return stamp;\n};\n\n\n/**\n * The Stamp Descriptor\n * @typedef {Function|Object} Descriptor\n * @returns {Stamp} A new stamp based on this Stamp\n * @property {Object} [methods] Methods or other data used as object instances' prototype\n * @property {Array<Function>} [initializers] List of initializers called for each object instance\n * @property {Array<Function>} [composers] List of callbacks called each time a composition happens\n * @property {Object} [properties] Shallow assigned properties of object instances\n * @property {Object} [deepProperties] Deeply merged properties of object instances\n * @property {Object} [staticProperties] Shallow assigned properties of Stamps\n * @property {Object} [staticDeepProperties] Deeply merged properties of Stamps\n * @property {Object} [configuration] Shallow assigned properties of Stamp arbitrary metadata\n * @property {Object} [deepConfiguration] Deeply merged properties of Stamp arbitrary metadata\n * @property {Object} [propertyDescriptors] ES5 Property Descriptors applied to object instances\n * @property {Object} [staticPropertyDescriptors] ES5 Property Descriptors applied to Stamps\n */\n\n/**\n * The Stamp factory function\n * @typedef {Function} Stamp\n * @returns {*} Instantiated object\n * @property {Descriptor} compose - The Stamp descriptor and composition function\n */\n\n/**\n * A composable object - stamp or descriptor\n * @typedef {Stamp|Descriptor} Composable\n */\n\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = function isFunction(arg) {\n  return typeof arg === 'function';\n};\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = Array.isArray;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isFunction = __webpack_require__(3);\n\nmodule.exports = function isStamp(arg) {\n  return isFunction(arg) && isFunction(arg.compose);\n};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nmodule.exports = Object.assign;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isPlainObject = __webpack_require__(16);\nvar isObject = __webpack_require__(1);\nvar isArray = __webpack_require__(5);\n\n/**\n * The 'src' argument plays the command role.\n * The returned values is always of the same type as the 'src'.\n * @param dst The object to merge into\n * @param src The object to merge from\n * @returns {*}\n */\nfunction mergeOne(dst, src) {\n  if (src === undefined) return dst;\n\n  // According to specification arrays must be concatenated.\n  // Also, the '.concat' creates a new array instance. Overrides the 'dst'.\n  if (isArray(src)) return (isArray(dst) ? dst : []).concat(src);\n\n  // Now deal with non plain 'src' object. 'src' overrides 'dst'\n  // Note that functions are also assigned! We do not deep merge functions.\n  if (!isPlainObject(src)) return src;\n\n  // See if 'dst' is allowed to be mutated.\n  // If not - it's overridden with a new plain object.\n  var returnValue = isObject(dst) ? dst : {};\n\n  var keys = Object.keys(src);\n  for (var i = 0; i < keys.length; i += 1) {\n    var key = keys[i];\n\n    var srcValue = src[key];\n    // Do not merge properties with the 'undefined' value.\n    if (srcValue !== undefined) {\n      var dstValue = returnValue[key];\n      // Recursive calls to mergeOne() must allow only plain objects or arrays in dst\n      var newDst = isPlainObject(dstValue) || isArray(srcValue) ? dstValue : {};\n\n      // deep merge each property. Recursion!\n      returnValue[key] = mergeOne(newDst, srcValue);\n    }\n  }\n\n  return returnValue;\n}\n\nmodule.exports = function (dst) {\n  for (var i = 1; i < arguments.length; i++) {\n    dst = mergeOne(dst, arguments[i]);\n  }\n  return dst;\n};\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _it = __webpack_require__(0);\n\nvar _it2 = _interopRequireDefault(_it);\n\nvar _privatize = __webpack_require__(19);\n\nvar _privatize2 = _interopRequireDefault(_privatize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = (0, _it2.default)({\n  properties: {\n    name: \"baseModel\",\n    config: {\n      remote: {\n        path: undefined,\n        token: undefined,\n        pullForm: false\n      },\n      local: {\n        connector: \"loki\"\n      },\n      merge: {\n        connector: \"formio-loki\"\n      }\n    }\n  },\n  methods: {\n    /**\n     *\n     */\n    getModelName: function getModelName() {\n      return this.name;\n    },\n\n    /**\n     *\n     */\n    getFluentConfig: function getFluentConfig() {\n      var FLUENT = void 0;\n      if (typeof window !== \"undefined\" && window && window._FLUENT_) {\n        FLUENT = window._FLUENT_;\n      } else if (global && global._FLUENT_) {\n        FLUENT = global._FLUENT_;\n      }\n\n      return FLUENT;\n    },\n\n    /**\n     *\n     * @param {*} connectors\n     * @param {*} type\n     */\n    getConnector: function getConnector(connectors, type) {\n      var connectorName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (Array.isArray(connectors)) {\n        return this.getConnectorFromArray(connectors, type, connectorName);\n      }\n\n      if (connectors instanceof Object) {\n        return connectors;\n      }\n\n      return undefined;\n    },\n\n    /**\n     *\n     * @param {*} connectors\n     * @param {*} type\n     */\n    getConnectorFromArray: function getConnectorFromArray(connectors, type) {\n      var _this = this;\n\n      var connectorName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      // Default case\n      if (connectors.length === 1) return connectors[0];\n\n      // If the model assigns specific one\n      if (this.config && this.config[type] && this.config[type].connector) {\n        var Lcon = connectors.find(function (c) {\n          return c.name === _this.config[type].connector;\n        });\n\n        if (Lcon instanceof Object) return Lcon;\n      }\n\n      // If connectorName is specified\n      if (connectorName) {\n        var _Lcon = connectors.find(function (c) {\n          return c.name === connectorName;\n        });\n\n        if (_Lcon instanceof Object) return _Lcon;\n      }\n\n      var base = connectors.find(function (c) {\n        return c.default;\n      });\n\n      if (base instanceof Object) return base;\n\n      return undefined;\n    },\n\n    /**\n     * [remote description]\n     * @return {[type]} [description]\n     */\n    remote: function remote() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$token = _ref.token,\n          token = _ref$token === undefined ? undefined : _ref$token,\n          _ref$pullForm = _ref.pullForm,\n          pullForm = _ref$pullForm === undefined ? undefined : _ref$pullForm,\n          _ref$connectorName = _ref.connectorName,\n          connectorName = _ref$connectorName === undefined ? undefined : _ref$connectorName,\n          _ref$path = _ref.path,\n          path = _ref$path === undefined ? undefined : _ref$path;\n\n      var FLUENT = this.getFluentConfig();\n      var connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.remote;\n\n      if (!connectors) {\n        throw new Error(\"No remote connector was defined. Please define it using Fluent.config()\");\n      }\n\n      var remoteConnector = this.getConnector(connectors, \"remote\", connectorName || false);\n\n      this.config.remote.token = token || this.config.remote.token;\n      this.config.remote.path = path || this.config.remote.path;\n\n      if (pullForm) {\n        this.config.remote.pullForm = pullForm || this.config.remote.pullForm;\n      }\n\n      if (remoteConnector) {\n        return remoteConnector.connector({\n          remoteConnection: this.config.remote,\n          connector: remoteConnector\n        });\n      }\n\n      throw new Error(\"No default remote connector found. Please assign one as your default in Fluent.config\");\n    },\n\n    /**\n     * [local description]\n     * @return {[type]} [description]\n     */\n    local: function local() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$connectorName = _ref2.connectorName,\n          connectorName = _ref2$connectorName === undefined ? undefined : _ref2$connectorName;\n\n      var FLUENT = this.getFluentConfig();\n      var connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.local;\n\n      if (!connectors) throw new Error(\"No local connector was defined. Please define it using Fluent.config()\");\n\n      var localConnector = this.getConnector(connectors, \"local\", connectorName || false);\n\n      if (localConnector) return localConnector.connector({\n        name: this.name,\n        connector: localConnector\n      });\n\n      throw new Error(\"No default local connector found. Please assign one as your default in Fluent.config\");\n    },\n\n    /**\n     * [local description]\n     * @return {[type]} [description]\n     */\n    merged: function merged() {\n      var local = this.local();\n      var remote = this.remote();\n\n      var FLUENT = this.getFluentConfig();\n      var connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.merge;\n\n      if (!connectors) {\n        throw new Error(\"No merge connector was defined. Please define it using Fluent.config()\");\n      }\n\n      var mergeConnector = this.getConnector(connectors, \"merge\");\n\n      if (mergeConnector) {\n        return mergeConnector.connector({\n          local: local,\n          remote: remote,\n          name: this.name,\n          connector: mergeConnector\n        });\n      }\n\n      throw new Error(\"No default merge connector found. Please assign one as your default in Fluent.config\");\n    }\n  }\n}).compose(_privatize2.default);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(4)))\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _it = __webpack_require__(0);\n\nvar _it2 = _interopRequireDefault(_it);\n\nvar _utilities = __webpack_require__(11);\n\nvar _utilities2 = _interopRequireDefault(_utilities);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nexports.default = (0, _it2.default)({\n  init: function init(data) {\n    if (!Array.isArray(data)) {\n      throw new Error('Collect method only accepts arrays of data');\n    }\n    this.data = data;\n  },\n\n  properties: {\n    data: []\n  },\n  methods: {\n    /**\n     * \n     */\n    get: function get() {\n      return this.data;\n    },\n\n    /**\n     * Alias for the \"get\" method\n     * @return function\n     */\n    all: function all() {\n      return this.get();\n    },\n\n    /**\n     * Alias for the \"average\" method.\n     *\n     * @param  {String}  path Path of the key\n     * @return function\n     */\n    avg: function avg(path) {\n      return this.average(path);\n    },\n\n    /**\n     * Get the average value of a given key.\n     *\n     * @param  {String}  path Path of the key\n     * @return static\n     */\n    average: function average() {\n      var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      var data = [].concat(_toConsumableArray(this.data));\n      var sum = data.reduce(function (acc, element) {\n        var value = element;\n\n        if (element instanceof Object) {\n          var extract = _utilities2.default.getFromPath(element, path, undefined);\n          if (typeof extract !== 'undefined' && extract.value) {\n            value = extract.value;\n          }\n        }\n        return acc + value;\n      }, 0);\n\n      try {\n        var avg = sum / data.length;\n        return avg;\n      } catch (e) {\n        throw new Error('Division between \"' + sum + '\" and \"' + data.length + '\" is not valid.');\n      }\n    },\n    chunkApply: function chunkApply(size, callback) {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var totalSize, count, reducer, promiseChain;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(callback === undefined)) {\n                  _context.next = 2;\n                  break;\n                }\n\n                throw new Error('Callback function not defined.');\n\n              case 2:\n                totalSize = _this.data.length;\n                count = 0;\n\n\n                _this.chunks(size);\n\n                // console.log(`Processed ${count}/${totalSize} elements...`);\n\n                /* for (const chunk of this.data) {\n                  const promises = [];\n                   chunk.forEach((element) => {\n                    promises.push(callback(element, count));\n                    count = count + 1;\n                  });\n                   await Promise.all(promises);\n                   // count = (count + size) > totalSize ? totalSize : count + size;\n                  console.log(`Processed ${count}/${totalSize} elements...`);\n                } */\n\n                reducer = function reducer(chain, batch) {\n                  return chain.then(function () {\n                    return Promise.all(batch.map(function (d) {\n                      return callback(d);\n                    }));\n                  }).then(function () {\n                    count = count + size > totalSize ? totalSize : count + size;\n                    console.log('Processed ' + count + '/' + totalSize + ' elements...');\n                  });\n                };\n\n                console.log('Processed ' + count + '/' + totalSize + ' elements...');\n                promiseChain = _this.data.reduce(reducer, Promise.resolve());\n                return _context.abrupt('return', promiseChain);\n\n              case 9:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this);\n      }))();\n    },\n\n    /**\n     * Chunks the given array\n     *\n     * @param {Int} size\n     * @return static\n     */\n    chunks: function chunks(size) {\n      var data = [].concat(_toConsumableArray(this.data));\n      var results = [];\n\n      while (data.length) {\n        results.push(data.splice(0, size));\n      }\n\n      this.data = results;\n      return this;\n    },\n\n    /**\n     * \n     */\n    collapse: function collapse() {\n      var data = [].concat(_toConsumableArray(this.data));\n      var results = [];\n\n      data.forEach(function (chunk) {\n        if (Array.isArray(chunk)) {\n          chunk.forEach(function (element) {\n            results.push(element);\n          });\n        } else {\n          results.push(chunk);\n        }\n      });\n      this.data = results;\n\n      return this;\n    },\n    unChunk: function unChunk() {\n      return this.collapse();\n    },\n    combine: function combine(array) {\n      var data = [].concat(_toConsumableArray(this.data));\n      var result = void 0;\n      data.forEach(function (e, index) {\n        if (!(e instanceof Object)) {\n          if (!result) {\n            result = {};\n          }\n          result[e] = array[index];\n        } else {\n          if (!result) {\n            result = [];\n          }\n          result[index] = _extends({}, e, { _value: array[index] });\n        }\n      });\n\n      this.data = result;\n      return this;\n    },\n    concat: function concat(array) {\n      this.data = [].concat(_toConsumableArray(this.data), _toConsumableArray(array));\n      return this;\n    },\n    contains: function contains() {\n      var value = void 0;\n      var path = void 0;\n      var Fx = void 0;\n      if (arguments.length === 1) {\n        if (this.isFunction(arguments.length <= 0 ? undefined : arguments[0])) {\n          Fx = arguments.length <= 0 ? undefined : arguments[0];\n        }\n        value = arguments.length <= 0 ? undefined : arguments[0];\n      } else {\n        value = arguments.length <= 1 ? undefined : arguments[1];\n        path = arguments.length <= 0 ? undefined : arguments[0];\n      }\n      var data = [].concat(_toConsumableArray(this.data));\n\n      return data.some(function (e, index) {\n        if (Fx) {\n          return !!Fx(e, index);\n        }\n        var val = e;\n        if (e instanceof Object) {\n          var extract = _utilities2.default.getFromPath(e, path, undefined);\n          if (extract.value) {\n            val = extract.value;\n          }\n        }\n        return val === value;\n      });\n    },\n\n    /**\n     * Returns an array of duplicate submissions, based on an array of keys.\n     * @param {Array} keys - Keys where the function compares an object to evaluate its similarity. \n     */\n    duplicatesBy: function duplicatesBy(keys) {\n      var data = [].concat(_toConsumableArray(this.data));\n      var duplicates = [];\n\n      data.reduce(function (object, submission) {\n        var finalKey = keys.reduce(function (string, key) {\n          return string + _utilities2.default.getFromPath(submission, key, '').value;\n        }, '');\n\n        if (object.hasOwnProperty(finalKey)) {\n          duplicates.push(submission);\n        } else {\n          object[finalKey] = true;\n        }\n\n        return object;\n      }, {});\n\n      this.data = duplicates;\n\n      return this;\n    },\n    count: function count() {\n      return this.data.length;\n    },\n    isFunction: function isFunction(functionToCheck) {\n      return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\n    }\n  }\n});\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* eslint-disable no-unused-vars */\nvar Utilities = function () {\n  /**\n   * Given an Object and its path, if exisits it will\n   * return the value of it, if not the default\n   * @param {Object} obj\n   * @param {String} path\n   * @param {*} def\n   */\n  var get = function get(fn, def) {\n    try {\n      return fn();\n    } catch (e) {\n      return def;\n    }\n  };\n  /**\n   *\n   * @param {*} obj\n   * @param {*} path\n   * @param {*} def\n   */\n  var getFromPath = function getFromPath(obj, path, def) {\n    var _path = path;\n\n    if (path.includes(' as ')) {\n      path = path.split(' as ');\n      _path = path[0];\n    }\n\n    var assignedName = get(function () {\n      return Array.isArray(path) && path[1].trim();\n    }, undefined);\n\n    var fullPath = _path.replace(/\\[/g, '.').replace(/]/g, '').split('.').filter(Boolean).map(function (e) {\n      return e.trim();\n    });\n\n    function everyFunc(step) {\n      return !(step && (obj = obj[step]) === undefined);\n    }\n\n    var result = fullPath.every(everyFunc) ? obj : def;\n\n    return { label: assignedName || _path, value: result };\n  };\n\n  return Object.freeze({\n    get: get,\n    getFromPath: getFromPath\n  });\n}();\n\nexports.default = Utilities;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _it = __webpack_require__(0);\n\nvar _it2 = _interopRequireDefault(_it);\n\nvar _utilities = __webpack_require__(11);\n\nvar _utilities2 = _interopRequireDefault(_utilities);\n\nvar _Collection = __webpack_require__(10);\n\nvar _Collection2 = _interopRequireDefault(_Collection);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = (0, _it2.default)({\n  init: function init(_ref) {\n    var name = _ref.name,\n        remoteConnection = _ref.remoteConnection,\n        connector = _ref.connector;\n\n    if (!name && !remoteConnection) {\n      throw new Error(\"Model must have a name or path\");\n    }\n\n    if (!connector) {\n      throw new Error(\"Model must have a connector. Please register one using Fluent.config\");\n    }\n    this.name = name || this.name;\n    this.remoteConnection = remoteConnection || this.remoteConnection;\n    this.connector = connector || this.connector;\n    this.chainReference = [];\n    this.whereArray = [];\n    this.orWhereArray = [];\n    this.selectArray = [];\n    this.orderByArray = [];\n    this.limitNumber = undefined;\n    this.offsetNumber = undefined;\n    this.populateArray = [];\n    this.chunk = null;\n    this.pullSize = null;\n    this.ownerId = undefined;\n    this.paginator = undefined;\n    this.rawQuery = undefined;\n  },\n\n  properties: {\n    operators: [\"=\", \"<\", \">\", \"<=\", \">=\", \"<>\", \"!=\", \"in\", \"nin\", \"like\", \"regexp\", \"startsWith\", \"endsWith\", \"contains\"]\n  },\n  methods: {\n    /**\n     *\n     */\n    get: function get() {\n      throw new Error(\"get() method not implemented\");\n    },\n\n    /**\n     *\n     */\n    all: function all() {\n      throw new Error(\"all() method not implemented\");\n    },\n\n    /**\n     *\n     */\n    find: function find(id) {\n      throw new Error(\"find() method not implemented\");\n    },\n\n    /**\n     *\n     */\n    findOne: function findOne() {\n      throw new Error(\"findOne() method not implemented\");\n    },\n\n    /**\n     *\n     */\n    remove: function remove() {\n      throw new Error(\"remove() method not implemented\");\n    },\n\n    /**\n     *\n     */\n    softDelete: function softDelete() {\n      throw new Error(\"softDelete() method not implemented\");\n    },\n\n    /**\n     *\n     */\n    insert: function insert() {\n      throw new Error(\"insert() method not implemented\");\n    },\n\n    /**\n     *\n     */\n    update: function update() {\n      throw new Error(\"update() method not implemented\");\n    },\n\n    /**\n     *\n     */\n    clear: function clear() {\n      throw new Error(\"clear() method not implemented\");\n    },\n\n    /**\n     *\n     */\n    updateOrCreate: function updateOrCreate() {\n      throw new Error(\"updateOrCreate() method not implemented\");\n    },\n\n    /**\n     *\n     */\n    findAndRemove: function findAndRemove() {\n      throw new Error(\"findAndRemove() method not implemented\");\n    },\n\n    /**\n     *\n     * @param {*} paginator\n     */\n    paginate: function paginate() {\n      throw new Error(\"paginate() method not implemented\");\n    },\n\n    /**\n     * @param {*} tableView\n     */\n    tableView: function tableView() {\n      throw new Error(\"tableView() method not implemented\");\n    },\n\n    /**\n     * @param {*} raw\n     */\n    raw: function raw() {\n      throw new Error(\"raw() method not implemented\");\n    },\n    owner: function owner(user) {\n      this.chainReference.push({ method: \"owner\", args: user });\n      this.ownerId = user;\n      return this;\n    },\n    own: function own(user) {\n      return this.owner(user);\n    },\n\n    /**\n     * Executes the Get() method and\n     * returns the its first result\n     *\n     * @return {Object} First result\n     */\n    first: function first() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var data;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.get();\n\n              case 2:\n                data = _context.sent;\n                return _context.abrupt(\"return\", _utilities2.default.get(function () {\n                  return data[0];\n                }, []));\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, _this);\n      }))();\n    },\n\n    /**\n     *\n     * Gets the data in the current query and\n     * transforms it into a collection\n     * @returns {Collection} Fluent Collection\n     */\n    collect: function collect() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var data;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this2.get();\n\n              case 2:\n                data = _context2.sent;\n\n                if (Array.isArray(data)) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                throw new Error(\"Collect method only accepts arrays of data\");\n\n              case 5:\n                return _context2.abrupt(\"return\", (0, _Collection2.default)(data));\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this2);\n      }))();\n    },\n\n    /**\n     * Adds the given columns to the SelectArray\n     * to use as column filter for the data\n     *\n     * @param {Array|String} columns The columns to select\n     * @returns {Model} Fluent Model\n     */\n    select: function select() {\n      for (var _len = arguments.length, columns = Array(_len), _key = 0; _key < _len; _key++) {\n        columns[_key] = arguments[_key];\n      }\n\n      columns = this.prepareInput(columns);\n      this.chainReference.push({ method: \"select\", args: columns });\n      this.selectArray = this.selectArray.concat(columns).filter(function (elem, pos, arr) {\n        return arr.indexOf(elem) === pos;\n      });\n\n      return this;\n    },\n\n    /**\n     * Maps the given Data to show only those fields\n     * explicitly detailed on the Select function\n     *\n     * @param {Array} data Data from local or remote DB\n     * @returns {Array} Formatted data with the selected columns\n     */\n    jsApplySelect: function jsApplySelect(data) {\n      var _this3 = this;\n\n      var _data = Array.isArray(data) ? [].concat(_toConsumableArray(data)) : [data];\n\n      if (this.selectArray.length > 0) {\n        _data = _data.map(function (element) {\n          var newElement = {};\n\n          _this3.selectArray.forEach(function (attribute) {\n            var extract = _utilities2.default.getFromPath(element, attribute, undefined);\n\n            var value = _utilities2.default.get(function () {\n              return extract.value;\n            }, undefined);\n\n            if (typeof value !== \"undefined\") {\n              if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\" && value.hasOwnProperty(\"data\") && value.data.hasOwnProperty(\"name\")) {\n                newElement[extract.label] = value.data.name;\n              } else {\n                newElement[extract.label] = value;\n              }\n            }\n          });\n\n          return newElement;\n        });\n      }\n\n      return _data;\n    },\n\n    /**\n     *  Sets the offset number for\n     *  the given query\n     *\n     * @param {int} offset The given offset\n     * @returns {Model} Fluent Model\n     */\n    offset: function offset(_offset) {\n      this.chainReference.push({ method: \"offset\", args: _offset });\n      this.offsetNumber = _offset;\n      return this;\n    },\n\n    /**\n     *  Sets the relations to be\n     *  loded with the query\n     *\n     * @param {int} offset The given offset\n     * @returns {Model} Fluent Model\n     */\n    populate: function populate() {\n      for (var _len2 = arguments.length, relations = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        relations[_key2] = arguments[_key2];\n      }\n\n      this.chainReference.push({ method: \"relations\", args: relations });\n      this.populateArray = relations;\n      return this;\n    },\n\n    /**\n     *  Alias for the offset methods\n     *\n     * @param {int} offset the given offset\n     */\n    skip: function skip(offset) {\n      return this.offset(offset);\n    },\n\n    /**\n     *  Adds where filters to the query\n     *  whereArray\n     * @param {String|Array} args Where filters\n     * @returns {Model} Fluent Model\n     */\n    where: function where() {\n      var _this4 = this;\n\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this.chainReference.push({ method: \"where\", args: args });\n      this.whereArray = [];\n      args = Array.isArray(args[0]) ? args : [args];\n      args.forEach(function (arg) {\n        if (arg.length !== 3) {\n          throw new Error('There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' + JSON.stringify(arg) + '\" ');\n        }\n        _this4.whereArray.push(arg);\n      });\n      return this;\n    },\n\n    /**\n     * Pushes where filters with AND condition\n     * to the whereArray\n     *\n     * @param {String|Array} args Where filters\n     * @returns {Model} Fluent Model\n     */\n    andWhere: function andWhere() {\n      var _this5 = this;\n\n      for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      this.chainReference.push({ method: \"andWhere\", args: args });\n      args = Array.isArray(args[0]) ? args : [args];\n      args.forEach(function (arg) {\n        if (arg.length !== 3) {\n          throw new Error('There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' + JSON.stringify(arg) + '\" ');\n        }\n        _this5.whereArray.push(arg);\n      });\n      return this;\n    },\n\n    /**\n     * Pushes where filter with OR condition\n     * to the orWhereArray\n     *\n     * @param {String|Array} args OR where filters\n     * @returns {Model} Fluent Model\n     */\n    orWhere: function orWhere() {\n      var _this6 = this;\n\n      for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      this.chainReference.push({ method: \"orWhere\", args: args });\n      args = Array.isArray(args[0]) ? args : [args];\n      args.forEach(function (arg) {\n        if (arg.length !== 3) {\n          throw new Error('There orWhere clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' + JSON.stringify(arg) + '\" ');\n        }\n        _this6.orWhereArray.push(arg);\n      });\n      return this;\n    },\n\n    /**\n     * Limits the number of results for the\n     * given query\n     * @param {int} limit limit number\n     * @returns {Model} Fluent Model\n     */\n    limit: function limit(_limit) {\n      this.chainReference.push({ method: \"limit\", args: _limit });\n      this.limitNumber = _limit;\n      return this;\n    },\n\n    /**\n     * Alias for the limit method\n     *\n     * @param {*} limit limit number\n     * @returns {Model} Fluent Model\n     */\n    take: function take(limit) {\n      return this.limit(limit);\n    },\n\n    /**\n     * Gets all values for a given KEY\n     * @param {String} keyPath The path to the key\n     * @returns {Array}\n     */\n    pluck: function pluck(keyPath) {\n      var _this7 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var data;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this7.chainReference.push({ method: \"pluck\", args: keyPath });\n                _context3.next = 3;\n                return _this7.get();\n\n              case 3:\n                data = _context3.sent;\n\n\n                data = data.map(function (e) {\n                  var extracted = _utilities2.default.getFromPath(e, keyPath, undefined);\n\n                  if (typeof extracted.value !== \"undefined\") {\n                    return extracted.value;\n                  }\n                });\n                return _context3.abrupt(\"return\", data);\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this7);\n      }))();\n    },\n\n    /**\n     *\n     * @param {*} args\n     */\n    orderBy: function orderBy() {\n      for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n\n      this.chainReference.push({ method: \"orderBy\", args: args });\n      this.orderByArray = args;\n      return this;\n    },\n\n    /**\n     *\n     * @param {*} data\n     */\n    jsApplyOrderBy: function jsApplyOrderBy(data) {\n      var _data = [].concat(_toConsumableArray(data));\n\n      if (this.orderByArray.length === 0) {\n        return _data;\n      }\n      var field = this.orderByArray[0];\n\n      if (this.selectArray.length > 0 && (field.includes(\".\") || field.includes(\"[\"))) {\n        throw new Error('Cannot orderBy nested attribute \"' + field + '\" when using Select. You must rename the attribute');\n      }\n\n      var order = this.orderByArray[1];\n      var type = this.orderByArray[2];\n\n      if (!type) {\n        type = \"string\";\n      }\n\n      _data = _data.sort(function (a, b) {\n        var A = _utilities2.default.getFromPath(a, field, undefined).value;\n        var B = _utilities2.default.getFromPath(b, field, undefined).value;\n\n        if (typeof A === \"undefined\" || typeof B === \"undefined\") {\n          throw new Error('Cannot order by property \"' + field + '\" not all values have this property');\n        }\n        // For default order and numbers\n        if (type.includes(\"string\") || type.includes(\"number\")) {\n          if (order === \"asc\") {\n            return A > B ? 1 : A < B ? -1 : 0;\n          }\n          return A > B ? -1 : A < B ? 1 : 0;\n        } else if (type.includes(\"date\")) {\n          if (order === \"asc\") {\n            return new Date(A) - new Date(B);\n          }\n          return new Date(B) - new Date(A);\n        }\n      });\n      return _data;\n    },\n\n    /**\n     *\n     * @param {*} input\n     */\n    prepareInput: function prepareInput(input) {\n      var cols = [];\n\n      input.forEach(function (item) {\n        var value = Array.isArray(item) ? item : item.split(\",\");\n\n        value = value.map(function (e) {\n          return e.trim();\n        });\n        cols = cols.concat(value);\n      });\n\n      cols.filter(function (elem, pos, arr) {\n        return arr.indexOf(elem) === pos;\n      });\n\n      return cols;\n    },\n    ArrayInsert: function ArrayInsert(dataArray, options) {\n      var _this8 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        var initial, length, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, element, a;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                initial = 1;\n                length = dataArray.length;\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context4.prev = 5;\n                _iterator = dataArray[Symbol.iterator]();\n\n              case 7:\n                if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n                  _context4.next = 26;\n                  break;\n                }\n\n                element = _step.value;\n\n                if (options && options.showProgress) {\n                  console.log(\"Inserting \" + initial + \" of \" + length);\n                }\n                _context4.prev = 10;\n                _context4.next = 13;\n                return _this8.insert(element, options);\n\n              case 13:\n                a = _context4.sent;\n\n                if (options && options.showProgress) {\n                  console.log(\"Element \" + initial + \" inserted\");\n                }\n                initial++;\n                _context4.next = 23;\n                break;\n\n              case 18:\n                _context4.prev = 18;\n                _context4.t0 = _context4[\"catch\"](10);\n\n                console.log(\"ERROR - Element \" + initial + \" - \" + JSON.stringify(element) + \" could not be inserted\");\n                console.log(_context4.t0);\n                initial++;\n\n              case 23:\n                _iteratorNormalCompletion = true;\n                _context4.next = 7;\n                break;\n\n              case 26:\n                _context4.next = 32;\n                break;\n\n              case 28:\n                _context4.prev = 28;\n                _context4.t1 = _context4[\"catch\"](5);\n                _didIteratorError = true;\n                _iteratorError = _context4.t1;\n\n              case 32:\n                _context4.prev = 32;\n                _context4.prev = 33;\n\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n\n              case 35:\n                _context4.prev = 35;\n\n                if (!_didIteratorError) {\n                  _context4.next = 38;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 38:\n                return _context4.finish(35);\n\n              case 39:\n                return _context4.finish(32);\n\n              case 40:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, _this8, [[5, 28, 32, 40], [10, 18], [33,, 35, 39]]);\n      }))();\n    }\n  }\n});\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Event = exports.MergeConnector = exports.Interface = exports.Fluent = exports.Model = undefined;\n\nvar _Fluent = __webpack_require__(14);\n\nvar _Fluent2 = _interopRequireDefault(_Fluent);\n\nvar _Model = __webpack_require__(9);\n\nvar _Model2 = _interopRequireDefault(_Model);\n\nvar _Interface = __webpack_require__(12);\n\nvar _Interface2 = _interopRequireDefault(_Interface);\n\nvar _MergeConnector = __webpack_require__(20);\n\nvar _MergeConnector2 = _interopRequireDefault(_MergeConnector);\n\nvar _Event = __webpack_require__(21);\n\nvar _Event2 = _interopRequireDefault(_Event);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Model = _Model2.default;\nexports.Fluent = _Fluent2.default;\nexports.Interface = _Interface2.default;\nexports.MergeConnector = _MergeConnector2.default;\nexports.Event = _Event2.default;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _it = __webpack_require__(0);\n\nvar _it2 = _interopRequireDefault(_it);\n\nvar _Model = __webpack_require__(9);\n\nvar _Model2 = _interopRequireDefault(_Model);\n\nvar _Collection = __webpack_require__(10);\n\nvar _Collection2 = _interopRequireDefault(_Collection);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar Fluent = (0, _it2.default)({\n  init: function init() {\n    this.registerGlobalVariable();\n  },\n\n  properties: {},\n  methods: {\n    model: function model() {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this.registerModel(args);\n      return _Model2.default.compose.apply(_Model2.default, _toConsumableArray(args));\n    },\n    extend: function extend() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      this.registerModel(args);\n      return _Model2.default.compose.apply(_Model2.default, _toConsumableArray(args));\n    },\n    compose: function compose() {\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this.registerModel(args);\n      return _Model2.default.compose.apply(_Model2.default, _toConsumableArray(args));\n    },\n    collect: function collect(args) {\n      return (0, _Collection2.default)(args);\n    },\n    registerGlobalVariable: function registerGlobalVariable() {\n      if (typeof window !== \"undefined\" && window && !window._FLUENT_) {\n        window._FLUENT_ = {\n          connectors: {},\n          models: {}\n        };\n      }\n\n      if (global && !global._FLUENT_) {\n        global._FLUENT_ = {\n          connectors: {},\n          models: {}\n        };\n      }\n    },\n    registerModel: function registerModel(args) {\n      var name = args && args[0] && args[0].properties && args[0].properties.name ? args[0].properties.name : undefined;\n\n      if (!name || name === \"baseModel\") {\n        return;\n      }\n\n      if (!(typeof name === \"string\")) {\n        throw new Error(\"You must assign a name to your Model when using Fluent.compose\");\n      }\n\n      if (typeof window !== \"undefined\") {\n        window._FLUENT_.models[name] = true;\n        return;\n      }\n      global._FLUENT_.models[name] = true;\n    },\n    config: function config(_ref) {\n      var _ref$REMOTE_CONNECTOR = _ref.REMOTE_CONNECTORS,\n          REMOTE_CONNECTORS = _ref$REMOTE_CONNECTOR === undefined ? undefined : _ref$REMOTE_CONNECTOR,\n          _ref$LOCAL_CONNECTORS = _ref.LOCAL_CONNECTORS,\n          LOCAL_CONNECTORS = _ref$LOCAL_CONNECTORS === undefined ? undefined : _ref$LOCAL_CONNECTORS,\n          _ref$MERGE_CONNECTORS = _ref.MERGE_CONNECTORS,\n          MERGE_CONNECTORS = _ref$MERGE_CONNECTORS === undefined ? undefined : _ref$MERGE_CONNECTORS;\n\n      if (typeof window !== \"undefined\" && window) {\n        window._FLUENT_.connectors = {\n          local: LOCAL_CONNECTORS,\n          remote: REMOTE_CONNECTORS,\n          merge: MERGE_CONNECTORS\n        };\n      }\n\n      if (typeof global !== \"undefined\" && global) {\n        global._FLUENT_.connectors = {\n          local: LOCAL_CONNECTORS,\n          remote: REMOTE_CONNECTORS,\n          merge: MERGE_CONNECTORS\n        };\n      }\n    },\n    getConfig: function getConfig() {\n      if (typeof window !== \"undefined\" && window) {\n        return window._FLUENT_;\n      }\n\n      if (typeof global !== \"undefined\" && global) {\n        return global._FLUENT_;\n      }\n    },\n    registerConnector: function registerConnector(_ref2) {\n      var type = _ref2.type,\n          connector = _ref2.connector;\n\n      if (!type || !connector) throw new Error(\"type and connector must be defined\");\n      if (![\"local\", \"remote\", \"merge\"].includes(type)) throw new Error(\"type must be either local, remote or merge\");\n\n      var ctx = typeof window !== \"undefined\" && window ? window._FLUENT_ : global._FLUENT_;\n      var connectors = ctx.connectors.hasOwnProperty(type) ? ctx.connectors[type] : [];\n\n      if (connectors.length === 0) {\n        connector = _extends({}, connector, {\n          default: true\n        });\n\n        connectors.push(connector);\n        ctx.connectors[type] = connectors;\n        return;\n      }\n\n      if (connectors.find(function (o) {\n        return o.name === connector.name;\n      })) {\n        console.log(\"A \" + type + \" connector with the name '\" + connector.name + \"' already exists\");\n        return;\n      }\n\n      connectors.push(connector);\n      ctx.connectors[type] = connectors;\n    },\n    deregisterConnector: function deregisterConnector(_ref3) {\n      var type = _ref3.type,\n          name = _ref3.name;\n\n      if (!type || !name) throw new Error(\"type and name must be defined\");\n      if (![\"local\", \"remote\", \"merge\"].includes(type)) throw new Error(\"type must be either local, remote or merge\");\n\n      var ctx = typeof window !== \"undefined\" && window ? window._FLUENT_ : global._FLUENT_;\n      var connectors = ctx.connectors.hasOwnProperty(type) ? ctx.connectors[type] : [];\n\n      if (connectors.length === 0) return;\n\n      var filteredConnectors = connectors.filter(function (o) {\n        return o.name !== name;\n      });\n      ctx.connectors[type] = filteredConnectors;\n    }\n  }\n})();\n\nexports.default = Fluent;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(4)))\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// More proper implementation would be\n// isDescriptor(obj) || isStamp(obj)\n// but there is no sense since stamp is function and function is object.\nmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nmodule.exports = function isPlainObject(value) {\n  return Boolean(value) && typeof value === 'object' &&\n    Object.getPrototypeOf(value) === Object.prototype;\n};\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar compose = __webpack_require__(2);\n\nfunction createShortcut(propName) {\n  return function (arg) {\n    'use strict';\n    var param = {};\n    param[propName] = arg;\n    return this && this.compose ? this.compose(param) : compose(param);\n  };\n}\n\nvar properties = createShortcut('properties');\nvar staticProperties = createShortcut('staticProperties');\nvar configuration = createShortcut('configuration');\nvar deepProperties = createShortcut('deepProperties');\nvar staticDeepProperties = createShortcut('staticDeepProperties');\nvar deepConfiguration = createShortcut('deepConfiguration');\nvar initializers = createShortcut('initializers');\n\nmodule.exports = compose({\n  staticProperties: {\n    methods: createShortcut('methods'),\n\n    props: properties,\n    properties: properties,\n\n    statics: staticProperties,\n    staticProperties: staticProperties,\n\n    conf: configuration,\n    configuration: configuration,\n\n    deepProps: deepProperties,\n    deepProperties: deepProperties,\n\n    deepStatics: staticDeepProperties,\n    staticDeepProperties: staticDeepProperties,\n\n    deepConf: deepConfiguration,\n    deepConfiguration: deepConfiguration,\n\n    init: initializers,\n    initializers: initializers,\n\n    composers: createShortcut('composers'),\n\n    propertyDescriptors: createShortcut('propertyDescriptors'),\n\n    staticPropertyDescriptors: createShortcut('staticPropertyDescriptors')\n  }\n});\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\nmodule.exports = function isString(arg) {\n  return typeof arg === 'string';\n};\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar compose = __webpack_require__(2);\nvar privates = new WeakMap(); // WeakMap works in IE11, node 0.12\n\nvar makeProxyFunction = function (fn, name) {\n  function proxiedFn() {\n    'use strict';\n    var fields = privates.get(this); // jshint ignore:line\n    return fn.apply(fields, arguments);\n  }\n\n  Object.defineProperty(proxiedFn, 'name', {\n    value: name,\n    configurable: true\n  });\n\n  return proxiedFn;\n};\n\nfunction initializer(_, opts) {\n  var descriptor = opts.stamp.compose;\n  var privateMethodNames = descriptor.deepConfiguration.Privatize.methods;\n\n  var newObject = {}; // our proxy object\n  privates.set(newObject, this);\n\n  var methods = descriptor.methods;\n  if (!methods) {\n    return newObject;\n  }\n\n  var methodNames = Object.keys(methods);\n  for (var i = 0; i < methodNames.length; i++) {\n    var name = methodNames[i];\n    if (privateMethodNames.indexOf(name) < 0) { // not private, thus wrap\n      newObject[name] = makeProxyFunction(methods[name], name);\n    }\n  }\n\n  // Integration with @stamp/instanceof\n  if (typeof Symbol !== \"undefined\") {\n    var stampSymbol = Symbol.for('stamp');\n    if (methods[stampSymbol]) {\n      newObject[stampSymbol] = opts.stamp;\n    }\n  }\n\n  return newObject;\n}\n\nvar Privatize = compose({\n  initializers: [initializer],\n  deepConfiguration: {Privatize: {methods: []}},\n  staticProperties: {\n    privatizeMethods: function () {\n      'use strict';\n      var methodNames = [];\n      for (var i = 0; i < arguments.length; i++) {\n        var arg = arguments[i];\n        if (typeof arg === 'string' && arg.length > 0) {\n          methodNames.push(arg);\n        }\n      }\n      var Stamp = this && this.compose ? this : Privatize;\n      return Stamp.compose({\n        deepConfiguration: {\n          Privatize: {\n            methods: methodNames\n          }\n        }\n      });\n    }\n  },\n  composers: [function (opts) {\n    var initializers = opts.stamp.compose.initializers;\n    // Keep our initializer the last to return proxy object\n    initializers.splice(initializers.indexOf(initializer), 1);\n    initializers.push(initializer);\n  }]\n});\n\nmodule.exports = Privatize;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Interface = __webpack_require__(12);\n\nvar _Interface2 = _interopRequireDefault(_Interface);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = _Interface2.default.compose({\n  properties: {\n    localFx: undefined,\n    remoteFx: undefined\n  },\n  init: function init(connectors) {\n    this.connectors = connectors;\n  },\n\n  methods: {\n    get: function get() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var localData, remoteData;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _this.prepareMergedFunctions();\n                _context.next = 3;\n                return _this.localFx.get();\n\n              case 3:\n                localData = _context.sent;\n                _context.next = 6;\n                return _this.remoteFx.get();\n\n              case 6:\n                remoteData = _context.sent;\n                return _context.abrupt(\"return\", localData.concat(remoteData));\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, _this);\n      }))();\n    },\n    prepareMergedFunctions: function prepareMergedFunctions() {\n      var _this2 = this;\n\n      this.localFx = this.connectors.local;\n      this.remoteFx = this.connectors.remote;\n\n      this.chainReference.forEach(function (chain) {\n        var method = chain.method;\n        var args = chain.args;\n\n        _this2.localFx = _this2.localFx[method](args);\n        _this2.remoteFx = _this2.remoteFx[method](args);\n      });\n    }\n  }\n});\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Event = function () {\n  var CustomEvent = function CustomEvent(event, params) {\n    var evt = document.createEvent(\"CustomEvent\");\n\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  };\n\n  function emit(_ref) {\n    var name = _ref.name,\n        data = _ref.data,\n        text = _ref.text;\n\n    if (!name) throw new Error(\"Event must have a name.\");\n    if (!data) throw new Error(\"Event must have data.\");\n    if (!text) throw new Error(\"Event must have a text.\");\n    var customEvent = CustomEvent(name, {\n      detail: {\n        data: data,\n        text: text\n      }\n    });\n\n    window.dispatchEvent(customEvent);\n  }\n  function listen(_ref2) {\n    var name = _ref2.name,\n        callback = _ref2.callback;\n\n    if (!name) throw new Error(\"Listener must have a name.\");\n    if (!callback) throw new Error(\"Listener must have a callback.\");\n    window.addEventListener(name, callback);\n  }\n\n  function remove(_ref3) {\n    var name = _ref3.name,\n        callback = _ref3.callback;\n\n    if (!name) throw new Error(\"Listener must have a name to detach\");\n    if (!callback) throw new Error(\"Listener must have a callback to detach\");\n    window.removeEventListener(name, callback);\n  }\n  return Object.freeze({\n    emit: emit,\n    listen: listen,\n    remove: remove\n  });\n}();\n\nexports.default = Event;\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=goat-fluent.min.js.map","!function(t,n){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=n():\"function\"==typeof define&&define.amd?define(n):t.dayjs=n()}(this,function(){\"use strict\";var t=\"millisecond\",n=\"second\",e=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",o=\"quarter\",a=\"year\",h=/^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,f=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,n,e){var r=String(t);return!r||r.length>=n?t:\"\"+Array(n+1-r.length).join(e)+t},d={s:c,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?\"+\":\"-\")+c(r,2,\"0\")+\":\"+c(i,2,\"0\")},m:function(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,u),i=n-r<0,s=t.clone().add(e+(i?-1:1),u);return Number(-(e+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:a,w:s,d:i,h:r,m:e,s:n,ms:t,Q:o}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},l=\"en\",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,n,e){var r;if(!t)return null;if(\"string\"==typeof t)m[t]&&(r=t),n&&(m[t]=n,r=t);else{var i=t.name;m[i]=t,r=i}return e||(l=r),r},g=function(t,n,e){if(y(t))return t.clone();var r=n?\"string\"==typeof n?{format:n,pl:e}:n:{};return r.date=t,new v(r)},D=d;D.l=M,D.i=y,D.w=function(t,n){return g(t,{locale:n.$L,utc:n.$u})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0)||l,this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(D.u(n))return new Date;if(n instanceof Date)return new Date(n);if(\"string\"==typeof n&&!/Z$/i.test(n)){var r=n.match(h);if(r)return e?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(n)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return D},d.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},d.isSame=function(t,n){var e=g(t);return this.startOf(n)<=e&&e<=this.endOf(n)},d.isAfter=function(t,n){return g(t)<this.startOf(n)},d.isBefore=function(t,n){return this.endOf(n)<g(t)},d.$g=function(t,n,e){return D.u(t)?this[n]:this.set(e,t)},d.year=function(t){return this.$g(t,\"$y\",a)},d.month=function(t){return this.$g(t,\"$M\",u)},d.day=function(t){return this.$g(t,\"$W\",i)},d.date=function(t){return this.$g(t,\"$D\",\"date\")},d.hour=function(t){return this.$g(t,\"$H\",r)},d.minute=function(t){return this.$g(t,\"$m\",e)},d.second=function(t){return this.$g(t,\"$s\",n)},d.millisecond=function(n){return this.$g(n,\"$ms\",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,o){var h=this,f=!!D.u(o)||o,c=D.p(t),d=function(t,n){var e=D.w(h.$u?Date.UTC(h.$y,n,t):new Date(h.$y,n,t),h);return f?e:e.endOf(i)},$=function(t,n){return D.w(h.toDate()[t].apply(h.toDate(),(f?[0,0,0,0]:[23,59,59,999]).slice(n)),h)},l=this.$W,m=this.$M,y=this.$D,M=\"set\"+(this.$u?\"UTC\":\"\");switch(c){case a:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case\"date\":return $(M+\"Hours\",0);case r:return $(M+\"Minutes\",1);case e:return $(M+\"Seconds\",2);case n:return $(M+\"Milliseconds\",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,o){var h,f=D.p(s),c=\"set\"+(this.$u?\"UTC\":\"\"),d=(h={},h[i]=c+\"Date\",h.date=c+\"Date\",h[u]=c+\"Month\",h[a]=c+\"FullYear\",h[r]=c+\"Hours\",h[e]=c+\"Minutes\",h[n]=c+\"Seconds\",h[t]=c+\"Milliseconds\",h)[f],$=f===i?this.$D+(o-this.$W):o;if(f===u||f===a){var l=this.clone().set(\"date\",1);l.$d[d]($),l.init(),this.$d=l.set(\"date\",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,n){return this.clone().$set(t,n)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,o){var h,f=this;t=Number(t);var c=D.p(o),d=function(n){var e=g(f);return D.w(e.date(e.date()+Math.round(n*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===a)return this.set(a,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[e]=6e4,h[r]=36e5,h[n]=1e3,h)[c]||1,l=this.valueOf()+t*$;return D.w(l,this)},d.subtract=function(t,n){return this.add(-1*t,n)},d.format=function(t){var n=this;if(!this.isValid())return\"Invalid Date\";var e=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,o=this.$M,a=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(n,e))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,n,e){var r=t<12?\"AM\":\"PM\";return e?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,\"0\"),MMM:c(i.monthsShort,o,h,3),MMMM:h[o]||h(this,e),D:this.$D,DD:D.s(this.$D,2,\"0\"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,a,2),ddd:c(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:D.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,\"0\"),s:String(this.$s),ss:D.s(this.$s,2,\"0\"),SSS:D.s(this.$ms,3,\"0\"),Z:r};return e.replace(f,function(t,n){return n||l[t]||r.replace(\":\",\"\")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[a]=y/12,c[u]=y,c[o]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[e]=m/6e4,c[n]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,n){if(!t)return this.$L;var e=this.clone();return e.$L=M(t,n,!0),e},d.clone=function(){return D.w(this.toDate(),this)},d.toDate=function(){return new Date(this.$d)},d.toJSON=function(){return this.toISOString()},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,n){return t(n,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});\n","import dayjs from \"dayjs\";\nimport Utilities from \"utilities\";\nimport { Fluent } from \"@goatlab/goat-fluent\";\nimport Labels from \"./repositories/Labels\";\nimport Configuration from \"./Configuration\";\n\nexport default Fluent.model({\n  properties: {\n    name: \"Form\",\n    config: {\n      remote: {\n        path: \"form\",\n        pullForm: true\n      }\n    }\n  },\n  methods: {\n    getModel({ path }) {\n      return Fluent.model({\n        properties: {\n          config: {\n            remote: { path }\n          }\n        }\n      })();\n    },\n    get() {\n      return this.remote()\n        .limit(99999)\n        .get();\n    },\n    find({ _id }) {\n      return this.remote()\n        .where(\"_id\", \"=\", _id)\n        .first();\n    },\n    update(form) {\n      return this.remote().update(form);\n    },\n    insert(form) {\n      return this.remote().insert(form);\n    },\n    delete(_id) {\n      return this.remote().remove(_id);\n    },\n    /**\n     *\n     * @param {*} action\n     */\n    async cardFormattedForms(action) {\n      let result = await this.local().get();\n      result = result.filter(o => {\n        return o.data.tags.indexOf(\"visible\") > -1;\n      });\n      result = result.sort((a, b) => {\n        a = a.data.title;\n        b = b.data.title;\n        return a > b ? 1 : a < b ? -1 : 0;\n      });\n\n      result = result.map(f => {\n        return {\n          title: f.data.title,\n          tags: f.data.tags,\n          customIcon: true,\n          icon:\n            action === \"create\"\n              ? \"statics/customSVG/startSurvey.svg\"\n              : \"statics/customSVG/collectedData.svg\",\n          subtitle: \"Last updated: \" + dayjs(f.data.modified).fromNow(),\n          actions: [\n            {\n              text: action === \"create\" ? \"Start\" : \"View data\",\n              target: \"form\",\n              view: action,\n              path: f.data.path\n            }\n          ]\n        };\n      });\n\n      result = { cards: result };\n      return result;\n    },\n    /**\n     *\n     */\n    async FormLabels(i18n) {\n      let forms = await this.local().get();\n\n      return Labels.get(forms, i18n);\n    },\n    /**\n     *\n     * @param {*} forms\n     */\n    getUpdatedAt(forms) {\n      return Utilities.get(() => forms[0].fastUpdated, 0);\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async setOffline({ appConf }) {\n      let localForms = await this.local().get();\n\n      let localDate = this.getUpdatedAt(localForms);\n      let config = await Configuration.local().first();\n      let offlineForms = Utilities.get(() => appConf.offlineFiles.Forms);\n\n      // If the JSON file is newer than the local\n      // DB data\n      if (config.fastUpdated < localDate) {\n        return localForms;\n      }\n\n      if (localForms) {\n        await this.local().clear({ sure: true });\n      }\n      const unixDate = dayjs().unix();\n      offlineForms.forEach(async form => {\n        await this.local().insert({ data: form, fastUpdated: unixDate });\n      });\n      return offlineForms;\n    },\n    /**\n     *\n     */\n    async setOnline() {\n      let remoteForms = await this.remote()\n        .limit(9999999)\n        .get();\n      let unixDate = dayjs().unix();\n\n      if (remoteForms && !Utilities.isEmpty(remoteForms)) {\n        await this.local().clear({ sure: true });\n        const forms = remoteForms.reduce((forms, form) => {\n          const element = {\n            data: form,\n            fastUpdated: unixDate\n          };\n          forms.push(element);\n          return forms;\n        }, []);\n        return await this.local().insert(forms, { showProgress: true });\n      }\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async set({ appConf, forceOnline }) {\n      if (!forceOnline) {\n        return this.setOffline({ appConf });\n      }\n      return this.setOnline();\n    },\n    async getFastTableTemplates({ path }) {\n      let fullForm = await this.local()\n        .where(\"data.path\", \"=\", path)\n        .first();\n\n      let templates = [];\n\n      Utilities.eachComponent(fullForm.data.components, c => {\n        if (c.properties && c.properties.FAST_TABLE_TEMPLATE) {\n          templates.push({\n            key: c.key,\n            template: c.properties.FAST_TABLE_TEMPLATE\n          });\n        }\n      });\n\n      return templates;\n    },\n    dataObject(form) {\n      return {};\n    }\n  }\n})();\n","/**\n * @param { Promise } promise\n * @param { Object= } errorExt - Additional Information you can pass to the err object\n * @return { Promise }\n */\nfunction to(promise, errorExt) {\n    return promise\n        .then(function (data) { return [null, data]; })\n        .catch(function (err) {\n        if (errorExt) {\n            Object.assign(err, errorExt);\n        }\n        return [err, undefined];\n    });\n}\n\nexport { to };\nexport default to;\n//# sourceMappingURL=await-to-js.es5.js.map\n","import Event from \"./Event\";\nimport Configuration from \"../models/Configuration\";\nimport axios from \"axios\";\nimport to from \"await-to-js\";\n/* eslint-disable no-unused-vars */\nlet Connection = (() => {\n  let online =\n    typeof window !== \"undefined\" && window && window.navigator\n      ? window.navigator.onLine\n      : true;\n\n  function setOnline() {\n    if (!online) {\n      online = true;\n      Event.emit({\n        name: \"GOAT:CONNECTION:ONLINE\",\n        data: online,\n        text: \"Application is now online\"\n      });\n    }\n  }\n\n  function setOffline() {\n    if (online) {\n      online = false;\n      Event.emit({\n        name: \"GOAT:CONNECTION:OFFLINE\",\n        data: online,\n        text: \"Application is now offline\"\n      });\n    }\n  }\n\n  /**\n   * [status description]\n   * @return {Promise} [description]\n   */\n  function initEventListeners() {\n    Event.listen({\n      name: \"online\",\n      callback: function() {\n        console.log(\"App is now online\");\n        setOnline();\n      }\n    });\n    Event.listen({\n      name: \"offline\",\n      callback: function() {\n        console.log(\"App is now offline\");\n        setOffline();\n      }\n    });\n  }\n\n  const isOnline = async () => {\n    let url = (await Configuration.local().first()).APP_URL;\n    const [error] = await to(axios.get(`${url}/pong`));\n\n    if (error) {\n      return false;\n    }\n    return true;\n  };\n\n  return Object.freeze({\n    isOnline,\n    initEventListeners\n  });\n})();\n\nexport default Connection;\n","module.exports = require('./lib/axios');","let Event = (() => {\n  let CustomEvent = function (event, params) {\n    var evt = document.createEvent('CustomEvent');\n\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  };\n\n  function emit ({ name, data, text }) {\n    if (!name) throw new Error('Event must have a name.');\n    if (!data) throw new Error('Event must have data.');\n    if (!text) throw new Error('Event must have a text.');\n    let customEvent = CustomEvent(name, {\n      detail: {\n        data: data,\n        text: text\n      }\n    });\n\n    window.dispatchEvent(customEvent);\n  }\n  function listen ({ name, callback }) {\n    if (!name) throw new Error('Listener must have a name.');\n    if (!callback) throw new Error('Listener must have a callback.');\n    window.addEventListener(name, callback);\n  }\n\n  function remove ({ name, callback }) {\n    if (!name) throw new Error('Listener must have a name to detach');\n    if (!callback) throw new Error('Listener must have a callback to detach');\n    window.removeEventListener(name, callback);\n  }\n  return Object.freeze({\n    emit,\n    listen,\n    remove\n  });\n})();\n\nexport default Event;\n","import Auth from \"repositories/Auth/Auth\";\nimport dayjs from \"dayjs\";\nimport Utilities from \"utilities\";\nimport Form from \"models/Form\";\nimport { Fluent } from \"@goatlab/goat-fluent\";\nimport Columns from \"./repositories/Columns\";\nimport to from \"await-to-js\";\nimport axios from 'axios';\n\nexport default Fluent.model({\n  properties: {\n    name: \"Submission\",\n    config: {\n      remote: undefined\n    }\n  },\n  init({ path }) {\n    this.path = path;\n    this.config = {\n      remote: { path }\n    };\n  },\n  methods: {\n    async form() {\n      // return this.belongTo('Form', 'path', 'path');\n    },\n    async getUnsync() {\n      let unsynced = (await this.local()\n        .where(\"sync\", \"=\", false)\n        .andWhere(\"draft\", \"=\", false)\n        .andWhere(\"syncError\", \"=\", false)\n        .owner(Auth().connector().email())\n        .orderBy(\"created\", \"desc\", \"date\")\n        .get()).filter(d => {\n        return !d.queuedForSync;\n      });\n\n      return unsynced;\n    },\n    async showView({ from, limit, owner, paginator, filter, url, timeFilter, companyFilter, classifier }) {\n      let tableCols = await Columns.getTableView(this.path);\n      let cols = tableCols.map(\n        o => `data.${o.path} as ${o.path}`\n      );\n\n      tableCols = tableCols.map(\n        o => o.path\n      );\n\n      cols = [\n        ...cols,\n        \"_id\",\n        \"created\",\n        \"modified\",\n        \"syncError\",\n        \"draft\",\n        \"sync\"\n      ];\n\n      let submissions = [];\n\n      if (from === \"remote\") {\n        let error, result;\n        if (!paginator) {\n          if (!timeFilter) {\n            [error, result] = await to(\n              this.remote()\n                .select(cols)\n                .limit(limit)\n                .get()\n            );\n          } else {\n            [error, result] = await to(\n              this.remote()\n                .where('modified', '>=', dayjs().subtract(1, timeFilter).toISOString())\n                .select(cols)\n                .limit(limit)\n                .get()\n            );\n          }\n        } else {\n          let parameters = {\n            tableCols,\n            paginator,\n            filter,\n            classifiedBy: owner\n          }\n\n          if (classifier) {\n            parameters = {\n              ...parameters,\n              timeFilter: dayjs().subtract(1, timeFilter).toISOString(),\n              extraFilters: companyFilter !== 'all' ? { 'data.company': companyFilter } : {}\n            };\n          }\n\n          const resultAxios = await axios.get(`${url.base}/tableSearch/${url.form}`, {\n            params: parameters\n          });\n\n          const flattenedResponse = resultAxios.data.docs.map(sub => {\n            const o = {}; \n            for (const col of cols) {\n              const res = Utilities.getFromPath(sub, col, '');\n              o[res.label] = res.value;\n            }\n            return o;\n          });\n\n          paginator = {\n            page: resultAxios.data.page,\n            rowsPerPage: resultAxios.data.limit,\n            rowsNumber: resultAxios.data.totalDocs\n          };\n\n          result = {\n            paginator,\n            data: flattenedResponse\n          };\n        }\n\n        if (error) {\n          console.log(\"error\", error);\n          submissions = [];\n        }\n        submissions = !error && result;\n      } else {\n        submissions = await this.local()\n          .select(cols)\n          .limit(limit)\n          .owner(owner)\n          .get();\n\n        const [error, result] = await to(\n          this.remote()\n            .select(cols)\n            .limit(limit)\n            .owner(Auth().connector().user()._id)\n            .get()\n        );\n\n        let remote = [];\n        if (error) {\n          console.log(\"error\", error);\n        }\n\n        remote = error ? [] : result;\n\n        submissions = [...submissions, ...remote];\n      }\n\n      let templates = await Form.getFastTableTemplates({ path: this.path });\n\n      if (paginator) {\n        submissions.data = submissions.data.map(s => {\n          let sub = {\n            _id: s._id,\n            status: s.sync === false ? \"offline\" : \"online\",\n            draft: s.draft,\n            HumanUpdated: Number.isInteger(s.modified)\n              ? dayjs.unix(s.modified).fromNow()\n              : dayjs(s.modified).fromNow(),\n            syncError: s.syncError ? s.syncError : false,\n            updated: Number.isInteger(s.modified)\n              ? s.modified\n              : dayjs(s.modified).unix()\n          };\n  \n          // Custom templates using FAST_TABLE_TEMPLATE propertie\n          templates.forEach(t => {\n            /* eslint-disable */\n            let newFx = new Function(\"value\", \"data\", t.template);\n            /* eslint-enable */\n            try {\n              s[t.key] = newFx(s[t.key], s);\n            } catch (error) {\n              console.log(\"There is an error in one of your calculations\", error);\n            }\n          });\n  \n          return { ...sub, ...s };\n        });\n\n        submissions.data = submissions.data.sort((a, b) => {\n          a = new Date(a.updated);\n          b = new Date(b.updated);\n          return a > b ? -1 : a < b ? 1 : 0;\n        });\n      } else {\n        submissions = submissions.map(s => {\n          let sub = {\n            _id: s._id,\n            status: s.sync === false ? \"offline\" : \"online\",\n            draft: s.draft,\n            HumanUpdated: Number.isInteger(s.modified)\n              ? dayjs.unix(s.modified).fromNow()\n              : dayjs(s.modified).fromNow(),\n            syncError: s.syncError ? s.syncError : false,\n            updated: Number.isInteger(s.modified)\n              ? s.modified\n              : dayjs(s.modified).unix()\n          };\n\n          // Custom templates using FAST_TABLE_TEMPLATE propertie\n          templates.forEach(t => {\n            /* eslint-disable */\n            let newFx = new Function(\"value\", \"data\", t.template);\n            /* eslint-enable */\n            try {\n              s[t.key] = newFx(s[t.key], s);\n            } catch (error) {\n              console.log(\"There is an error in one of your calculations\", error);\n            }\n          });\n\n          return { ...sub, ...s };\n        });\n\n        submissions = submissions.sort((a, b) => {\n          a = new Date(a.updated);\n          b = new Date(b.updated);\n          return a > b ? -1 : a < b ? 1 : 0;\n        });\n      }\n\n      return submissions;\n    },\n    async getParallelParticipants(_id, path) {\n      let currentSubmission = await this.local()\n        .where(\"_id\", \"=\", _id)\n        .first();\n\n      let groupId = Utilities.get(() => currentSubmission.data.parallelSurvey);\n\n      groupId =\n        groupId && groupId !== \"[object Object]\"\n          ? JSON.parse(groupId).groupId\n          : undefined;\n\n      let submissions = await this.local()\n        .where(\"path\", \"=\", path)\n        .get();\n\n      let a = submissions.filter(submission => {\n        let parallelSurveyID = Utilities.get(\n          () => submission.data.parallelSurvey\n        );\n        try {\n          parallelSurveyID =\n            parallelSurveyID && parallelSurveyID !== \"[object Object]\"\n              ? JSON.parse(parallelSurveyID).groupId\n              : undefined;\n          return parallelSurveyID && parallelSurveyID === groupId;\n        } catch (e) {\n          return false;\n        }\n      });\n\n      return a.map(e => JSON.parse(e.data.parallelSurvey));\n    },\n    getParallelSurvey(submission) {\n      let parallelsurveyInfo = Utilities.get(() => submission.parallelSurvey);\n\n      parallelsurveyInfo =\n        parallelsurveyInfo && parallelsurveyInfo !== \"[object Object]\"\n          ? JSON.parse(parallelsurveyInfo)\n          : undefined;\n\n      return parallelsurveyInfo;\n    },\n    setParallelSurvey(parallelsurveyInfo) {\n      return JSON.stringify(parallelsurveyInfo);\n    },\n    async getGroups(formId) {\n      let submissions = await this.local()\n        .where(\"path\", \"=\", formId)\n        .get();\n\n      submissions = formId\n        ? submissions.filter(submission => {\n            return submission.data.formio.formId === formId;\n          })\n        : submissions;\n\n      let groups = submissions.map(submission => {\n        return this.local().getParallelSurvey(submission)\n          ? {\n              groupId: this.local().getParallelSurvey(submission).groupId,\n              groupName: this.local().getParallelSurvey(submission).groupName\n            }\n          : undefined;\n      });\n\n      groups = groups.filter(group => {\n        return typeof group !== \"undefined\";\n      });\n\n      return Utilities.uniqBy(groups, \"groupId\");\n    },\n    async getGroup(id) {\n      let groups = await this.local().getGroups();\n\n      groups = groups.filter(group => {\n        return group.groupId === id;\n      });\n      return groups[0];\n    },\n\n    async removeFromGroup(submission) {},\n\n    async assingToGroup(submissionId, groupId) {\n      let group = await this.local().getGroup(groupId[0]);\n      let submission = await this.local().get(submissionId);\n\n      let parallelData = this.local().getParallelSurvey(submission);\n\n      let parallelSurvey = {\n        ...parallelData,\n        groupId: group.groupId,\n        groupName: group.groupName\n      };\n\n      submission.data.data.parallelSurvey = this.local().setParallelSurvey(\n        parallelSurvey\n      );\n      await this.local().update(submission);\n    }\n  }\n});\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import axios from \"axios\";\nimport Configuration from \"./Configuration\";\nimport Utilities from \"utilities\";\nimport { Fluent } from \"@goatlab/goat-fluent\";\nimport Connection from \"../Wrappers/Connection\";\nimport to from \"await-to-js\";\nimport Form from \"../models/Form\";\n\nexport default Fluent.model({\n  properties: {\n    name: \"User\",\n    config: {\n      remote: {\n        path: \"user\",\n        token: undefined\n      }\n    }\n  },\n  methods: {\n    async storeLocally(user) {\n      let localUser = await this.local()\n        .where(\"data.email\", \"=\", user.data.email)\n        .first();\n\n      user = Utilities.deleteNulls(user);\n      let isUserAlreadyStored = !!localUser && !Utilities.isEmpty(localUser);\n\n      //  check if user is already present in local storage\n      if (isUserAlreadyStored) {\n        throw new Error(\"The user email is already taken\");\n      }\n\n      if (Connection.isOnline()) {\n        let [error, onlineUser] = await to(\n          Form.getModel({ path: \"userregister\" })\n            .remote()\n            .insert(user)\n        );\n\n        if (error) {\n          throw new Error(\"The user email is already taken\");\n        }\n        return this.local().insert(onlineUser);\n      }\n\n      return this.local().insert(user);\n    },\n    async updateUser(user) {\n      let localUser = await this.local()\n        .where(\"data.email\", \"=\", user.userId)\n        .pluck(\"_id\");\n\n      localUser.forEach(async _id => {\n        await this.local().remove(_id);\n      });\n\n      user = Utilities.deleteNulls(user);\n\n      return this.local().insert(user);\n    },\n    async login({ credentials, role }) {\n      let url = (await Configuration.local().first()).APP_URL;\n\n      url = url + \"/users/login\";\n\n      return axios.post(url, credentials);\n    }\n  }\n})();\n","var compose = require('@stamp/compose');\nvar Shortcut = require('@stamp/shortcut');\nvar isStamp = require('@stamp/is/stamp');\nvar isString = require('@stamp/is/string');\nvar isObject = require('@stamp/is/object');\nvar isFunction = require('@stamp/is/function');\nvar merge = require('@stamp/core/merge');\nvar assign = require('@stamp/core/assign');\n\nvar concat = Array.prototype.concat;\nfunction extractFunctions() {\n  var fns = concat.apply([], arguments).filter(isFunction);\n  return fns.length === 0 ? undefined : fns;\n}\n\nfunction standardiseDescriptor(descr) {\n  if (!isObject(descr)) return descr;\n\n  var methods = descr.methods;\n  var properties = descr.properties;\n  var props = descr.props;\n  var initializers = descr.initializers;\n  var init = descr.init;\n  var composers = descr.composers;\n  var deepProperties = descr.deepProperties;\n  var deepProps = descr.deepProps;\n  var pd = descr.propertyDescriptors;\n  var staticProperties = descr.staticProperties;\n  var statics = descr.statics;\n  var staticDeepProperties = descr.staticDeepProperties;\n  var deepStatics = descr.deepStatics;\n  var configuration = descr.configuration;\n  var conf = descr.conf;\n  var deepConfiguration = descr.deepConfiguration;\n  var deepConf = descr.deepConf;\n\n  var p = isObject(props) || isObject(properties) ?\n    assign({}, props, properties) : undefined;\n\n  var dp = isObject(deepProps) ? merge({}, deepProps) : undefined;\n  dp = isObject(deepProperties) ? merge(dp, deepProperties) : dp;\n\n  var sp = isObject(statics) || isObject(staticProperties) ?\n    assign({}, statics, staticProperties) : undefined;\n\n  var sdp = isObject(deepStatics) ? merge({}, deepStatics) : undefined;\n  sdp = isObject(staticDeepProperties) ? merge(sdp, staticDeepProperties) : sdp;\n\n  var spd = descr.staticPropertyDescriptors;\n  if (isString(descr.name)) spd = assign({}, spd || {}, { name: { value: descr.name } });\n\n  var c = isObject(conf) || isObject(configuration) ?\n    assign({}, conf, configuration) : undefined;\n\n  var dc = isObject(deepConf) ? merge({}, deepConf) : undefined;\n  dc = isObject(deepConfiguration) ? merge(dc, deepConfiguration) : dc;\n\n  var ii = extractFunctions(init, initializers);\n\n  var cc = extractFunctions(composers);\n\n  var descriptor = {};\n  if (methods) descriptor.methods = methods;\n  if (p) descriptor.properties = p;\n  if (ii) descriptor.initializers = ii;\n  if (cc) descriptor.composers = cc;\n  if (dp) descriptor.deepProperties = dp;\n  if (sp) descriptor.staticProperties = sp;\n  if (sdp) descriptor.staticDeepProperties = sdp;\n  if (pd) descriptor.propertyDescriptors = pd;\n  if (spd) descriptor.staticPropertyDescriptors = spd;\n  if (c) descriptor.configuration = c;\n  if (dc) descriptor.deepConfiguration = dc;\n\n  return descriptor;\n}\n\nfunction stampit() {\n  'use strict'; // to make sure `this` is not pointing to `global` or `window`\n  var length = arguments.length, args = [];\n  for (var i = 0; i < length; i += 1) {\n    var arg = arguments[i];\n    args.push(isStamp(arg) ? arg : standardiseDescriptor(arg));\n  }\n\n  return compose.apply(this || baseStampit, args); // jshint ignore:line\n}\n\nvar baseStampit = Shortcut.compose({\n  staticProperties: {\n    create: function () { return this.apply(this, arguments); },\n    compose: stampit // infecting\n  }\n});\n\nvar shortcuts = Shortcut.compose.staticProperties;\nfor (var prop in shortcuts) stampit[prop] = shortcuts[prop].bind(baseStampit);\nstampit.compose = stampit.bind();\n\nmodule.exports = stampit;\n","module.exports = function isObject(arg) {\n  var type = typeof arg;\n  return Boolean(arg) && (type === 'object' || type === 'function');\n};\n","import { Fluent } from \"@goatlab/goat-fluent\";\nimport Utilities from 'utilities';\nimport Connection from 'Wrappers/Connection';\nimport to from 'await-to-js';\nimport dayjs from 'dayjs';\n\nexport default Fluent.model({\n  properties: {\n    name: 'Role',\n    config: {\n      remote: {\n        path: 'access',\n        token: undefined,\n        pullForm: true\n      }\n    }\n  },\n  methods: {\n    async set({ url, appConf, forceOnline }) {\n      if (!forceOnline) {\n        return this.setOffline({ appConf });\n      }\n      return this.setOnline({ url });\n    },\n    getRolesDate(localRoles) {\n      return Utilities.get(() => localRoles.fastUpdated, 0);\n    },\n    async setOnline() {\n      let error;\n      let remoteRoles;\n\n      let localRoles = await this.local().first();\n\n      let isOnline = await Connection.isOnline();\n\n      if (isOnline) {\n        [error, remoteRoles] = await to(this.remote().first());\n\n        if (error) {\n          throw new Error(error);\n        }\n      }\n\n      remoteRoles = Utilities.get(() => remoteRoles.roles);\n\n      if (remoteRoles) {\n        if (localRoles) {\n          await this.local().clear();\n        }\n        remoteRoles.fastUpdated = dayjs().unix();\n\n        let insertedRoles = await this.local().insert(remoteRoles);\n\n        return insertedRoles;\n      }\n      return localRoles;\n    },\n    async setOffline({ appConf }) {\n      let localRoles = await this.local().first();\n\n      let rolesDate = this.getRolesDate(localRoles);\n      let offlineRolesDate = appConf.offlineFiles.lastUpdated.date;\n\n      if (offlineRolesDate > rolesDate || !localRoles) {\n        if (localRoles) {\n          await this.local().clear();\n        }\n        let insertedRoles = await this.local().insert(appConf.offlineFiles.Roles);\n\n        return insertedRoles;\n      }\n\n      return localRoles;\n    }\n  }\n})();\n","import Utilities from 'utilities';\nimport { Fluent } from \"@goatlab/goat-fluent\";\nimport Configuration from './Configuration';\nimport dayjs from 'dayjs';\n\nexport default Fluent.model({\n  properties: {\n    name: 'Translation',\n    config: {\n      remote: {\n        path: 'translations'\n      }\n    }\n  },\n  methods: {\n    async getFormTranslations() {\n      let i18n = {};\n\n      let localTranslations = await this.local().first();\n\n      localTranslations = Utilities.get(() => localTranslations.data, {});\n\n      Object.keys(localTranslations).forEach(languageCode => {\n        if (languageCode !== 'type') {\n          i18n[languageCode] = localTranslations[languageCode];\n        }\n      });\n      return i18n;\n    },\n    /**\n     *\n     */\n    async supportedLanguages() {\n      let translations = await this.local().get();\n\n      if (translations.length === 0) {\n        return [];\n      }\n\n      let isoLanguages = this.getIsoLanguages();\n      let languages = [];\n\n      translations = Utilities.get(() => translations[0].data, []);\n\n      Object.keys(translations).forEach(languageCode => {\n        let iso = isoLanguages.find(l => {\n          return l.code === languageCode;\n        });\n\n        if (iso) {\n          languages.push(iso);\n        }\n      });\n\n      languages = languages.sort((a, b) => {\n        a = a.label;\n        b = b.label;\n        return a > b ? 1 : a < b ? -1 : 0;\n      });\n      return languages;\n    },\n    /**\n     *\n     */\n    getIsoLanguages() {\n      return require('resources/isoLanguages.json');\n    },\n    /**\n     *\n     * @param {*} localTranslations\n     */\n    getLocalizationDate(localTranslations) {\n      return Utilities.get(() => localTranslations[0].fastUpdated, 0);\n    },\n    /**\n     * [authenticate description]\n     * @param  {[type]} username [description]\n     * @param  {[type]} password [description]\n     * @return {[type]}          [description]\n     */\n    async set({ appConf, forceOnline }) {\n      if (!forceOnline) {\n        return this.setOffline({ appConf });\n      }\n      return this.setOnline({ appConf });\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async setOffline({ appConf }) {\n      let localTranslations = await this.local().get();\n      let localDate = this.getLocalizationDate(localTranslations);\n      let config = await Configuration.local().first();\n      let offlineTranslations = appConf.offlineFiles.Translations;\n\n      // If the offline Json is older than the local data\n      if (config.fastUpdated < localDate) {\n        return localTranslations[0].data;\n      }\n      let trans = await this.process(offlineTranslations);\n\n      return this.storeTranslations(trans);\n    },\n    /**\n     *\n     * @param {*} param0\n     */\n    async setOnline({ appConf }) {\n      let localTranslations = await this.local().get();\n      let appTranslations = await this.remote()\n        .limit(50000)\n        .get();\n\n      if (appTranslations) {\n        appTranslations = await this.process(appTranslations);\n        appTranslations = await this.storeTranslations(appTranslations);\n        return appTranslations;\n      }\n\n      if (localTranslations.length > 0 && localTranslations[0].data) {\n        return localTranslations[0].data;\n      }\n    },\n    /**\n     *\n     * @param {*} translationsArray\n     */\n    async storeTranslations(translationsArray) {\n      // Remove all previous translations\n      this.local().clear({ sure: true });\n\n      // Insert the new ones\n      let appTranslations = await this.local().insert({\n        data: translationsArray,\n        fastUpdated: dayjs().unix()\n      });\n\n      return appTranslations.data;\n    },\n    /**\n     * [setTranslations description]\n     * @param {[type]} appTranslations [description]\n     */\n    async process(translations) {\n      let lenguages = this.getIsoLanguages();\n      let result = {};\n\n      result.label = {};\n      // Foreach of the locale lenguages, set the translations\n      lenguages.forEach(language => {\n        translations.forEach(translation => {\n          if (translation.data && translation.data[language.code]) {\n            if (!result[language.code]) {\n              result[language.code] = {};\n            }\n            result[language.code][translation.data.label] =\n              translation.data[language.code];\n          }\n\n          if (translation.data && translation.data.label) {\n            result['label'][translation.data.label] = translation.data.label;\n          }\n        });\n      });\n\n      return result;\n    },\n\n    async updateLabel(label, translation) {\n      let trans = await this.remote()\n        .where('data.label', '=', label)\n        .first();\n\n      let id = trans._id;\n\n      const newTranslations = { ...trans.data, ...translation };\n\n      let result = await this.remote().update({\n        _id: id,\n        data: newTranslations\n      });\n\n      return result;\n    },\n\n    async createTranslation(label) {\n      return this.remote().insert({\n        data: {\n          en: label,\n          label: label\n        }\n      });\n    }\n  }\n})();\n","import { Fluent } from \"@goatlab/goat-fluent\";\nimport Utilities from \"utilities\";\nimport Configuration from \"./Configuration\";\nimport to from \"await-to-js\";\nimport dayjs from \"dayjs\";\n\nexport default Fluent.model({\n  properties: {\n    name: \"Pages\",\n    config: {\n      remote: {\n        path: \"fast-app-pages\",\n        token: undefined\n      }\n    }\n  },\n  methods: {\n    /**\n     * Decides whether to set submissions\n     * Online or Offline\n     * @param {Object} config.appConfig The application Config\n     * @param {Boolean} config.forceOnline If we need online\n     */\n    async set({ appConf, forceOnline }) {\n      if (!forceOnline) {\n        return this.setOffline({ appConf });\n      }\n      return this.setOnline();\n    },\n    /**\n     * Sets all pages from the offline\n     * JSON files\n     * @param {Object} appConfig Application config\n     * @return {Object} App pages\n     */\n    async setOffline({ appConf }) {\n      let localPages = await this.local().first();\n      let localDate = this.getUpdatedDate(localPages);\n      let config = await Configuration.local().first();\n      let offlinePages = Utilities.get(\n        () => appConf.offlineFiles.Pages[0].data\n      );\n\n      // Check if pages follows new or legacy format\n      if (!offlinePages.hasOwnProperty(\"pages\")) {\n        const p = [];\n\n        for (let i = 0; i < appConf.offlineFiles.Pages.length; i += 1) {\n          p.push(appConf.offlineFiles.Pages[i].data);\n        }\n\n        offlinePages = {\n          pages: p,\n          submit: true\n        };\n      }\n\n      // If the configuration in the JSON file is\n      // older than the one in the local DB\n      if (config.fastUpdated < localDate) {\n        return Utilities.get(() => localPages.data);\n      }\n\n      if (localPages) {\n        await this.local().clear({ sure: true });\n      }\n      return this.local().insert({\n        ...offlinePages,\n        fastUpdated: dayjs().unix()\n      });\n    },\n    /**\n     * Sets all pages from the online\n     * JSON files\n     * @return {Object} App pages\n     */\n    async setOnline() {\n      let localPages = await this.local().first();\n      let [error, pages] = await to(\n        this.remote()\n          .limit(9999999)\n          .get()\n      );\n\n      if (error) {\n        console.log(error);\n        throw new Error(\"Could not get remote Pages.\");\n      }\n\n      // Check if pages follows new or legacy format\n      if (!pages[0].data.hasOwnProperty(\"pages\")) {\n        const p = [];\n\n        for (let i = 0; i < pages.length; i += 1) {\n          p.push(pages[i].data);\n        }\n\n        pages = {\n          pages: p,\n          submit: true\n        };\n      } else {\n        pages = Utilities.get(() => pages[0].data);\n      }\n\n      // If we pulled the remote pages and\n      // The submission is not empty\n      if (pages && !Utilities.isEmpty(pages)) {\n        if (localPages) {\n          await this.local().clear({ sure: true });\n        }\n        return this.local().insert({ ...pages, fastUpdated: dayjs().unix() });\n      }\n\n      return localPages;\n    },\n    /**\n     * Takes the local pages and gets the\n     * updated at date\n     *\n     * @param {Array} pages Array of local pages\n     * @returns {number} date las updated\n     */\n    getUpdatedDate(pages) {\n      return Utilities.get(() => pages.fastUpdated, 0);\n    }\n  }\n})();\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","import stampit from \"@stamp/it\";\nimport Formio from \"./Connectors/Formio\";\nimport Keycloak from \"./Connectors/Keycloak\";\nimport Loopback from \"./Connectors/Loopback\";\n\nexport default stampit({\n  init({ baseUrl }) {\n    this.baseUrl = baseUrl;\n  },\n  properties: {\n    default: \"Loopback\",\n    baseUrl: undefined,\n    connectors: {\n      Formio,\n      Keycloak,\n      Loopback\n    }\n  },\n  methods: {\n    getConnector(connector) {\n      return this.connectors[connector]({ baseUrl: this.baseUrl });\n    },\n    connector(connectorName) {\n      if (!connectorName) return this.getConnector(this.default);\n\n      return this.getConnector(connectorName);\n    }\n  }\n});\n","module.exports = function isFunction(arg) {\n  return typeof arg === 'function';\n};\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message))\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","import stampit from \"@stamp/it\";\n\nexport default stampit({\n  methods: {\n    user() {\n      throw new Error(\"user() method not implemented in this connector\");\n    },\n    email() {\n      throw new Error(\"email() method not implemented in this connector\");\n    },\n    hasRoleIn() {\n      throw new Error(\"hasRoleIn() method not implemented in this connector\");\n    },\n    hasRoleIdIn() {\n      throw new Error(\"hasRoleIdIn() method not implemented in this connector\");\n    },\n    hasRole() {\n      throw new Error(\"hasRole() method not implemented in this connector\");\n    },\n    check() {\n      throw new Error(\"check() method not implemented in this connector\");\n    },\n    logOut() {\n      throw new Error(\"logOut() method not implemented in this connector\");\n    },\n    attempt(credentials, baseUrl, role) {\n      throw new Error(\"authenticate() method not implemented in this connector\");\n    }\n  }\n});\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import User from 'models/User';\nimport Auth from 'repositories/Auth/Auth';\nimport Submission from 'models/Submission';\nimport OfflineData from 'repositories/Submission/OfflineData';\nimport Scheduler from 'repositories/Database/Scheduler';\n\nlet Sync = class {\n  /**\n   *\n   * @param {*} vm\n   */\n  static async now (vm) {\n    await Sync.syncUsers();\n\n    if (Auth().connector().check()) {\n      await Sync.syncSubmission(vm);\n    }\n  }\n  /**\n   *\n   * @param {*} db\n   * @param {*} vm\n   */\n  static async syncSubmission () {\n    let usersAreSync = await Sync.areUsersSynced();\n\n    if (!usersAreSync) {\n      return;\n    }\n\n    let unsyncSubmissions = await Submission().getUnsync();\n\n    let isSyncing = await Scheduler.isSyncing();\n\n    if (unsyncSubmissions.length > 0 && !isSyncing) {\n      OfflineData.send(unsyncSubmissions);\n    }\n  }\n  /**\n   *\n   */\n  static async getUsersToSync () {\n    return await User.local()\n      .where('sync', '=', false)\n      .andWhere('queuedForSync', '=', false)\n      .andWhere('syncError', '=', false)\n      .get();\n  }\n  /**\n   *\n   */\n  static async areUsersSynced () {\n    let users = await Sync.getUsersToSync();\n\n    return !!users && Array.isArray(users) && users.length === 0;\n  }\n  /**\n   *\n   * @param {*} param\n   */\n  static async syncUsers () {\n    let users = await Sync.getUsersToSync();\n\n    let isSyncing = await Scheduler.isSyncing();\n\n    if (Array.isArray(users) && users.length > 0 && !isSyncing) {\n      OfflineData.syncUsers(users);\n    }\n  }\n};\n\nexport default Sync;\n","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\nmodule.exports = function isBuffer (obj) {\n  return obj != null && obj.constructor != null &&\n    typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar buildURL = require('./../helpers/buildURL');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = require('./../helpers/cookies');\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","var isArray = require('@stamp/is/array');\nvar isFunction = require('@stamp/is/function');\nvar isObject = require('@stamp/is/object');\nvar isStamp = require('@stamp/is/stamp');\nvar isComposable = require('@stamp/is/composable');\n\nvar assign = require('@stamp/core/assign');\nvar merge = require('@stamp/core/merge');\n\nvar slice = Array.prototype.slice;\n\n/**\n * Creates new factory instance.\n * @returns {Function} The new factory function.\n */\nfunction createFactory() {\n  return function Stamp(options) {\n    var descriptor = Stamp.compose || {};\n    // Next line was optimized for most JS VMs. Please, be careful here!\n    var obj = {__proto__: descriptor.methods}; // jshint ignore:line\n\n    merge(obj, descriptor.deepProperties);\n    assign(obj, descriptor.properties);\n    Object.defineProperties(obj, descriptor.propertyDescriptors || {});\n\n    if (!descriptor.initializers || descriptor.initializers.length === 0) return obj;\n\n    if (options === undefined) options = {};\n    var inits = descriptor.initializers;\n    var length = inits.length;\n    for (var i = 0; i < length; i += 1) {\n      var initializer = inits[i];\n      if (isFunction(initializer)) {\n        var returnedValue = initializer.call(obj, options,\n          {instance: obj, stamp: Stamp, args: slice.apply(arguments)});\n        obj = returnedValue === undefined ? obj : returnedValue;\n      }\n    }\n\n    return obj;\n  };\n}\n\n/**\n * Returns a new stamp given a descriptor and a compose function implementation.\n * @param {Descriptor} [descriptor={}] The information about the object the stamp will be creating.\n * @param {Compose} composeFunction The \"compose\" function implementation.\n * @returns {Stamp}\n */\nfunction createStamp(descriptor, composeFunction) {\n  var Stamp = createFactory();\n\n  if (descriptor.staticDeepProperties) {\n    merge(Stamp, descriptor.staticDeepProperties);\n  }\n  if (descriptor.staticProperties) {\n    assign(Stamp, descriptor.staticProperties);\n  }\n  if (descriptor.staticPropertyDescriptors) {\n    Object.defineProperties(Stamp, descriptor.staticPropertyDescriptors);\n  }\n\n  var composeImplementation = isFunction(Stamp.compose) ? Stamp.compose : composeFunction;\n  Stamp.compose = function _compose() {\n    'use strict'; // to make sure `this` is not pointing to `global` or `window`\n    return composeImplementation.apply(this, arguments);\n  };\n  assign(Stamp.compose, descriptor);\n\n  return Stamp;\n}\n\nfunction concatAssignFunctions(dstObject, srcArray, propName) {\n  if (!isArray(srcArray)) return;\n\n  var length = srcArray.length;\n  var dstArray = dstObject[propName] || [];\n  dstObject[propName] = dstArray;\n  for (var i = 0; i < length; i += 1) {\n    var fn = srcArray[i];\n    if (isFunction(fn) && dstArray.indexOf(fn) < 0) {\n      dstArray.push(fn);\n    }\n  }\n}\n\n\nfunction combineProperties(dstObject, srcObject, propName, action) {\n  if (!isObject(srcObject[propName])) return;\n  if (!isObject(dstObject[propName])) dstObject[propName] = {};\n  action(dstObject[propName], srcObject[propName]);\n}\n\nfunction deepMergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, merge);\n}\nfunction mergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, assign);\n}\n\n/**\n * Mutates the dstDescriptor by merging the srcComposable data into it.\n * @param {Descriptor} dstDescriptor The descriptor object to merge into.\n * @param {Composable} [srcComposable] The composable\n * (either descriptor or stamp) to merge data form.\n */\nfunction mergeComposable(dstDescriptor, srcComposable) {\n  var srcDescriptor = (srcComposable && srcComposable.compose) || srcComposable;\n\n  mergeAssign(dstDescriptor, srcDescriptor, 'methods');\n  mergeAssign(dstDescriptor, srcDescriptor, 'properties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'propertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticProperties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'staticDeepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticPropertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'configuration');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepConfiguration');\n  concatAssignFunctions(dstDescriptor, srcDescriptor.initializers, 'initializers');\n  concatAssignFunctions(dstDescriptor, srcDescriptor.composers, 'composers');\n}\n\n/**\n * Given the list of composables (stamp descriptors and stamps) returns\n * a new stamp (composable factory function).\n * @typedef {Function} Compose\n * @param {...(Composable)} [arguments] The list of composables.\n * @returns {Stamp} A new stamp (aka composable factory function)\n */\nmodule.exports = function compose() {\n  'use strict'; // to make sure `this` is not pointing to `global` or `window`\n  var descriptor = {};\n  var composables = [];\n  if (isComposable(this)) {\n    mergeComposable(descriptor, this);\n    composables.push(this);\n  }\n\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i];\n    if (isComposable(arg)) {\n      mergeComposable(descriptor, arg);\n      composables.push(arg);\n    }\n  }\n\n  var stamp = createStamp(descriptor, compose);\n\n  var composers = descriptor.composers;\n  if (isArray(composers) && composers.length > 0) {\n    for (var j = 0; j < composers.length; j += 1) {\n      var composer = composers[j];\n      var returnedValue = composer({stamp: stamp, composables: composables});\n      stamp = isStamp(returnedValue) ? returnedValue : stamp;\n    }\n  }\n\n  return stamp;\n};\n\n\n/**\n * The Stamp Descriptor\n * @typedef {Function|Object} Descriptor\n * @returns {Stamp} A new stamp based on this Stamp\n * @property {Object} [methods] Methods or other data used as object instances' prototype\n * @property {Array<Function>} [initializers] List of initializers called for each object instance\n * @property {Array<Function>} [composers] List of callbacks called each time a composition happens\n * @property {Object} [properties] Shallow assigned properties of object instances\n * @property {Object} [deepProperties] Deeply merged properties of object instances\n * @property {Object} [staticProperties] Shallow assigned properties of Stamps\n * @property {Object} [staticDeepProperties] Deeply merged properties of Stamps\n * @property {Object} [configuration] Shallow assigned properties of Stamp arbitrary metadata\n * @property {Object} [deepConfiguration] Deeply merged properties of Stamp arbitrary metadata\n * @property {Object} [propertyDescriptors] ES5 Property Descriptors applied to object instances\n * @property {Object} [staticPropertyDescriptors] ES5 Property Descriptors applied to Stamps\n */\n\n/**\n * The Stamp factory function\n * @typedef {Function} Stamp\n * @returns {*} Instantiated object\n * @property {Descriptor} compose - The Stamp descriptor and composition function\n */\n\n/**\n * A composable object - stamp or descriptor\n * @typedef {Stamp|Descriptor} Composable\n */\n\n","module.exports = Array.isArray;\n","var isFunction = require('./function');\n\nmodule.exports = function isStamp(arg) {\n  return isFunction(arg) && isFunction(arg.compose);\n};\n","module.exports = Object.assign;\n","var isPlainObject = require('@stamp/is/plain-object');\nvar isObject = require('@stamp/is/object');\nvar isArray = require('@stamp/is/array');\n\n/**\n * The 'src' argument plays the command role.\n * The returned values is always of the same type as the 'src'.\n * @param dst The object to merge into\n * @param src The object to merge from\n * @returns {*}\n */\nfunction mergeOne(dst, src) {\n  if (src === undefined) return dst;\n\n  // According to specification arrays must be concatenated.\n  // Also, the '.concat' creates a new array instance. Overrides the 'dst'.\n  if (isArray(src)) return (isArray(dst) ? dst : []).concat(src);\n\n  // Now deal with non plain 'src' object. 'src' overrides 'dst'\n  // Note that functions are also assigned! We do not deep merge functions.\n  if (!isPlainObject(src)) return src;\n\n  // See if 'dst' is allowed to be mutated.\n  // If not - it's overridden with a new plain object.\n  var returnValue = isObject(dst) ? dst : {};\n\n  var keys = Object.keys(src);\n  for (var i = 0; i < keys.length; i += 1) {\n    var key = keys[i];\n\n    var srcValue = src[key];\n    // Do not merge properties with the 'undefined' value.\n    if (srcValue !== undefined) {\n      var dstValue = returnValue[key];\n      // Recursive calls to mergeOne() must allow only plain objects or arrays in dst\n      var newDst = isPlainObject(dstValue) || isArray(srcValue) ? dstValue : {};\n\n      // deep merge each property. Recursion!\n      returnValue[key] = mergeOne(newDst, srcValue);\n    }\n  }\n\n  return returnValue;\n}\n\nmodule.exports = function (dst) {\n  for (var i = 1; i < arguments.length; i++) {\n    dst = mergeOne(dst, arguments[i]);\n  }\n  return dst;\n};\n","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty;\nvar isArray = Array.isArray;\n\nvar hexTable = (function () {\n    var array = [];\n    for (var i = 0; i < 256; ++i) {\n        array.push('%' + ((i < 16 ? '0' : '') + i.toString(16)).toUpperCase());\n    }\n\n    return array;\n}());\n\nvar compactQueue = function compactQueue(queue) {\n    while (queue.length > 1) {\n        var item = queue.pop();\n        var obj = item.obj[item.prop];\n\n        if (isArray(obj)) {\n            var compacted = [];\n\n            for (var j = 0; j < obj.length; ++j) {\n                if (typeof obj[j] !== 'undefined') {\n                    compacted.push(obj[j]);\n                }\n            }\n\n            item.obj[item.prop] = compacted;\n        }\n    }\n};\n\nvar arrayToObject = function arrayToObject(source, options) {\n    var obj = options && options.plainObjects ? Object.create(null) : {};\n    for (var i = 0; i < source.length; ++i) {\n        if (typeof source[i] !== 'undefined') {\n            obj[i] = source[i];\n        }\n    }\n\n    return obj;\n};\n\nvar merge = function merge(target, source, options) {\n    if (!source) {\n        return target;\n    }\n\n    if (typeof source !== 'object') {\n        if (isArray(target)) {\n            target.push(source);\n        } else if (target && typeof target === 'object') {\n            if ((options && (options.plainObjects || options.allowPrototypes)) || !has.call(Object.prototype, source)) {\n                target[source] = true;\n            }\n        } else {\n            return [target, source];\n        }\n\n        return target;\n    }\n\n    if (!target || typeof target !== 'object') {\n        return [target].concat(source);\n    }\n\n    var mergeTarget = target;\n    if (isArray(target) && !isArray(source)) {\n        mergeTarget = arrayToObject(target, options);\n    }\n\n    if (isArray(target) && isArray(source)) {\n        source.forEach(function (item, i) {\n            if (has.call(target, i)) {\n                var targetItem = target[i];\n                if (targetItem && typeof targetItem === 'object' && item && typeof item === 'object') {\n                    target[i] = merge(targetItem, item, options);\n                } else {\n                    target.push(item);\n                }\n            } else {\n                target[i] = item;\n            }\n        });\n        return target;\n    }\n\n    return Object.keys(source).reduce(function (acc, key) {\n        var value = source[key];\n\n        if (has.call(acc, key)) {\n            acc[key] = merge(acc[key], value, options);\n        } else {\n            acc[key] = value;\n        }\n        return acc;\n    }, mergeTarget);\n};\n\nvar assign = function assignSingleSource(target, source) {\n    return Object.keys(source).reduce(function (acc, key) {\n        acc[key] = source[key];\n        return acc;\n    }, target);\n};\n\nvar decode = function (str, decoder, charset) {\n    var strWithoutPlus = str.replace(/\\+/g, ' ');\n    if (charset === 'iso-8859-1') {\n        // unescape never throws, no try...catch needed:\n        return strWithoutPlus.replace(/%[0-9a-f]{2}/gi, unescape);\n    }\n    // utf-8\n    try {\n        return decodeURIComponent(strWithoutPlus);\n    } catch (e) {\n        return strWithoutPlus;\n    }\n};\n\nvar encode = function encode(str, defaultEncoder, charset) {\n    // This code was originally written by Brian White (mscdex) for the io.js core querystring library.\n    // It has been adapted here for stricter adherence to RFC 3986\n    if (str.length === 0) {\n        return str;\n    }\n\n    var string = typeof str === 'string' ? str : String(str);\n\n    if (charset === 'iso-8859-1') {\n        return escape(string).replace(/%u[0-9a-f]{4}/gi, function ($0) {\n            return '%26%23' + parseInt($0.slice(2), 16) + '%3B';\n        });\n    }\n\n    var out = '';\n    for (var i = 0; i < string.length; ++i) {\n        var c = string.charCodeAt(i);\n\n        if (\n            c === 0x2D // -\n            || c === 0x2E // .\n            || c === 0x5F // _\n            || c === 0x7E // ~\n            || (c >= 0x30 && c <= 0x39) // 0-9\n            || (c >= 0x41 && c <= 0x5A) // a-z\n            || (c >= 0x61 && c <= 0x7A) // A-Z\n        ) {\n            out += string.charAt(i);\n            continue;\n        }\n\n        if (c < 0x80) {\n            out = out + hexTable[c];\n            continue;\n        }\n\n        if (c < 0x800) {\n            out = out + (hexTable[0xC0 | (c >> 6)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        if (c < 0xD800 || c >= 0xE000) {\n            out = out + (hexTable[0xE0 | (c >> 12)] + hexTable[0x80 | ((c >> 6) & 0x3F)] + hexTable[0x80 | (c & 0x3F)]);\n            continue;\n        }\n\n        i += 1;\n        c = 0x10000 + (((c & 0x3FF) << 10) | (string.charCodeAt(i) & 0x3FF));\n        out += hexTable[0xF0 | (c >> 18)]\n            + hexTable[0x80 | ((c >> 12) & 0x3F)]\n            + hexTable[0x80 | ((c >> 6) & 0x3F)]\n            + hexTable[0x80 | (c & 0x3F)];\n    }\n\n    return out;\n};\n\nvar compact = function compact(value) {\n    var queue = [{ obj: { o: value }, prop: 'o' }];\n    var refs = [];\n\n    for (var i = 0; i < queue.length; ++i) {\n        var item = queue[i];\n        var obj = item.obj[item.prop];\n\n        var keys = Object.keys(obj);\n        for (var j = 0; j < keys.length; ++j) {\n            var key = keys[j];\n            var val = obj[key];\n            if (typeof val === 'object' && val !== null && refs.indexOf(val) === -1) {\n                queue.push({ obj: obj, prop: key });\n                refs.push(val);\n            }\n        }\n    }\n\n    compactQueue(queue);\n\n    return value;\n};\n\nvar isRegExp = function isRegExp(obj) {\n    return Object.prototype.toString.call(obj) === '[object RegExp]';\n};\n\nvar isBuffer = function isBuffer(obj) {\n    if (!obj || typeof obj !== 'object') {\n        return false;\n    }\n\n    return !!(obj.constructor && obj.constructor.isBuffer && obj.constructor.isBuffer(obj));\n};\n\nvar combine = function combine(a, b) {\n    return [].concat(a, b);\n};\n\nmodule.exports = {\n    arrayToObject: arrayToObject,\n    assign: assign,\n    combine: combine,\n    compact: compact,\n    decode: decode,\n    encode: encode,\n    isBuffer: isBuffer,\n    isRegExp: isRegExp,\n    merge: merge\n};\n","'use strict';\n\nvar replace = String.prototype.replace;\nvar percentTwenties = /%20/g;\n\nmodule.exports = {\n    'default': 'RFC3986',\n    formatters: {\n        RFC1738: function (value) {\n            return replace.call(value, percentTwenties, '+');\n        },\n        RFC3986: function (value) {\n            return value;\n        }\n    },\n    RFC1738: 'RFC1738',\n    RFC3986: 'RFC3986'\n};\n","var GoatIsSyncing = false;\nlet Scheduler = class {\n  static async isSyncing() {\n    return GoatIsSyncing;\n  }\n  static async startSync() {\n    GoatIsSyncing = true;\n    return this.isSyncing();\n  }\n\n  static async stopSync() {\n    GoatIsSyncing = false;\n    return this.isSyncing();\n  }\n};\n\nexport default Scheduler;\n","import GOAT from \"./start\";\nimport Auth from \"./repositories/Auth/Auth\";\nimport Connection from \"./Wrappers/Connection\";\nimport Event from \"./Wrappers/Event\";\nimport Moment from \"./repositories/Date/moment\";\nimport SocketsInterface from \"./repositories/Sockets/SocketsInterface\";\nimport Form from \"models/Form\";\nimport Pages from \"models/Pages\";\nimport Submission from \"models/Submission\";\nimport ParallelSurvey from \"repositories/Submission/ParallelSurvey\";\nimport Configuration from \"./models/Configuration\";\nimport Translation from \"models/Translation\";\nimport Import from \"repositories/Submission/Import\";\nimport User from \"models/User\";\nimport OfflinePlugin from \"offlinePlugin/offlinePlugin\";\nimport Role from \"models/Role\";\nimport Hash from \"repositories/Submission/Hash\";\nimport Sync from \"repositories/Database/Sync\";\nimport Schedule from \"repositories/Schedule\";\nimport Utilities from \"utilities\";\n\nexport {\n  Schedule,\n  Moment,\n  SocketsInterface,\n  Event,\n  GOAT,\n  Connection,\n  Auth,\n  Form,\n  Pages,\n  Submission,\n  ParallelSurvey,\n  Configuration,\n  Translation,\n  Import,\n  User,\n  OfflinePlugin,\n  Role,\n  Hash,\n  Sync,\n  Utilities\n};\n","import Configuration from \"./models/Configuration\";\nimport Form from \"./models/Form\";\nimport Translation from \"./models/Translation\";\nimport Pages from \"./models/Pages\";\nimport SyncInterval from \"./repositories/Database/SyncInterval\";\nimport Roles from \"./models/Role\";\nimport { Fluent, MergeConnector } from \"@goatlab/goat-fluent\";\nimport loki from \"@goatlab/fluent-loki\";\nimport formio from \"@goatlab/fluent-formio\";\nimport loopback from \"@goatlab/fluent-loopback\";\nimport Utilities from \"./utilities\";\nimport ErrorHandler from \"./repositories/Errors/Errors\";\n\nlet GOAT = (() => {\n  /**\n   * Loads all configuration for the GOAT app\n   * This is the main start function and mandatory\n   * to execute if you will use it!\n   *\n   * @param {*} conf\n   * @param {*} conf.appConf Configuration of the App\n   */\n  async function start({ appConf, forceOnline }) {\n    ErrorHandler.interceptAxios();\n    if (!forceOnline) {\n      await Fluent.config({\n        REMOTE_CONNECTORS: [\n          {\n            name: \"formio\",\n            baseUrl: appConf.fluentFormioBaseUrl,\n            connector: formio\n          },\n          {\n            default: true,\n            name: \"loopback\",\n            baseUrl: appConf.loopbackBaseUrl,\n            connector: loopback\n          }\n        ],\n        LOCAL_CONNECTORS: [\n          {\n            name: \"loki\",\n            connector: loki,\n            default: true\n          }\n        ],\n        MERGE_CONNECTORS: [\n          {\n            default: true,\n            name: \"formioLoki\",\n            connector: MergeConnector\n          }\n        ]\n      });\n      SyncInterval.set(3000);\n    }\n    const config = await Configuration.set({ appConf });\n    let promises = [\n      Roles.set({ appConf, forceOnline }),\n      Pages.set({ appConf, forceOnline }),\n      Form.set({ appConf, forceOnline }),\n      Translation.set({ appConf, forceOnline })\n    ];\n\n    let results = await Promise.all(promises);\n\n    const appTranslations = results[3];\n\n    return {\n      config: config,\n      translations: appTranslations,\n      defaultLanguage: Utilities.getLanguage()\n    };\n  }\n  /**\n   *\n   * Triggers a full Online update of all Configuration,\n   * Forms, Pages and Roles of the application\n   *\n   * @param {Object} conf\n   * @param {Object} conf.appConf Configuration of the App\n   * @returns\n   */\n  async function sync({ appConf }) {\n    return start({ appConf, forceOnline: true });\n  }\n\n  return Object.freeze({\n    start,\n    sync\n  });\n})();\n\nexport default GOAT;\n","import Utilities from \"utilities\";\nimport Translation from \"models/Translation\";\nimport Pages from \"models/Pages\";\n\nclass FormLabels {\n  /**\n   *\n   * @param {*} formNameFilter\n   * @param {*} languageFilter\n   */\n  static async get(forms, i18n) {\n    return this.handle(forms, i18n);\n  }\n  /**\n   *\n   * @param {*} formNameFilter\n   * @param {*} languageFilter\n   */\n  static async handle(forms, i18n) {\n    let labels = await this.fetchAllLabels(forms, i18n);\n\n    let translations = (await Translation.local().first()).data;\n\n    // Merge labels and translations\n    Object.keys(translations).forEach(function(languageCode) {\n      let translationsLabels = translations[languageCode];\n\n      Object.keys(translationsLabels).forEach(function(translationLabel) {\n        if (\n          labels[translationLabel] &&\n          translationsLabels[translationLabel] &&\n          translationsLabels[translationLabel] !== \"\"\n        ) {\n          labels[translationLabel].translations[languageCode] =\n            translationsLabels[translationLabel];\n        }\n      });\n    });\n\n    return labels;\n  }\n  /**\n   *  Fetches all Labels for the different\n   *  types of labels inputs that the\n   *  application has\n   */\n  static async fetchAllLabels(forms, i18n) {\n    let allLabels = {};\n\n    forms = forms.map(form => {\n      return form.data;\n    });\n\n    let formLabels = this.getFormLabels(forms);\n\n    let appLabels = await this.getAppLabels(i18n);\n\n    allLabels = this.mergeLabels(formLabels, appLabels);\n\n    let pagesLabels = await this.getPagesLabels(await Pages.local().first());\n\n    allLabels = this.mergeLabels(allLabels, pagesLabels);\n\n    return allLabels;\n  }\n  /**\n   * Given an Object with text labels and a label Object\n   * to add. It checks if the label already exists or\n   * creates it if needed\n   * @param {Object} labels\n   * @param {Object} label\n   */\n  static createOrAdd({ labels, label }) {\n    let newObject = { ...labels };\n\n    if (!label) {\n      return newObject;\n    }\n\n    // If the label already exists\n    if (newObject[label.text]) {\n      // If the location is an Array of Locations\n      if (label.location && Array.isArray(label.location)) {\n        label.location.forEach(l => {\n          newObject[label.text].location.push({\n            text: label.text,\n            template: label.template,\n            type: l.type,\n            picture: l.picture\n          });\n        });\n      } else {\n        newObject[label.text].location.push(label);\n      }\n      // If the label does not exist\n    } else {\n      if (label.location && Array.isArray(label.location)) {\n        newObject[label.text] = {\n          location: [],\n          template: label.template,\n          translations: {}\n        };\n        label.location.forEach(l => {\n          newObject[label.text].location.push({\n            text: label.text,\n            template: label.template,\n            type: l.type,\n            picture: l.picture\n          });\n        });\n      } else {\n        newObject[label.text] = {\n          location: [label],\n          translations: {}\n        };\n      }\n    }\n    return newObject;\n  }\n  /**\n   * Merges 2 different sets of translations into\n   * a single one with no repeted elements\n   *\n   * @param {Object} labelsObject1\n   * @param {Object} labelsObject2\n   */\n  static mergeLabels(labelsObject1, labelsObject2) {\n    let merged = { ...labelsObject1 };\n\n    Object.keys(labelsObject2).forEach(key => {\n      merged = this.createOrAdd({\n        labels: merged,\n        label: {\n          ...labelsObject2[key],\n          text: key\n        }\n      });\n    });\n    return merged;\n  }\n  /**\n   * Extracts all labels that could potentially\n   * be translated from the Form.io forms\n   * @param {Array} Forms\n   */\n  static getFormLabels(Forms) {\n    const extrapolateTranslations = text => {\n      // The following regex captures all Form.io template interpolations using the\n      // formio component's instance i18n translation function (https://regexr.com/43sfm).\n      // Warning: the \"positive lookbehind\" (?<=) feature may not be available for all browsers.\n      // const regex = /(?<=\\{\\{\\s*?instance.t\\(\\s*?[\\'|\\\"])(.*?)(?=([\\'|\\\"]\\s*?\\))(\\s*?)\\}\\})/g;\n      const regex = /\\{\\{\\s*?instance.t\\(\\s*?[\\'|\\\"](.*?)(?=([\\'|\\\"]\\s*?\\))\\s*?\\}\\})/g;\n      const matched = [];\n      let match = regex.exec(text);\n      // Loop through all matches\n      while (match !== null) {\n        matched.push(\n          match[0].replace(/.*?instance\\.t\\(\\s*[\\'|\\\"']/, \"\").trim()\n        );\n        match = regex.exec(text);\n      }\n      return matched;\n    };\n\n    let componentLabels = {};\n    // Extract all labels for all available forms\n\n    let formioLabelsPositions = [\n      \"suffix\",\n      \"prefix\",\n      \"addAnother\",\n      \"removeRow\",\n      \"saveRow\",\n      \"legend\",\n      \"title\",\n      \"label\",\n      \"placeholder\",\n      \"errorLabel\"\n    ];\n\n    Forms.forEach(form => {\n      // Add title of the Forms to the translations\n      componentLabels = this.createOrAdd({\n        labels: componentLabels,\n        label: {\n          text: form.title,\n          type: \"formTitle\",\n          component: form.path,\n          form: form.path,\n          picture: null\n        }\n      });\n      // Go across every component\n      Utilities.eachComponent(\n        form.components,\n        component => {\n          // Check for the common translated Items listed above\n          formioLabelsPositions.forEach(position => {\n            if (component[position] && component[position] !== \"\") {\n              // Add the Label if is not empty\n              componentLabels = this.createOrAdd({\n                labels: componentLabels,\n                label: {\n                  text: component[position],\n                  type: position,\n                  component: component.key,\n                  form: form.path,\n                  picture: null\n                }\n              });\n            }\n          });\n\n          // Check for components that have tooltips\n          if (component.tooltip) {\n            const texts = extrapolateTranslations(component.tooltip);\n\n            if (texts.length === 0) {\n              texts.push(component.tooltip);\n            }\n\n            texts.forEach(text => {\n              componentLabels = this.createOrAdd({\n                labels: componentLabels,\n                label: {\n                  text,\n                  type: \"tooltip\",\n                  component: component.key,\n                  form: form.path,\n                  picture: null\n                }\n              });\n            });\n          }\n\n          // Check for components that have values with labels (i.e: radio)\n          if (component.values) {\n            component.values.forEach(value => {\n              if (value.label && value.label !== \"\") {\n                componentLabels = this.createOrAdd({\n                  labels: componentLabels,\n                  label: {\n                    text: value.label,\n                    type: \"value\",\n                    component: component.key,\n                    form: form.path,\n                    picture: null\n                  }\n                });\n              }\n            });\n          }\n\n          // Check for html text in HTML or Content components\n          if (\n            component.type === \"htmlelement\" ||\n            component.type === \"content\"\n          ) {\n            const html = (component.content || component.html || \"\").trim();\n\n            if (html !== \"\") {\n              const texts = extrapolateTranslations(html);\n              // If no interpolation found check if content is simple text (no html string)\n              if (texts.length === 0 && !/<[a-z][\\s\\S]*>/i.test(html)) {\n                texts.push(html);\n              }\n              // Create a label for each match (if none, don't anything)\n              texts.forEach(text => {\n                // Omit empty text strings\n                if (text !== \"\") {\n                  componentLabels = this.createOrAdd({\n                    labels: componentLabels,\n                    label: {\n                      text,\n                      type: \"html\",\n                      component: component.key,\n                      form: form.path,\n                      picture: null\n                    }\n                  });\n                }\n              });\n            }\n          }\n\n          // Check specificaly for select elements\n          if (component.type === \"select\") {\n            if (component.data && component.data.values) {\n              component.data.values.forEach(value => {\n                if (value.label && value.label !== \"\") {\n                  componentLabels = this.createOrAdd({\n                    labels: componentLabels,\n                    label: {\n                      text: value.label,\n                      type: \"selectValue\",\n                      component: component.key,\n                      form: form.path,\n                      picture: null\n                    }\n                  });\n                }\n              });\n            }\n          }\n\n          // Check for survey elements\n          if (component.type === \"survey\") {\n            if (component.questions) {\n              // Check for every question on the survey\n              component.questions.forEach(q => {\n                componentLabels = this.createOrAdd({\n                  labels: componentLabels,\n                  label: {\n                    text: q.label,\n                    type: \"surveyLabel\",\n                    component: component.key,\n                    form: form.path,\n                    picture: null\n                  }\n                });\n              });\n              // Check every text of the answers\n              component.values.forEach(v => {\n                componentLabels = this.createOrAdd({\n                  labels: componentLabels,\n                  label: {\n                    text: v.label,\n                    type: \"surveyValues\",\n                    component: component.key,\n                    form: form.path,\n                    picture: null\n                  }\n                });\n              });\n            }\n          }\n\n          // Check for Edit Grid component header and footer templates\n          if (component.type === \"editgrid\" && component.templates) {\n            const header = extrapolateTranslations(component.templates.header);\n            const footer = extrapolateTranslations(component.templates.footer);\n\n            // Create a label for each match (if none, don't anything)\n            Array()\n              .concat(header, footer)\n              .forEach(text => {\n                // Omit empty text strings\n                if (text !== \"\") {\n                  componentLabels = this.createOrAdd({\n                    labels: componentLabels,\n                    label: {\n                      text,\n                      type: \"editgrid\",\n                      component: component.key,\n                      form: form.path,\n                      picture: null\n                    }\n                  });\n                }\n              });\n          }\n        },\n        true\n      );\n    });\n\n    return componentLabels;\n  }\n  /**\n   *  Creates the Labels Object for the\n   *  App translations\n   * @param {Array} appLabels\n   */\n  static async getAppLabels(appLabels) {\n    let translations = {};\n\n    appLabels.forEach(l => {\n      translations = this.createOrAdd({\n        labels: translations,\n        label: l\n      });\n    });\n\n    return translations;\n  }\n  /**\n   *  Creates the Labels Object for the\n   *  App Pages\n   * @param {Array} appLabels\n   */\n  static async getPagesLabels(Pages) {\n    let pagesLabels = {};\n\n    Pages.pages.forEach(page => {\n      if (page.title && page.title !== \"\") {\n        pagesLabels = this.createOrAdd({\n          labels: pagesLabels,\n          label: {\n            text: page.title,\n            type: \"pageTitle\",\n            picture: null,\n            page: page\n          }\n        });\n      }\n      page.cards.forEach(card => {\n        if (card.title && card.title !== \"\") {\n          pagesLabels = this.createOrAdd({\n            labels: pagesLabels,\n            label: {\n              text: card.title,\n              type: \"pageCardTitle\",\n              picture: null,\n              card: card,\n              page: page\n            }\n          });\n        }\n\n        if (card.subtitle && card.subtitle !== \"\") {\n          this.createOrAdd({\n            labels: pagesLabels,\n            label: {\n              text: card.subtitle,\n              type: \"pageCardSubtitle\",\n              picture: null,\n              card: card,\n              page: page\n            }\n          });\n        }\n\n        card.actions.forEach(action => {\n          if (action.text && action.text !== \"\") {\n            pagesLabels = this.createOrAdd({\n              labels: pagesLabels,\n              label: {\n                text: action.text,\n                type: \"pageActionButtonText\",\n                picture: null,\n                card: card,\n                page: page\n              }\n            });\n          }\n        });\n      });\n    });\n\n    return pagesLabels;\n  }\n}\nexport default FormLabels;\n","import Sync from './Sync';\nimport Utilities from 'utilities';\n\nlet SyncInterval = (() => {\n  async function set (milliseconds) {\n    let rInterval = function (callback, delay) {\n      let dateNow = Date.now,\n        requestAnimation = (typeof window !== 'undefined') && window.requestAnimationFrame,\n        start = dateNow(),\n        stop,\n        intervalFunc = function () {\n          // eslint-disable-next-line no-use-before-define\n          dateNow() - start < delay || ((start += delay), callback());\n          // eslint-disable-next-line no-use-before-define\n          stop || requestAnimation(intervalFunc);\n        };\n\n      requestAnimation(intervalFunc);\n      return {\n        clear: function () {\n          stop = 1;\n        }\n      };\n    };\n\n    var _debouncedSync = Utilities.debounce(Sync.now, 2000);\n\n    rInterval(_debouncedSync, milliseconds);\n  }\n\n  return Object.freeze({\n    set\n  });\n})();\n\nexport default SyncInterval;\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","'use strict';\n\nvar defaults = require('./../defaults');\nvar utils = require('./../utils');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\nvar isAbsoluteURL = require('./../helpers/isAbsoluteURL');\nvar combineURLs = require('./../helpers/combineURLs');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","// More proper implementation would be\n// isDescriptor(obj) || isStamp(obj)\n// but there is no sense since stamp is function and function is object.\nmodule.exports = require('./object');\n","module.exports = function isPlainObject(value) {\n  return Boolean(value) && typeof value === 'object' &&\n    Object.getPrototypeOf(value) === Object.prototype;\n};\n","var compose = require('@stamp/compose');\n\nfunction createShortcut(propName) {\n  return function (arg) {\n    'use strict';\n    var param = {};\n    param[propName] = arg;\n    return this && this.compose ? this.compose(param) : compose(param);\n  };\n}\n\nvar properties = createShortcut('properties');\nvar staticProperties = createShortcut('staticProperties');\nvar configuration = createShortcut('configuration');\nvar deepProperties = createShortcut('deepProperties');\nvar staticDeepProperties = createShortcut('staticDeepProperties');\nvar deepConfiguration = createShortcut('deepConfiguration');\nvar initializers = createShortcut('initializers');\n\nmodule.exports = compose({\n  staticProperties: {\n    methods: createShortcut('methods'),\n\n    props: properties,\n    properties: properties,\n\n    statics: staticProperties,\n    staticProperties: staticProperties,\n\n    conf: configuration,\n    configuration: configuration,\n\n    deepProps: deepProperties,\n    deepProperties: deepProperties,\n\n    deepStatics: staticDeepProperties,\n    staticDeepProperties: staticDeepProperties,\n\n    deepConf: deepConfiguration,\n    deepConfiguration: deepConfiguration,\n\n    init: initializers,\n    initializers: initializers,\n\n    composers: createShortcut('composers'),\n\n    propertyDescriptors: createShortcut('propertyDescriptors'),\n\n    staticPropertyDescriptors: createShortcut('staticPropertyDescriptors')\n  }\n});\n","module.exports = function isString(arg) {\n  return typeof arg === 'string';\n};\n","import md5 from 'md5';\n// import Promise from 'bluebird';\nimport AuthInterface from '../AuthInterface';\nimport Configuration from '../../../models/Configuration';\nimport User from '../../../models/User';\nimport Connection from '../../../Wrappers/Connection';\nimport Utilities from '../../../utilities';\nimport Role from '../../../models/Role';\n\nexport default AuthInterface.compose({\n  methods: {\n    /**\n     *\n     *\n     * @param {any} credentials\n     * @returns\n     */\n    async localAuthenticate(credentials) {\n      const { username, password } = credentials;\n      let config = await Configuration.local().first();\n\n      // Hash password\n      const hashedPassword = md5(password, config.MD5_KEY);\n\n      // Get the user\n      let dbUser = await User.local()\n        .where('data.username', '=', username)\n        .get();\n      let userFound = dbUser && dbUser[0] ? dbUser[0] : undefined;\n\n      if (!userFound) {\n        throw new Error();\n      }\n      // Compare hashed passwords\n      const isValidUser = userFound.data.hashedPassword === hashedPassword;\n\n      if (!isValidUser) {\n        throw new Error();\n      }\n      // If is valid, return the user\n      return userFound;\n    },\n    /**\n     *\n     *\n     * @param {any} credentials\n     * @param {any} role\n     * @returns\n     */\n    async remoteAuthenticate(credentials, role) {\n      let response = await User.login({ credentials: credentials, role: role });\n      let user = response.data;\n\n      await User.updateUser(user);\n      return response;\n    },\n    /**\n     *\n     * Authenticates the User with the given credentials\n     * @param {any} credentials\n     * @param {any} role\n     * @returns\n     */\n    async authenticate(credentials, role) {\n      let isOnline = await Connection.isOnline();\n\n      if (isOnline) {\n        return this.remoteAuthenticate(credentials, role);\n      }\n      return this.localAuthenticate(credentials);\n    },\n    /**\n     *\n     *\n     * @param {any} credentials\n     * @param {any} role\n     * @returns\n     */\n    attempt(credentials, role) {\n      role = role || 'user';\n\n      return new Promise((resolve, reject) => {\n        this.authenticate(credentials, role)\n          // If credentials are OK\n          .then(async (response) => {\n            let headers = response.headers || {};\n            let user = response.data;\n            /* eslint-disable*/\n\n            user.x_jwt_token = headers['x-jwt-token'];\n            /* eslint-enable*/\n\n            // Save auth user\n            localStorage.setItem('authUser', JSON.stringify(user));\n            localStorage.setItem('formioToken', headers['x-jwt-token']);\n            // user.isAdmin = true\n            let roles = await Role.local().first();\n\n            user.rolesNames = [];\n            Object.keys(roles).forEach((key) => {\n              if (key !== '$loki' && key !== '_id' && key !== 'meta') {\n                if (user.roles && user.roles.indexOf(roles[key]._id) !== -1) {\n                  user.rolesNames.push(roles[key]);\n                }\n              }\n            });\n\n            localStorage.setItem('authUser', JSON.stringify(user));\n\n            resolve(user);\n          })\n          // If there are errors\n          .catch((error) => {\n            console.log('There was an error over here!');\n            reject(error);\n          });\n      });\n    },\n    /**\n     *\n     *\n     * @returns\n     */\n    user() {\n      try {\n        let user = JSON.parse(localStorage.getItem('authUser'));\n\n        return user === null ? false : user;\n      } catch (e) {\n        localStorage.removeItem('authUser');\n        return false;\n      }\n    },\n    /**\n     *\n     *\n     * @returns\n     */\n    email() {\n      let email = '';\n\n      if (this.user() && this.user().data && this.user().data.email) {\n        email = this.user().data.email;\n      } else if (this.user() && this.user().email) {\n        email = this.user().email;\n      }\n      return email;\n    },\n    /**\n     *\n     *\n     * @param {any} roleName\n     * @returns\n     */\n    hasRole(roleName) {\n      let user = JSON.parse(localStorage.getItem('authUser'));\n\n      user = user === null ? false : user;\n\n      let result = user.rolesNames.find((r) => {\n        return r.title === roleName;\n      });\n\n      return typeof result !== 'undefined';\n    },\n    /**\n     *\n     *\n     * @param {any} roles\n     * @returns\n     */\n\n    hasRoleIn(roles) {\n      if (!roles || Utilities.isEmpty(roles)) {\n        return true;\n      }\n      return roles.some((role) => {\n        return this.hasRole(role) || role === 'Authenticated';\n      });\n    },\n    /**\n     *\n     *\n     * @param {any} rolesIds\n     * @returns\n     */\n    async hasRoleIdIn(rolesIds) {\n      if (!rolesIds || Utilities.isEmpty(rolesIds)) {\n        return true;\n      }\n      let appRoles = await Role.local().first();\n\n      let roles = rolesIds.reduce((reducer, roleId) => {\n        Object.keys(appRoles).forEach(function (role) {\n          if (appRoles[role] && appRoles[role]._id && appRoles[role]._id === roleId) {\n            reducer.push(appRoles[role].title);\n          }\n        });\n        return reducer;\n      }, []);\n\n      return roles.some((role) => {\n        return this.hasRole(role) || role === 'Authenticated';\n      });\n    },\n    /**\n     * Checks if the current user is\n     * Authenticated\n     * @return {boolean}\n     */\n    check() {\n      let user = JSON.parse(localStorage.getItem('authUser'));\n\n      return !!user && !!user.x_jwt_token;\n    },\n    /**\n     * Logs out autheticated user\n     *\n     */\n    async logOut() {\n      await localStorage.removeItem('authUser');\n      await localStorage.removeItem('formioToken');\n      await localStorage.removeItem('formioUser');\n    }\n  }\n});\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","import stampit from '@stamp/it';\nimport qs from 'qs';\nimport btoa from 'btoa';\nimport axios from 'axios';\nimport AuthInterface from '../AuthInterface';\n\nexport default AuthInterface.compose({\n  init({ baseUrl }) {\n    this.url.baseUrl = baseUrl;\n  },\n  properties: {\n    url: {\n      baseUrl: undefined,\n      loginUrl: '/realms/users/protocol/openid-connect/token',\n      logoutUrl: '/realms/users/protocol/openid-connect/logout'\n    },\n    serviceAccount: {\n      clientId: 'goat-client',\n      secretId: '4ec6a304-2377-4d55-bf3f-ca32b97ec600'\n    }\n  },\n  methods: {\n    checkUrl() {\n      if (this.url.baseUrl) return this.url.baseUrl;\n\n      throw new Error('No url found for Keycloak connector');\n    },\n    async logout() {\n      const url = `${this.url.baseUrl}${this.url.loginUrl}`;\n      const result = await fetch(\n        url,\n        {\n          method: 'POST',\n          body: qs.stringify({\n            client_id: this.serviceAccount.clientId,\n            refresh_token: localStorage.getItem('refreshToken')\n          }),\n          headers: {\n            'content-type': 'application/x-www-form-urlencoded;charset=utf-8',\n            'Authorization': `Bearer ${localStorage.getItem('token')}`\n          }\n        }\n      );\n\n      localStorage.removeItem('token');\n      localStorage.removeItem('refreshToken');\n    },\n    async refreshServiceAccount() {\n      const url = `${this.url.baseUrl}${this.url.loginUrl}`;\n      const query = await fetch(\n        url,\n        {\n          method: 'POST',\n          body: qs.stringify({\n            client_id: this.serviceAccount.clientId,\n            grant_type: 'refresh_token',\n            refresh_token: localStorage.getItem('refreshToken')\n          }),\n          headers: {\n            'content-type': 'application/x-www-form-urlencoded'\n          }\n        }\n      );\n\n      const result = await query.json();\n\n      localStorage.setItem('token', result.access_token);\n      localStorage.setItem('refreshToken', result.refresh_token);\n    },\n    async loginServiceAccount() {\n      const url = `${this.url.baseUrl}${this.url.loginUrl}`;\n      const auth = btoa(`${this.serviceAccount.clientId}:${this.serviceAccount.secretId}`);\n      let query = await fetch(\n        url,\n        {\n          method: 'POST',\n          body: qs.stringify({\n            'grant_type': 'client_credentials'\n          }),\n          headers: {\n            'Authorization': `Basic ${auth}`,\n            'Content-Type': 'application/x-www-form-urlencoded'\n          }\n        }\n      );\n\n      const result = await query.json();\n\n      localStorage.setItem('token', result.access_token);\n      localStorage.setItem('refreshToken', result.refresh_token);\n    },\n    async attempt(credentials, role) {\n      console.log(this.url);\n      await this.loginServiceAccount();\n\n      return this.serviceAccount;\n    }\n  }\n});\n","'use strict';\n\nvar stringify = require('./stringify');\nvar parse = require('./parse');\nvar formats = require('./formats');\n\nmodule.exports = {\n    formats: formats,\n    parse: parse,\n    stringify: stringify\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar formats = require('./formats');\nvar has = Object.prototype.hasOwnProperty;\n\nvar arrayPrefixGenerators = {\n    brackets: function brackets(prefix) { // eslint-disable-line func-name-matching\n        return prefix + '[]';\n    },\n    comma: 'comma',\n    indices: function indices(prefix, key) { // eslint-disable-line func-name-matching\n        return prefix + '[' + key + ']';\n    },\n    repeat: function repeat(prefix) { // eslint-disable-line func-name-matching\n        return prefix;\n    }\n};\n\nvar isArray = Array.isArray;\nvar push = Array.prototype.push;\nvar pushToArray = function (arr, valueOrArray) {\n    push.apply(arr, isArray(valueOrArray) ? valueOrArray : [valueOrArray]);\n};\n\nvar toISO = Date.prototype.toISOString;\n\nvar defaults = {\n    addQueryPrefix: false,\n    allowDots: false,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    delimiter: '&',\n    encode: true,\n    encoder: utils.encode,\n    encodeValuesOnly: false,\n    formatter: formats.formatters[formats['default']],\n    // deprecated\n    indices: false,\n    serializeDate: function serializeDate(date) { // eslint-disable-line func-name-matching\n        return toISO.call(date);\n    },\n    skipNulls: false,\n    strictNullHandling: false\n};\n\nvar stringify = function stringify( // eslint-disable-line func-name-matching\n    object,\n    prefix,\n    generateArrayPrefix,\n    strictNullHandling,\n    skipNulls,\n    encoder,\n    filter,\n    sort,\n    allowDots,\n    serializeDate,\n    formatter,\n    encodeValuesOnly,\n    charset\n) {\n    var obj = object;\n    if (typeof filter === 'function') {\n        obj = filter(prefix, obj);\n    } else if (obj instanceof Date) {\n        obj = serializeDate(obj);\n    } else if (generateArrayPrefix === 'comma' && isArray(obj)) {\n        obj = obj.join(',');\n    }\n\n    if (obj === null) {\n        if (strictNullHandling) {\n            return encoder && !encodeValuesOnly ? encoder(prefix, defaults.encoder, charset) : prefix;\n        }\n\n        obj = '';\n    }\n\n    if (typeof obj === 'string' || typeof obj === 'number' || typeof obj === 'boolean' || utils.isBuffer(obj)) {\n        if (encoder) {\n            var keyValue = encodeValuesOnly ? prefix : encoder(prefix, defaults.encoder, charset);\n            return [formatter(keyValue) + '=' + formatter(encoder(obj, defaults.encoder, charset))];\n        }\n        return [formatter(prefix) + '=' + formatter(String(obj))];\n    }\n\n    var values = [];\n\n    if (typeof obj === 'undefined') {\n        return values;\n    }\n\n    var objKeys;\n    if (isArray(filter)) {\n        objKeys = filter;\n    } else {\n        var keys = Object.keys(obj);\n        objKeys = sort ? keys.sort(sort) : keys;\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (skipNulls && obj[key] === null) {\n            continue;\n        }\n\n        if (isArray(obj)) {\n            pushToArray(values, stringify(\n                obj[key],\n                typeof generateArrayPrefix === 'function' ? generateArrayPrefix(prefix, key) : prefix,\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        } else {\n            pushToArray(values, stringify(\n                obj[key],\n                prefix + (allowDots ? '.' + key : '[' + key + ']'),\n                generateArrayPrefix,\n                strictNullHandling,\n                skipNulls,\n                encoder,\n                filter,\n                sort,\n                allowDots,\n                serializeDate,\n                formatter,\n                encodeValuesOnly,\n                charset\n            ));\n        }\n    }\n\n    return values;\n};\n\nvar normalizeStringifyOptions = function normalizeStringifyOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.encoder !== null && opts.encoder !== undefined && typeof opts.encoder !== 'function') {\n        throw new TypeError('Encoder has to be a function.');\n    }\n\n    var charset = opts.charset || defaults.charset;\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n\n    var format = formats['default'];\n    if (typeof opts.format !== 'undefined') {\n        if (!has.call(formats.formatters, opts.format)) {\n            throw new TypeError('Unknown format option provided.');\n        }\n        format = opts.format;\n    }\n    var formatter = formats.formatters[format];\n\n    var filter = defaults.filter;\n    if (typeof opts.filter === 'function' || isArray(opts.filter)) {\n        filter = opts.filter;\n    }\n\n    return {\n        addQueryPrefix: typeof opts.addQueryPrefix === 'boolean' ? opts.addQueryPrefix : defaults.addQueryPrefix,\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        delimiter: typeof opts.delimiter === 'undefined' ? defaults.delimiter : opts.delimiter,\n        encode: typeof opts.encode === 'boolean' ? opts.encode : defaults.encode,\n        encoder: typeof opts.encoder === 'function' ? opts.encoder : defaults.encoder,\n        encodeValuesOnly: typeof opts.encodeValuesOnly === 'boolean' ? opts.encodeValuesOnly : defaults.encodeValuesOnly,\n        filter: filter,\n        formatter: formatter,\n        serializeDate: typeof opts.serializeDate === 'function' ? opts.serializeDate : defaults.serializeDate,\n        skipNulls: typeof opts.skipNulls === 'boolean' ? opts.skipNulls : defaults.skipNulls,\n        sort: typeof opts.sort === 'function' ? opts.sort : null,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (object, opts) {\n    var obj = object;\n    var options = normalizeStringifyOptions(opts);\n\n    var objKeys;\n    var filter;\n\n    if (typeof options.filter === 'function') {\n        filter = options.filter;\n        obj = filter('', obj);\n    } else if (isArray(options.filter)) {\n        filter = options.filter;\n        objKeys = filter;\n    }\n\n    var keys = [];\n\n    if (typeof obj !== 'object' || obj === null) {\n        return '';\n    }\n\n    var arrayFormat;\n    if (opts && opts.arrayFormat in arrayPrefixGenerators) {\n        arrayFormat = opts.arrayFormat;\n    } else if (opts && 'indices' in opts) {\n        arrayFormat = opts.indices ? 'indices' : 'repeat';\n    } else {\n        arrayFormat = 'indices';\n    }\n\n    var generateArrayPrefix = arrayPrefixGenerators[arrayFormat];\n\n    if (!objKeys) {\n        objKeys = Object.keys(obj);\n    }\n\n    if (options.sort) {\n        objKeys.sort(options.sort);\n    }\n\n    for (var i = 0; i < objKeys.length; ++i) {\n        var key = objKeys[i];\n\n        if (options.skipNulls && obj[key] === null) {\n            continue;\n        }\n        pushToArray(keys, stringify(\n            obj[key],\n            key,\n            generateArrayPrefix,\n            options.strictNullHandling,\n            options.skipNulls,\n            options.encode ? options.encoder : null,\n            options.filter,\n            options.sort,\n            options.allowDots,\n            options.serializeDate,\n            options.formatter,\n            options.encodeValuesOnly,\n            options.charset\n        ));\n    }\n\n    var joined = keys.join(options.delimiter);\n    var prefix = options.addQueryPrefix === true ? '?' : '';\n\n    if (options.charsetSentinel) {\n        if (options.charset === 'iso-8859-1') {\n            // encodeURIComponent('&#10003;'), the \"numeric entity\" representation of a checkmark\n            prefix += 'utf8=%26%2310003%3B&';\n        } else {\n            // encodeURIComponent('')\n            prefix += 'utf8=%E2%9C%93&';\n        }\n    }\n\n    return joined.length > 0 ? prefix + joined : '';\n};\n","'use strict';\n\nvar utils = require('./utils');\n\nvar has = Object.prototype.hasOwnProperty;\n\nvar defaults = {\n    allowDots: false,\n    allowPrototypes: false,\n    arrayLimit: 20,\n    charset: 'utf-8',\n    charsetSentinel: false,\n    comma: false,\n    decoder: utils.decode,\n    delimiter: '&',\n    depth: 5,\n    ignoreQueryPrefix: false,\n    interpretNumericEntities: false,\n    parameterLimit: 1000,\n    parseArrays: true,\n    plainObjects: false,\n    strictNullHandling: false\n};\n\nvar interpretNumericEntities = function (str) {\n    return str.replace(/&#(\\d+);/g, function ($0, numberStr) {\n        return String.fromCharCode(parseInt(numberStr, 10));\n    });\n};\n\n// This is what browsers will submit when the  character occurs in an\n// application/x-www-form-urlencoded body and the encoding of the page containing\n// the form is iso-8859-1, or when the submitted form has an accept-charset\n// attribute of iso-8859-1. Presumably also with other charsets that do not contain\n// the  character, such as us-ascii.\nvar isoSentinel = 'utf8=%26%2310003%3B'; // encodeURIComponent('&#10003;')\n\n// These are the percent-encoded utf-8 octets representing a checkmark, indicating that the request actually is utf-8 encoded.\nvar charsetSentinel = 'utf8=%E2%9C%93'; // encodeURIComponent('')\n\nvar parseValues = function parseQueryStringValues(str, options) {\n    var obj = {};\n    var cleanStr = options.ignoreQueryPrefix ? str.replace(/^\\?/, '') : str;\n    var limit = options.parameterLimit === Infinity ? undefined : options.parameterLimit;\n    var parts = cleanStr.split(options.delimiter, limit);\n    var skipIndex = -1; // Keep track of where the utf8 sentinel was found\n    var i;\n\n    var charset = options.charset;\n    if (options.charsetSentinel) {\n        for (i = 0; i < parts.length; ++i) {\n            if (parts[i].indexOf('utf8=') === 0) {\n                if (parts[i] === charsetSentinel) {\n                    charset = 'utf-8';\n                } else if (parts[i] === isoSentinel) {\n                    charset = 'iso-8859-1';\n                }\n                skipIndex = i;\n                i = parts.length; // The eslint settings do not allow break;\n            }\n        }\n    }\n\n    for (i = 0; i < parts.length; ++i) {\n        if (i === skipIndex) {\n            continue;\n        }\n        var part = parts[i];\n\n        var bracketEqualsPos = part.indexOf(']=');\n        var pos = bracketEqualsPos === -1 ? part.indexOf('=') : bracketEqualsPos + 1;\n\n        var key, val;\n        if (pos === -1) {\n            key = options.decoder(part, defaults.decoder, charset);\n            val = options.strictNullHandling ? null : '';\n        } else {\n            key = options.decoder(part.slice(0, pos), defaults.decoder, charset);\n            val = options.decoder(part.slice(pos + 1), defaults.decoder, charset);\n        }\n\n        if (val && options.interpretNumericEntities && charset === 'iso-8859-1') {\n            val = interpretNumericEntities(val);\n        }\n\n        if (val && options.comma && val.indexOf(',') > -1) {\n            val = val.split(',');\n        }\n\n        if (has.call(obj, key)) {\n            obj[key] = utils.combine(obj[key], val);\n        } else {\n            obj[key] = val;\n        }\n    }\n\n    return obj;\n};\n\nvar parseObject = function (chain, val, options) {\n    var leaf = val;\n\n    for (var i = chain.length - 1; i >= 0; --i) {\n        var obj;\n        var root = chain[i];\n\n        if (root === '[]' && options.parseArrays) {\n            obj = [].concat(leaf);\n        } else {\n            obj = options.plainObjects ? Object.create(null) : {};\n            var cleanRoot = root.charAt(0) === '[' && root.charAt(root.length - 1) === ']' ? root.slice(1, -1) : root;\n            var index = parseInt(cleanRoot, 10);\n            if (!options.parseArrays && cleanRoot === '') {\n                obj = { 0: leaf };\n            } else if (\n                !isNaN(index)\n                && root !== cleanRoot\n                && String(index) === cleanRoot\n                && index >= 0\n                && (options.parseArrays && index <= options.arrayLimit)\n            ) {\n                obj = [];\n                obj[index] = leaf;\n            } else {\n                obj[cleanRoot] = leaf;\n            }\n        }\n\n        leaf = obj;\n    }\n\n    return leaf;\n};\n\nvar parseKeys = function parseQueryStringKeys(givenKey, val, options) {\n    if (!givenKey) {\n        return;\n    }\n\n    // Transform dot notation to bracket notation\n    var key = options.allowDots ? givenKey.replace(/\\.([^.[]+)/g, '[$1]') : givenKey;\n\n    // The regex chunks\n\n    var brackets = /(\\[[^[\\]]*])/;\n    var child = /(\\[[^[\\]]*])/g;\n\n    // Get the parent\n\n    var segment = brackets.exec(key);\n    var parent = segment ? key.slice(0, segment.index) : key;\n\n    // Stash the parent if it exists\n\n    var keys = [];\n    if (parent) {\n        // If we aren't using plain objects, optionally prefix keys that would overwrite object prototype properties\n        if (!options.plainObjects && has.call(Object.prototype, parent)) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n\n        keys.push(parent);\n    }\n\n    // Loop through children appending to the array until we hit depth\n\n    var i = 0;\n    while ((segment = child.exec(key)) !== null && i < options.depth) {\n        i += 1;\n        if (!options.plainObjects && has.call(Object.prototype, segment[1].slice(1, -1))) {\n            if (!options.allowPrototypes) {\n                return;\n            }\n        }\n        keys.push(segment[1]);\n    }\n\n    // If there's a remainder, just add whatever is left\n\n    if (segment) {\n        keys.push('[' + key.slice(segment.index) + ']');\n    }\n\n    return parseObject(keys, val, options);\n};\n\nvar normalizeParseOptions = function normalizeParseOptions(opts) {\n    if (!opts) {\n        return defaults;\n    }\n\n    if (opts.decoder !== null && opts.decoder !== undefined && typeof opts.decoder !== 'function') {\n        throw new TypeError('Decoder has to be a function.');\n    }\n\n    if (typeof opts.charset !== 'undefined' && opts.charset !== 'utf-8' && opts.charset !== 'iso-8859-1') {\n        throw new Error('The charset option must be either utf-8, iso-8859-1, or undefined');\n    }\n    var charset = typeof opts.charset === 'undefined' ? defaults.charset : opts.charset;\n\n    return {\n        allowDots: typeof opts.allowDots === 'undefined' ? defaults.allowDots : !!opts.allowDots,\n        allowPrototypes: typeof opts.allowPrototypes === 'boolean' ? opts.allowPrototypes : defaults.allowPrototypes,\n        arrayLimit: typeof opts.arrayLimit === 'number' ? opts.arrayLimit : defaults.arrayLimit,\n        charset: charset,\n        charsetSentinel: typeof opts.charsetSentinel === 'boolean' ? opts.charsetSentinel : defaults.charsetSentinel,\n        comma: typeof opts.comma === 'boolean' ? opts.comma : defaults.comma,\n        decoder: typeof opts.decoder === 'function' ? opts.decoder : defaults.decoder,\n        delimiter: typeof opts.delimiter === 'string' || utils.isRegExp(opts.delimiter) ? opts.delimiter : defaults.delimiter,\n        depth: typeof opts.depth === 'number' ? opts.depth : defaults.depth,\n        ignoreQueryPrefix: opts.ignoreQueryPrefix === true,\n        interpretNumericEntities: typeof opts.interpretNumericEntities === 'boolean' ? opts.interpretNumericEntities : defaults.interpretNumericEntities,\n        parameterLimit: typeof opts.parameterLimit === 'number' ? opts.parameterLimit : defaults.parameterLimit,\n        parseArrays: opts.parseArrays !== false,\n        plainObjects: typeof opts.plainObjects === 'boolean' ? opts.plainObjects : defaults.plainObjects,\n        strictNullHandling: typeof opts.strictNullHandling === 'boolean' ? opts.strictNullHandling : defaults.strictNullHandling\n    };\n};\n\nmodule.exports = function (str, opts) {\n    var options = normalizeParseOptions(opts);\n\n    if (str === '' || str === null || typeof str === 'undefined') {\n        return options.plainObjects ? Object.create(null) : {};\n    }\n\n    var tempObj = typeof str === 'string' ? parseValues(str, options) : str;\n    var obj = options.plainObjects ? Object.create(null) : {};\n\n    // Iterate over the keys and setup the new object\n\n    var keys = Object.keys(tempObj);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var newObj = parseKeys(key, tempObj[key], options);\n        obj = utils.merge(obj, newObj, options);\n    }\n\n    return utils.compact(obj);\n};\n","(function () {\n  \"use strict\";\n\n  function btoa(str) {\n    var buffer;\n\n    if (str instanceof Buffer) {\n      buffer = str;\n    } else {\n      buffer = Buffer.from(str.toString(), 'binary');\n    }\n\n    return buffer.toString('base64');\n  }\n\n  module.exports = btoa;\n}());\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  for (var i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","import md5 from \"md5\";\n// import Promise from 'bluebird';\nimport AuthInterface from \"../AuthInterface\";\nimport Configuration from \"../../../models/Configuration\";\nimport User from \"../../../models/User\";\nimport Connection from \"../../../Wrappers/Connection\";\nimport Utilities from \"../../../utilities\";\nimport Role from \"../../../models/Role\";\n\nexport default AuthInterface.compose({\n  methods: {\n    /**\n     *\n     *\n     * @param {any} credentials\n     * @returns\n     */\n    async localAuthenticate(credentials) {\n      const { username, password } = credentials;\n      let config = await Configuration.local().first();\n\n      // Hash password\n      const hashedPassword = md5(password, config.MD5_KEY);\n\n      // Get the user\n      let dbUser = await User.local()\n        .where(\"data.username\", \"=\", username)\n        .get();\n      let userFound = dbUser && dbUser[0] ? dbUser[0] : undefined;\n\n      if (!userFound) {\n        throw new Error();\n      }\n      // Compare hashed passwords\n      const isValidUser = userFound.data.hashedPassword === hashedPassword;\n\n      if (!isValidUser) {\n        throw new Error();\n      }\n      // If is valid, return the user\n      return userFound;\n    },\n    /**\n     *\n     *\n     * @param {any} credentials\n     * @param {any} role\n     * @returns\n     */\n    async remoteAuthenticate(credentials, role) {\n      let response = await User.login({ credentials: credentials, role: role });\n      let user = response.data;\n\n      await User.updateUser(user);\n      return response;\n    },\n    /**\n     *\n     * Authenticates the User with the given credentials\n     * @param {any} credentials\n     * @param {any} role\n     * @returns\n     */\n    async authenticate(credentials, role) {\n      let isOnline = await Connection.isOnline();\n\n      if (isOnline) {\n        return this.remoteAuthenticate(credentials, role);\n      }\n      return this.localAuthenticate(credentials);\n    },\n    /**\n     *\n     *\n     * @param {any} credentials\n     * @param {any} role\n     * @returns\n     */\n    attempt(credentials, role) {\n      role = role || \"user\";\n\n      return new Promise((resolve, reject) => {\n        this.authenticate(credentials, role)\n          // If credentials are OK\n          .then(async response => {\n            let headers = response.headers || {};\n            let user = response.data;\n            /* eslint-disable*/\n\n            user.x_jwt_token = response.data.id;\n            /* eslint-enable*/\n\n            // Save auth user\n            localStorage.setItem(\"authUser\", JSON.stringify(user));\n            localStorage.setItem(\"formioToken\", response.data.id);\n            // user.isAdmin = true\n            let roles = await Role.local().first();\n\n            user.rolesNames = [];\n            Object.keys(roles).forEach(key => {\n              if (key !== \"$loki\" && key !== \"_id\" && key !== \"meta\") {\n                if (user.roles && user.roles.indexOf(roles[key]._id) !== -1) {\n                  user.rolesNames.push(roles[key]);\n                }\n              }\n            });\n\n            localStorage.setItem(\"authUser\", JSON.stringify(user));\n\n            resolve(user);\n          })\n          // If there are errors\n          .catch(error => {\n            console.log(\"There was an error over here!\");\n            reject(error);\n          });\n      });\n    },\n    /**\n     *\n     *\n     * @returns\n     */\n    user() {\n      try {\n        let user = JSON.parse(localStorage.getItem(\"authUser\"));\n\n        return user === null ? false : user;\n      } catch (e) {\n        localStorage.removeItem(\"authUser\");\n        return false;\n      }\n    },\n    /**\n     *\n     *\n     * @returns\n     */\n    email() {\n      let email = \"\";\n\n      if (this.user() && this.user().data && this.user().data.email) {\n        email = this.user().data.email;\n      } else if (this.user() && this.user().email) {\n        email = this.user().email;\n      }\n      return email;\n    },\n    /**\n     *\n     *\n     * @param {any} roleName\n     * @returns\n     */\n    hasRole(roleName) {\n      let user = JSON.parse(localStorage.getItem(\"authUser\"));\n\n      user = user === null ? false : user;\n\n      let result = user.rolesNames.find(r => {\n        return r.title === roleName;\n      });\n\n      return typeof result !== \"undefined\";\n    },\n    /**\n     *\n     *\n     * @param {any} roles\n     * @returns\n     */\n\n    hasRoleIn(roles) {\n      if (!roles || Utilities.isEmpty(roles)) {\n        return true;\n      }\n      return roles.some(role => {\n        return this.hasRole(role) || role === \"Authenticated\";\n      });\n    },\n    /**\n     *\n     *\n     * @param {any} rolesIds\n     * @returns\n     */\n    async hasRoleIdIn(rolesIds) {\n      if (!rolesIds || Utilities.isEmpty(rolesIds)) {\n        return true;\n      }\n      let appRoles = await Role.local().first();\n\n      let roles = rolesIds.reduce((reducer, roleId) => {\n        Object.keys(appRoles).forEach(function(role) {\n          if (\n            appRoles[role] &&\n            appRoles[role]._id &&\n            appRoles[role]._id === roleId\n          ) {\n            reducer.push(appRoles[role].title);\n          }\n        });\n        return reducer;\n      }, []);\n\n      return roles.some(role => {\n        return this.hasRole(role) || role === \"Authenticated\";\n      });\n    },\n    /**\n     * Checks if the current user is\n     * Authenticated\n     * @return {boolean}\n     */\n    check() {\n      let user = JSON.parse(localStorage.getItem(\"authUser\"));\n\n      return !!user && !!user.x_jwt_token;\n    },\n    /**\n     * Logs out autheticated user\n     *\n     */\n    async logOut() {\n      await localStorage.removeItem(\"authUser\");\n      await localStorage.removeItem(\"formioToken\");\n      await localStorage.removeItem(\"formioUser\");\n    }\n  }\n});\n","import Utilities from 'utilities';\nimport Form from '../Form';\n\nlet Columns = class {\n  static async getTableView(path) {\n    const form = (await Form.local()\n      .where('data.path', '=', path)\n      .first()).data;\n\n    return Utilities.findComponents(form.components, {\n      input: true,\n      tableView: true\n    }).filter(c => {\n      return !!(c.label !== '');\n    });\n  }\n};\n\nexport default Columns;\n","import Connection from \"Wrappers/Connection\";\nimport Submission from \"models/Submission\";\nimport Event from \"Wrappers/Event\";\nimport Scheduler from \"repositories/Database/Scheduler\";\nimport Form from \"models/Form\";\nimport to from \"await-to-js\";\n\nlet OfflineData = (() => {\n  const sendSubmission = async offlineSubmission => {\n    let remoteEndPoint = Form.getModel({\n      path: offlineSubmission.path\n    }).remote();\n\n    offlineSubmission.queuedForSync = true;\n    let sub = Submission(offlineSubmission.path);\n\n    // Set the submission as queuedForSync\n    await sub.local().update(offlineSubmission);\n\n    let [error, insertedData] = await to(\n      remoteEndPoint.insert(offlineSubmission)\n    );\n\n    if (error) {\n      console.log(error);\n      offlineSubmission.queuedForSync = false;\n      offlineSubmission.syncError = error;\n      sub.local().update(offlineSubmission);\n      throw new Error(\"Error while Syncing data\");\n    }\n    if (!insertedData._id) {\n      throw Error(\n        \"The remote endpoint did not save the submission properly (no _id back)\"\n      );\n    }\n\n    let [e] = await to(sub.local().remove(offlineSubmission._id));\n\n    if (e) {\n      throw new Error(\n        \"Sync error:Could not remove local submission after sync\"\n      );\n    }\n    return true;\n  };\n\n  async function send(data) {\n    let offlineSubmissions = data;\n    let isOnline = await Connection.isOnline();\n\n    let PromiseEach = async function(arr, fn) {\n      for (const item of arr) await fn(item);\n    };\n\n    if (isOnline) {\n      await Scheduler.startSync();\n\n      let [error] = await to(\n        PromiseEach(offlineSubmissions, async offlineSubmission => {\n          await sendSubmission(offlineSubmission);\n        })\n      );\n\n      Scheduler.stopSync();\n      if (error) {\n        console.log(error);\n      }\n\n      console.log(\"Submissions Synced\");\n      Event.emit({\n        name: \"GOAT:SUBMISSION:SYNCED\",\n        data: {},\n        text: \"The submissions have been synced\"\n      });\n    }\n  }\n\n  return Object.freeze({\n    send\n  });\n})();\n\nexport default OfflineData;\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"@goatlab/fluent-loki\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@goatlab/fluent-loki\"] = factory();\n\telse\n\t\troot[\"@goatlab/fluent-loki\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*\n  Loki IndexedDb Adapter (need to include this script to use it)\n\n  Console Usage can be used for management/diagnostic, here are a few examples :\n  adapter.getDatabaseList(); // with no callback passed, this method will log results to console\n  adapter.saveDatabase('UserDatabase', JSON.stringify(myDb));\n  adapter.loadDatabase('UserDatabase'); // will log the serialized db to console\n  adapter.deleteDatabase('UserDatabase');\n*/\n\n(function (root, factory) {\n    if (true) {\n        // AMD\n        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n    } else {}\n}(this, function () {\n  return (function() {\n\n    /**\n     * Loki persistence adapter class for indexedDb.\n     *     This class fulfills abstract adapter interface which can be applied to other storage methods. \n     *     Utilizes the included LokiCatalog app/key/value database for actual database persistence.\n     *     Indexeddb is highly async, but this adapter has been made 'console-friendly' as well.\n     *     Anywhere a callback is omitted, it should return results (if applicable) to console.\n     *     IndexedDb storage is provided per-domain, so we implement app/key/value database to \n     *     allow separate contexts for separate apps within a domain.\n     *\n     * @example\n     * var idbAdapter = new LokiIndexedAdapter('finance');\n     *\n     * @constructor LokiIndexedAdapter\n     *\n     * @param {string} appname - (Optional) Application name context can be used to distinguish subdomains, 'loki' by default\n     * @param {object=} options Configuration options for the adapter\n     * @param {boolean} options.closeAfterSave Whether the indexedDB database should be closed after saving.\n     */\n    function LokiIndexedAdapter(appname, options)\n    {\n      this.app = 'loki';\n      this.options = options || {};\n\n      if (typeof (appname) !== 'undefined')\n      {\n        this.app = appname;\n      }\n\n      // keep reference to catalog class for base AKV operations\n      this.catalog = null;\n\n      if (!this.checkAvailability()) {\n        throw new Error('indexedDB does not seem to be supported for your environment');\n      }\n    }\n\n    /**\n     * Used for closing the indexeddb database.\n     */\n    LokiIndexedAdapter.prototype.closeDatabase = function ()\n    {\n      if (this.catalog && this.catalog.db) {\n        this.catalog.db.close();\n        this.catalog.db = null;\n      }\n    };\n\n    /**\n     * Used to check if adapter is available\n     *\n     * @returns {boolean} true if indexeddb is available, false if not.\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.checkAvailability = function()\n    {\n      if (typeof indexedDB !== 'undefined' && indexedDB) return true;\n\n      return false;\n    };\n\n    /**\n     * Retrieves a serialized db string from the catalog.\n     *\n     * @example\n     * // LOAD\n     * var idbAdapter = new LokiIndexedAdapter('finance');\n     * var db = new loki('test', { adapter: idbAdapter });\n     *   db.loadDatabase(function(result) {\n     *   console.log('done');\n     * });\n     *\n     * @param {string} dbname - the name of the database to retrieve.\n     * @param {function} callback - callback should accept string param containing serialized db string.\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.loadDatabase = function(dbname, callback)\n    {\n      var appName = this.app;\n      var adapter = this;\n\n      // lazy open/create db reference so dont -need- callback in constructor\n      if (this.catalog === null || this.catalog.db === null) {\n        this.catalog = new LokiCatalog(function(cat) {\n          adapter.catalog = cat;\n\n          adapter.loadDatabase(dbname, callback);\n        });\n\n        return;\n      }\n\n      // lookup up db string in AKV db\n      this.catalog.getAppKey(appName, dbname, function(result) {\n        if (typeof (callback) === 'function') {\n          if (result.id === 0) {\n            callback(null);\n            return;\n          }\n          callback(result.val);\n        }\n        else {\n          // support console use of api\n          console.log(result.val);\n        }\n      });\n    };\n\n    // alias\n    LokiIndexedAdapter.prototype.loadKey = LokiIndexedAdapter.prototype.loadDatabase;\n\n    /**\n     * Saves a serialized db to the catalog.\n     *\n     * @example\n     * // SAVE : will save App/Key/Val as 'finance'/'test'/{serializedDb}\n     * var idbAdapter = new LokiIndexedAdapter('finance');\n     * var db = new loki('test', { adapter: idbAdapter });\n     * var coll = db.addCollection('testColl');\n     * coll.insert({test: 'val'});\n     * db.saveDatabase();  // could pass callback if needed for async complete\n     *\n     * @param {string} dbname - the name to give the serialized database within the catalog.\n     * @param {string} dbstring - the serialized db string to save.\n     * @param {function} callback - (Optional) callback passed obj.success with true or false\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.saveDatabase = function(dbname, dbstring, callback)\n    {\n      var appName = this.app;\n      var adapter = this;\n\n      function saveCallback(result) {\n        if (result && result.success === true) {\n          callback(null);\n        }\n        else {\n          callback(new Error(\"Error saving database\"));\n        }\n\n        if (adapter.options.closeAfterSave) {\n          adapter.closeDatabase();\n        }\n      }\n\n      // lazy open/create db reference so dont -need- callback in constructor\n      if (this.catalog === null || this.catalog.db === null) {\n        this.catalog = new LokiCatalog(function(cat) {\n          adapter.saveDatabase(dbname, dbstring, saveCallback);\n        });\n\n        return;\n      }\n\n      // set (add/update) entry to AKV database\n      this.catalog.setAppKey(appName, dbname, dbstring, saveCallback);\n    };\n\n    // alias\n    LokiIndexedAdapter.prototype.saveKey = LokiIndexedAdapter.prototype.saveDatabase;\n\n    /**\n     * Deletes a serialized db from the catalog.\n     *\n     * @example\n     * // DELETE DATABASE\n     * // delete 'finance'/'test' value from catalog\n     * idbAdapter.deleteDatabase('test', function {\n     *   // database deleted\n     * });\n     *\n     * @param {string} dbname - the name of the database to delete from the catalog.\n     * @param {function=} callback - (Optional) executed on database delete\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.deleteDatabase = function(dbname, callback)\n    {\n      var appName = this.app;\n      var adapter = this;\n\n      // lazy open/create db reference and pass callback ahead\n      if (this.catalog === null || this.catalog.db === null) {\n        this.catalog = new LokiCatalog(function(cat) {\n          adapter.catalog = cat;\n\n          adapter.deleteDatabase(dbname, callback);\n        });\n\n        return;\n      }\n\n      // catalog was already initialized, so just lookup object and delete by id\n      this.catalog.getAppKey(appName, dbname, function(result) {\n        var id = result.id;\n\n        if (id !== 0) {\n          adapter.catalog.deleteAppKey(id, callback);\n        } else if (typeof (callback) === 'function') {\n          callback({ success: true });\n        }\n      });\n    };\n\n    // alias\n    LokiIndexedAdapter.prototype.deleteKey = LokiIndexedAdapter.prototype.deleteDatabase;\n\n    /**\n     * Removes all database partitions and pages with the base filename passed in.\n     * This utility method does not (yet) guarantee async deletions will be completed before returning\n     *\n     * @param {string} dbname - the base filename which container, partitions, or pages are derived\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.deleteDatabasePartitions = function(dbname) {\n      var self=this;\n      this.getDatabaseList(function(result) {\n        result.forEach(function(str) {\n          if (str.startsWith(dbname)) {\n            self.deleteDatabase(str);\n          }\n        });\n      });\n    };\n\n    /**\n     * Retrieves object array of catalog entries for current app.\n     *\n     * @example\n     * idbAdapter.getDatabaseList(function(result) {\n     *   // result is array of string names for that appcontext ('finance')\n     *   result.forEach(function(str) {\n     *     console.log(str);\n     *   });\n     * });\n     *\n     * @param {function} callback - should accept array of database names in the catalog for current app.\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.getDatabaseList = function(callback)\n    {\n      var appName = this.app;\n      var adapter = this;\n\n      // lazy open/create db reference so dont -need- callback in constructor\n      if (this.catalog === null || this.catalog.db === null) {\n        this.catalog = new LokiCatalog(function(cat) {\n          adapter.catalog = cat;\n\n          adapter.getDatabaseList(callback);\n        });\n\n        return;\n      }\n\n      // catalog already initialized\n      // get all keys for current appName, and transpose results so just string array\n      this.catalog.getAppKeys(appName, function(results) {\n        var names = [];\n\n        for(var idx = 0; idx < results.length; idx++) {\n          names.push(results[idx].key);\n        }\n\n        if (typeof (callback) === 'function') {\n          callback(names);\n        }\n        else {\n          names.forEach(function(obj) {\n            console.log(obj);\n          });\n        }\n      });\n    };\n\n    // alias\n    LokiIndexedAdapter.prototype.getKeyList = LokiIndexedAdapter.prototype.getDatabaseList;\n\n    /**\n     * Allows retrieval of list of all keys in catalog along with size\n     *\n     * @param {function} callback - (Optional) callback to accept result array.\n     * @memberof LokiIndexedAdapter\n     */\n    LokiIndexedAdapter.prototype.getCatalogSummary = function(callback)\n    {\n      var appName = this.app;\n      var adapter = this;\n\n      // lazy open/create db reference\n      if (this.catalog === null || this.catalog.db === null) {\n        this.catalog = new LokiCatalog(function(cat) {\n          adapter.catalog = cat;\n\n          adapter.getCatalogSummary(callback);\n        });\n\n        return;\n      }\n\n      // catalog already initialized\n      // get all keys for current appName, and transpose results so just string array\n      this.catalog.getAllKeys(function(results) {\n        var entries = [];\n        var obj,\n          size,\n          oapp,\n          okey,\n          oval;\n\n        for(var idx = 0; idx < results.length; idx++) {\n          obj = results[idx];\n          oapp = obj.app || '';\n          okey = obj.key || '';\n          oval = obj.val || '';\n\n          // app and key are composited into an appkey column so we will mult by 2\n          size = oapp.length * 2 + okey.length * 2 + oval.length + 1;\n\n          entries.push({ \"app\": obj.app, \"key\": obj.key, \"size\": size });\n        }\n\n        if (typeof (callback) === 'function') {\n          callback(entries);\n        }\n        else {\n          entries.forEach(function(obj) {\n            console.log(obj);\n          });\n        }\n      });\n    };\n\n    /**\n     * LokiCatalog - underlying App/Key/Value catalog persistence\n     *    This non-interface class implements the actual persistence.\n     *    Used by the IndexedAdapter class.\n     */\n    function LokiCatalog(callback)\n    {\n      this.db = null;\n      this.initializeLokiCatalog(callback);\n    }\n\n    LokiCatalog.prototype.initializeLokiCatalog = function(callback) {\n      var openRequest = indexedDB.open('LokiCatalog', 1);\n      var cat = this;\n\n      // If database doesn't exist yet or its version is lower than our version specified above (2nd param in line above)\n      openRequest.onupgradeneeded = function(e) {\n        var thisDB = e.target.result;\n        if (thisDB.objectStoreNames.contains('LokiAKV')) {\n          thisDB.deleteObjectStore('LokiAKV');\n        }\n\n        if(!thisDB.objectStoreNames.contains('LokiAKV')) {\n          var objectStore = thisDB.createObjectStore('LokiAKV', { keyPath: 'id', autoIncrement:true });\n          objectStore.createIndex('app', 'app', {unique:false});\n          objectStore.createIndex('key', 'key', {unique:false});\n          // hack to simulate composite key since overhead is low (main size should be in val field)\n          // user (me) required to duplicate the app and key into comma delimited appkey field off object\n          // This will allow retrieving single record with that composite key as well as\n          // still supporting opening cursors on app or key alone\n          objectStore.createIndex('appkey', 'appkey', {unique:true});\n        }\n      };\n\n      openRequest.onsuccess = function(e) {\n        cat.db = e.target.result;\n\n        if (typeof (callback) === 'function') callback(cat);\n      };\n\n      openRequest.onerror = function(e) {\n        throw e;\n      };\n    };\n\n    LokiCatalog.prototype.getAppKey = function(app, key, callback) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readonly');\n      var store = transaction.objectStore('LokiAKV');\n      var index = store.index('appkey');\n      var appkey = app + \",\" + key;\n      var request = index.get(appkey);\n\n      request.onsuccess = (function(usercallback) {\n        return function(e) {\n          var lres = e.target.result;\n\n          if (lres === null || typeof(lres) === 'undefined') {\n            lres = {\n              id: 0,\n              success: false\n            };\n          }\n\n          if (typeof(usercallback) === 'function') {\n            usercallback(lres);\n          }\n          else {\n            console.log(lres);\n          }\n        };\n      })(callback);\n\n      request.onerror = (function(usercallback) {\n        return function(e) {\n          if (typeof(usercallback) === 'function') {\n            usercallback({ id: 0, success: false });\n          }\n          else {\n            throw e;\n          }\n        };\n      })(callback);\n    };\n\n    LokiCatalog.prototype.getAppKeyById = function (id, callback, data) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readonly');\n      var store = transaction.objectStore('LokiAKV');\n      var request = store.get(id);\n\n      request.onsuccess = (function(data, usercallback){\n        return function(e) {\n          if (typeof(usercallback) === 'function') {\n            usercallback(e.target.result, data);\n          }\n          else {\n            console.log(e.target.result);\n          }\n        };\n      })(data, callback);\n    };\n\n    LokiCatalog.prototype.setAppKey = function (app, key, val, callback) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readwrite');\n      var store = transaction.objectStore('LokiAKV');\n      var index = store.index('appkey');\n      var appkey = app + \",\" + key;\n      var request = index.get(appkey);\n\n      // first try to retrieve an existing object by that key\n      // need to do this because to update an object you need to have id in object, otherwise it will append id with new autocounter and clash the unique index appkey\n      request.onsuccess = function(e) {\n        var res = e.target.result;\n\n        if (res === null || res === undefined) {\n          res = {\n            app:app,\n            key:key,\n            appkey: app + ',' + key,\n            val:val\n          };\n        }\n        else {\n          res.val = val;\n        }\n\n        var requestPut = store.put(res);\n\n        requestPut.onerror = (function(usercallback) {\n          return function(e) {\n            if (typeof(usercallback) === 'function') {\n              usercallback({ success: false });\n            }\n            else {\n              console.error('LokiCatalog.setAppKey (set) onerror');\n              console.error(request.error);\n            }\n          };\n\n        })(callback);\n\n        requestPut.onsuccess = (function(usercallback) {\n          return function(e) {\n            if (typeof(usercallback) === 'function') {\n              usercallback({ success: true });\n            }\n          };\n        })(callback);\n      };\n\n      request.onerror = (function(usercallback) {\n        return function(e) {\n          if (typeof(usercallback) === 'function') {\n            usercallback({ success: false });\n          }\n          else {\n            console.error('LokiCatalog.setAppKey (get) onerror');\n            console.error(request.error);\n          }\n        };\n      })(callback);\n    };\n\n    LokiCatalog.prototype.deleteAppKey = function (id, callback) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readwrite');\n      var store = transaction.objectStore('LokiAKV');\n      var request = store.delete(id);\n\n      request.onsuccess = (function(usercallback) {\n        return function(evt) {\n          if (typeof(usercallback) === 'function') usercallback({ success: true });\n        };\n      })(callback);\n\n      request.onerror = (function(usercallback) {\n        return function(evt) {\n          if (typeof(usercallback) === 'function') {\n            usercallback({ success: false });\n          }\n          else {\n            console.error('LokiCatalog.deleteAppKey raised onerror');\n            console.error(request.error);\n          }\n        };\n      })(callback);\n    };\n\n    LokiCatalog.prototype.getAppKeys = function(app, callback) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readonly');\n      var store = transaction.objectStore('LokiAKV');\n      var index = store.index('app');\n\n      // We want cursor to all values matching our (single) app param\n      var singleKeyRange = IDBKeyRange.only(app);\n\n      // To use one of the key ranges, pass it in as the first argument of openCursor()/openKeyCursor()\n      var cursor = index.openCursor(singleKeyRange);\n\n      // cursor internally, pushing results into this.data[] and return\n      // this.data[] when done (similar to service)\n      var localdata = [];\n\n      cursor.onsuccess = (function(data, callback) {\n        return function(e) {\n          var cursor = e.target.result;\n          if (cursor) {\n            var currObject = cursor.value;\n\n            data.push(currObject);\n\n            cursor.continue();\n          }\n          else {\n            if (typeof(callback) === 'function') {\n              callback(data);\n            }\n            else {\n              console.log(data);\n            }\n          }\n        };\n      })(localdata, callback);\n\n      cursor.onerror = (function(usercallback) {\n        return function(e) {\n          if (typeof(usercallback) === 'function') {\n            usercallback(null);\n          }\n          else {\n            console.error('LokiCatalog.getAppKeys raised onerror');\n            console.error(e);\n          }\n        };\n      })(callback);\n\n    };\n\n    // Hide 'cursoring' and return array of { id: id, key: key }\n    LokiCatalog.prototype.getAllKeys = function (callback) {\n      var transaction = this.db.transaction(['LokiAKV'], 'readonly');\n      var store = transaction.objectStore('LokiAKV');\n      var cursor = store.openCursor();\n\n      var localdata = [];\n\n      cursor.onsuccess = (function(data, callback) {\n        return function(e) {\n          var cursor = e.target.result;\n          if (cursor) {\n            var currObject = cursor.value;\n\n            data.push(currObject);\n\n            cursor.continue();\n          }\n          else {\n            if (typeof(callback) === 'function') {\n              callback(data);\n            }\n            else {\n              console.log(data);\n            }\n          }\n        };\n      })(localdata, callback);\n\n      cursor.onerror = (function(usercallback) {\n        return function(e) {\n          if (typeof(usercallback) === 'function') usercallback(null);\n        };\n      })(callback);\n\n    };\n\n    return LokiIndexedAdapter;\n\n  }());\n}));\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _LokiConnector = __webpack_require__(3);\n\nvar _LokiConnector2 = _interopRequireDefault(_LokiConnector);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _LokiConnector2.default;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _Database = __webpack_require__(4);\n\nvar _Database2 = _interopRequireDefault(_Database);\n\nvar _Utilities = __webpack_require__(8);\n\nvar _Utilities2 = _interopRequireDefault(_Utilities);\n\nvar _v = __webpack_require__(9);\n\nvar _v2 = _interopRequireDefault(_v);\n\nvar _goatFluent = __webpack_require__(12);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = _goatFluent.Interface.compose({\n  methods: {\n    /**\n     *\n     */\n    get: function get() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var filterObject, data;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                filterObject = _this.prepareFilter();\n                _context.next = 3;\n                return _this.getModel();\n\n              case 3:\n                _context.t0 = filterObject;\n                _context.t1 = _this.offsetNumber;\n                _context.t2 = _this.limitNumber;\n                _context.next = 8;\n                return _context.sent.chain().find(_context.t0).offset(_context.t1).limit(_context.t2).data();\n\n              case 8:\n                data = _context.sent;\n\n\n                data = _this.jsApplySelect(data);\n                data = _this.jsApplyOrderBy(data);\n\n                return _context.abrupt(\"return\", data);\n\n              case 12:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, _this);\n      }))();\n    },\n\n    /**\n     *\n     */\n    prepareFilter: function prepareFilter() {\n      var _this2 = this;\n\n      var andObject = { $and: [] };\n      var orObject = { $or: [] };\n      var globalFilter = {};\n\n      // All first Level AND conditions\n      if (this.whereArray.length > 0) {\n        this.whereArray.forEach(function (c) {\n          var conditionToObject = {};\n\n          if (c[0].includes(\"[\")) {\n            throw new Error('Error in: \"' + c[0] + '\" \"Where\" close does not work with Array elements');\n          }\n\n          conditionToObject[c[0]] = {};\n          var lokiOperator = _this2.getLokiOperator(c[1]);\n\n          conditionToObject[c[0]][lokiOperator] = c[2];\n          if (lokiOperator.includes(\"$regex|\")) {\n            delete conditionToObject[c[0]][lokiOperator];\n            conditionToObject[c[0]][\"$regex\"] = lokiOperator.replace(\"$regex|\", \"\").replace(\"{{$var}}\", c[2]);\n          }\n\n          andObject[\"$and\"].push(conditionToObject);\n        });\n        globalFilter = andObject;\n      }\n      // All second level OR conditions\n      if (this.orWhereArray.length > 0) {\n        this.orWhereArray.forEach(function (c) {\n          var conditionToObject = {};\n\n          conditionToObject[c[0]] = {};\n          var lokiOperator = _this2.getLokiOperator(c[1]);\n\n          conditionToObject[c[0]][lokiOperator] = c[2];\n          if (lokiOperator.includes(\"$regex|\")) {\n            delete conditionToObject[c[0]][lokiOperator];\n            conditionToObject[c[0]][\"$regex\"] = lokiOperator.replace(\"$regex|\", \"\").replace(\"{{$var}}\", c[2]);\n          }\n\n          orObject[\"$or\"].push(conditionToObject);\n        });\n\n        globalFilter = { $or: [andObject, orObject] };\n      }\n\n      // TODO we should include global level and() or()\n      // operators to give room for more complex queries\n      return globalFilter;\n    },\n\n    /**\n     *\n     * @param {*} operator\n     */\n    getLokiOperator: function getLokiOperator(operator) {\n      if (!this.operators.includes(operator)) {\n        throw new Error('The \"' + operator + '\" operator is not supported');\n      }\n\n      var lokiOperators = {\n        \"=\": \"$eq\",\n        \"<\": \"$lt\",\n        \">\": \"$gt\",\n        \"<=\": \"$lte\",\n        \">=\": \"$gte\",\n        \"<>\": \"$ne\",\n        \"!=\": \"$ne\",\n        in: \"$in\",\n        nin: \"$nin\",\n        like: \"$aeq\",\n        regexp: \"$regex\",\n        startsWith: \"$regex|^{{$var}}\",\n        endsWith: \"$regex|{{$var}}$\",\n        contains: \"$regex|{{$var}}\"\n      };\n      var converted = _Utilities2.default.get(function () {\n        return lokiOperators[operator];\n      }, undefined);\n\n      if (!converted) {\n        throw new Error('The operator \"' + operator + '\" is not supported in Loki ');\n      }\n      return converted;\n    },\n\n    /**\n     *\n     * @param {Object} db The name of the model to fetch\n     * @param {String} db.model The name of the model to fetch\n     * @returns {Promise} The DB model\n     */\n    getModel: function getModel() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var DB;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _Database2.default.get();\n\n              case 2:\n                DB = _context2.sent;\n                return _context2.abrupt(\"return\", DB.getCollection(_this3.name));\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this3);\n      }))();\n    },\n\n    /**\n     *\n     */\n    all: function all() {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var model;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return _this4.getModel();\n\n              case 2:\n                model = _context3.sent;\n                return _context3.abrupt(\"return\", model.find());\n\n              case 4:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this4);\n      }))();\n    },\n\n    /**\n     * [remove description]\n     * @param  {[type]} document [description]\n     * @return {[type]}          [description]\n     */\n    remove: function remove(_id) {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        var model;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (_id) {\n                  _context4.next = 2;\n                  break;\n                }\n\n                throw new Error(\"No id assign to remove().You must give and _id to delete\");\n\n              case 2:\n                if (_id.includes(\"_local\")) {\n                  _context4.next = 4;\n                  break;\n                }\n\n                throw new Error(\"You can`t delete non local submissions\");\n\n              case 4:\n                _context4.next = 6;\n                return _this5.getModel();\n\n              case 6:\n                model = _context4.sent;\n                return _context4.abrupt(\"return\", model.findAndRemove({ _id: _id }));\n\n              case 8:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, _this5);\n      }))();\n    },\n\n    /**\n     * [insert description]\n     * @param  {Object, Array} element [description]\n     * @return {[type]}         [description]\n     */\n    insert: function insert(data, options) {\n      var _this6 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n        var model;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!Array.isArray(data)) {\n                  _context5.next = 2;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", _this6.ArrayInsert(data, options));\n\n              case 2:\n                data = _Utilities2.default.cloneDeep(data);\n\n                _context5.next = 5;\n                return _this6.getModel();\n\n              case 5:\n                model = _context5.sent;\n\n\n                data._id = (0, _v2.default)() + \"_local\";\n\n                return _context5.abrupt(\"return\", model.insert(data));\n\n              case 8:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, _this6);\n      }))();\n    },\n\n    /**\n     * [update description]\n     * @param  {[type]} document [description]\n     * @return {[type]}          [description]\n     */\n    update: function update(document) {\n      var _this7 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n        var model, local, mod;\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if (document._id) {\n                  _context6.next = 2;\n                  break;\n                }\n\n                throw new Error(\"Loki connector error. Cannot update a Model without _id key\");\n\n              case 2:\n                _context6.next = 4;\n                return _this7.getModel();\n\n              case 4:\n                model = _context6.sent;\n\n\n                document.modified = Math.round(+new Date() / 1000);\n                _context6.next = 8;\n                return model.findOne({ _id: document._id });\n\n              case 8:\n                local = _context6.sent;\n                mod = _extends({}, local, document);\n                return _context6.abrupt(\"return\", model.update(mod));\n\n              case 11:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, _this7);\n      }))();\n    },\n\n    /**\n     *\n     * @param {*} param0\n     */\n    updateOrCreate: function updateOrCreate(_ref) {\n      var _this8 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n        var document = _ref.document;\n        var model, role;\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return _this8.getModel();\n\n              case 2:\n                model = _context7.sent;\n                _context7.next = 5;\n                return model.findOne(document);\n\n              case 5:\n                role = _context7.sent;\n\n\n                if (!role) {\n                  model.insert(document);\n                }\n\n              case 7:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, _this8);\n      }))();\n    },\n\n    /**\n     *\n     * @param {*} param0\n     */\n    findAndRemove: function findAndRemove(_ref2) {\n      var _this9 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n        var filter = _ref2.filter;\n        var model;\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return _this9.getModel();\n\n              case 2:\n                model = _context8.sent;\n                return _context8.abrupt(\"return\", model.findAndRemove(filter));\n\n              case 4:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, _this9);\n      }))();\n    },\n\n    /**\n     *\n     * @param {*} param0\n     */\n    clear: function clear() {\n      var _this10 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9() {\n        var model;\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return _this10.getModel();\n\n              case 2:\n                model = _context9.sent;\n                return _context9.abrupt(\"return\", model.clear({ removeIndices: true }));\n\n              case 4:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, _this10);\n      }))();\n    }\n  }\n});\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // import Promise from \"bluebird\";\n\n\nvar _lokijs = __webpack_require__(5);\n\nvar _lokijs2 = _interopRequireDefault(_lokijs);\n\nvar _lokiIndexedAdapter = __webpack_require__(1);\n\nvar _lokiIndexedAdapter2 = _interopRequireDefault(_lokiIndexedAdapter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nvar LokiReactNativeAdapter = void 0;\nif (typeof navigator != \"undefined\" && navigator.product == \"ReactNative\") {\n  // LokiReactNativeAdapter = require(\"loki-react-native-asyncstorage-adapter\");\n}\nvar DB = null;\nvar Database = function () {\n  /*\n  |--------------------------------------------------------------------------\n  | LockiDB Config\n  |--------------------------------------------------------------------------\n  | Configuration for the Local DB creation.\n  |\n  */\n  var getModels = function getModels() {\n    var models = typeof window !== \"undefined\" && window && window._FLUENT_ && window._FLUENT_.models ? window._FLUENT_.models : global && global._FLUENT_ && global._FLUENT_.models ? global._FLUENT_.models : undefined;\n    return models;\n  };\n  /**\n   *\n   *\n   * @param {Object} configuration- The configuration for the DB\n   * @param {string} configuration.env - Environment i.e 'production'\n   * @returns\n   */\n  var _create = function _create() {\n    return new Promise(function (resolve) {\n      var idbAdapter = void 0;\n      var pa = void 0;\n      var db = void 0;\n\n      var dbConfig = {\n        autosave: true,\n        autosaveInterval: 1000,\n        autoload: true,\n        /* eslint-disable no-use-before-define */\n        autoloadCallback: databaseInitialize,\n        throttledSaves: false\n      };\n\n      try {\n        idbAdapter = new _lokiIndexedAdapter2.default(\"GOAT\");\n        pa = new _lokijs2.default.LokiPartitioningAdapter(idbAdapter, {\n          paging: true\n        });\n\n        db = new _lokijs2.default(\"GOAT\", _extends({}, dbConfig, { adapter: pa }));\n      } catch (error) {\n        if (typeof navigator != \"undefined\" && navigator.product == \"ReactNative\") {\n          adapter = new LokiReactNativeAdapter();\n          db = new _lokijs2.default(\"GOAT\", _extends({}, dbConfig, { adapter: adapter }));\n        } else {\n          db = new _lokijs2.default(\"GOAT\", dbConfig);\n        }\n      }\n\n      function databaseInitialize() {\n        var baseModels = getModels();\n        if (!baseModels) {\n          throw new Error('Cannot Start FLUENT, no models registered or you dont have access to the \"window\" or \"global\" variable');\n        }\n\n        Object.keys(baseModels).forEach(function (model) {\n          var dbModel = db.getCollection(model);\n\n          if (!dbModel) {\n            db.addCollection(model);\n          }\n        });\n        resolve(db);\n      }\n    });\n  };\n  /**\n   * Checks if the DB is created or if new\n   * Models need to be added to the DB\n   * @returns {Boolean}\n   */\n  var shouldCreate = function shouldCreate() {\n    var windowModels = getModels();\n    var dbModels = DB.collections.reduce(function (acc, collection) {\n      acc.push(collection.name);\n      return acc;\n    }, []);\n\n    var models = [];\n    Object.keys(windowModels).forEach(function (m) {\n      if (!dbModels.includes(m)) {\n        models.push(m);\n      }\n    });\n\n    return models;\n  };\n  /**\n   *\n   *\n   * @export\n   * @param {Object} configuration- The configuration for the DB\n   * @param {string} configuration.env - Environment i.e 'production'\n   * @returns\n   */\n  var get = function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      var recreateModels;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (DB) {\n                _context.next = 4;\n                break;\n              }\n\n              _context.next = 3;\n              return _create();\n\n            case 3:\n              DB = _context.sent;\n\n            case 4:\n              recreateModels = shouldCreate();\n\n              if (recreateModels.length > 0) {\n                recreateModels.forEach(function (model) {\n                  DB.addCollection(model);\n                });\n              }\n              return _context.abrupt(\"return\", DB);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    return function get() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  return Object.freeze({\n    get: get\n  });\n}();\n\nexports.default = Database;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(0)))\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function(global, process) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/**\n * LokiJS\n * @author Joe Minichino <joe.minichino@gmail.com>\n *\n * A lightweight document oriented javascript database\n */\n(function (root, factory) {\n  if (true) {\n    // AMD\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else {}\n}(this, function () {\n\n  return (function () {\n    'use strict';\n\n    var hasOwnProperty = Object.prototype.hasOwnProperty;\n\n    var Utils = {\n      copyProperties: function (src, dest) {\n        var prop;\n        for (prop in src) {\n          dest[prop] = src[prop];\n        }\n      },\n      // used to recursively scan hierarchical transform step object for param substitution\n      resolveTransformObject: function (subObj, params, depth) {\n        var prop,\n          pname;\n\n        if (typeof depth !== 'number') {\n          depth = 0;\n        }\n\n        if (++depth >= 10) return subObj;\n\n        for (prop in subObj) {\n          if (typeof subObj[prop] === 'string' && subObj[prop].indexOf(\"[%lktxp]\") === 0) {\n            pname = subObj[prop].substring(8);\n            if (params.hasOwnProperty(pname)) {\n              subObj[prop] = params[pname];\n            }\n          } else if (typeof subObj[prop] === \"object\") {\n            subObj[prop] = Utils.resolveTransformObject(subObj[prop], params, depth);\n          }\n        }\n\n        return subObj;\n      },\n      // top level utility to resolve an entire (single) transform (array of steps) for parameter substitution\n      resolveTransformParams: function (transform, params) {\n        var idx,\n          clonedStep,\n          resolvedTransform = [];\n\n        if (typeof params === 'undefined') return transform;\n\n        // iterate all steps in the transform array\n        for (idx = 0; idx < transform.length; idx++) {\n          // clone transform so our scan/replace can operate directly on cloned transform\n          clonedStep = clone(transform[idx], \"shallow-recurse-objects\");\n          resolvedTransform.push(Utils.resolveTransformObject(clonedStep, params));\n        }\n\n        return resolvedTransform;\n      },\n\n      // By default (if usingDotNotation is false), looks up path in\n      // object via `object[path]`\n      //\n      // If `usingDotNotation` is true, then the path is assumed to\n      // represent a nested path. It can be in the form of an array of\n      // field names, or a period delimited string. The function will\n      // look up the value of object[path[0]], and then call\n      // result[path[1]] on the result, etc etc.\n      //\n      // If `usingDotNotation` is true, this function still supports\n      // non nested fields.\n      //\n      // `usingDotNotation` is a performance optimization. The caller\n      // may know that a path is *not* nested. In which case, this\n      // function avoids a costly string.split('.')\n      //\n      // examples:\n      // getIn({a: 1}, \"a\") => 1\n      // getIn({a: 1}, \"a\", true) => 1\n      // getIn({a: {b: 1}}, [\"a\", \"b\"], true) => 1\n      // getIn({a: {b: 1}}, \"a.b\", true) => 1\n      getIn: function (object, path, usingDotNotation) {\n        if (object == null) {\n          return undefined;\n        }\n        if (!usingDotNotation) {\n          return object[path];\n        }\n\n        if (typeof(path) === \"string\") {\n          path = path.split(\".\");\n        }\n\n        if (!Array.isArray(path)) {\n          throw new Error(\"path must be a string or array. Found \" + typeof(path));\n        }\n\n        var index = 0,\n          length = path.length;\n\n        while (object != null && index < length) {\n          object = object[path[index++]];\n        }\n        return (index && index == length) ? object : undefined;\n      }\n    };\n\n    // wrapping in object to expose to default export for potential user override.\n    // warning: overriding these methods will override behavior for all loki db instances in memory.\n    // warning: if you use binary indices these comparators should be the same for all inserts/updates/removes.\n    var Comparators = {\n      aeq: aeqHelper,\n      lt: ltHelper,\n      gt: gtHelper\n    };\n\n    /** Helper function for determining 'loki' abstract equality which is a little more abstract than ==\n     *     aeqHelper(5, '5') === true\n     *     aeqHelper(5.0, '5') === true\n     *     aeqHelper(new Date(\"1/1/2011\"), new Date(\"1/1/2011\")) === true\n     *     aeqHelper({a:1}, {z:4}) === true (all objects sorted equally)\n     *     aeqHelper([1, 2, 3], [1, 3]) === false\n     *     aeqHelper([1, 2, 3], [1, 2, 3]) === true\n     *     aeqHelper(undefined, null) === true\n     */\n    function aeqHelper(prop1, prop2) {\n      var cv1, cv2, t1, t2;\n\n      if (prop1 === prop2) return true;\n\n      // 'falsy' and Boolean handling\n      if (!prop1 || !prop2 || prop1 === true || prop2 === true || prop1 !== prop1 || prop2 !== prop2) {\n        // dates and NaN conditions (typed dates before serialization)\n        switch (prop1) {\n          case undefined: t1 = 1; break;\n          case null: t1 = 1; break;\n          case false: t1 = 3; break;\n          case true: t1 = 4; break;\n          case \"\": t1 = 5; break;\n          default: t1 = (prop1 === prop1)?9:0; break;\n        }\n\n        switch (prop2) {\n          case undefined: t2 = 1; break;\n          case null: t2 = 1; break;\n          case false: t2 = 3; break;\n          case true: t2 = 4; break;\n          case \"\": t2 = 5; break;\n          default: t2 = (prop2 === prop2)?9:0; break;\n        }\n\n        // one or both is edge case\n        if (t1 !== 9 || t2 !== 9) {\n          return (t1===t2);\n        }\n      }\n\n      // Handle 'Number-like' comparisons\n      cv1 = Number(prop1);\n      cv2 = Number(prop2);\n\n      // if one or both are 'number-like'...\n      if (cv1 === cv1 || cv2 === cv2) {\n        return (cv1 === cv2);\n      }\n\n      // not strict equal nor less than nor gt so must be mixed types, convert to string and use that to compare\n      cv1 = prop1.toString();\n      cv2 = prop2.toString();\n\n      return (cv1 == cv2);\n    }\n\n    /** Helper function for determining 'less-than' conditions for ops, sorting, and binary indices.\n     *     In the future we might want $lt and $gt ops to use their own functionality/helper.\n     *     Since binary indices on a property might need to index [12, NaN, new Date(), Infinity], we\n     *     need this function (as well as gtHelper) to always ensure one value is LT, GT, or EQ to another.\n     */\n    function ltHelper(prop1, prop2, equal) {\n      var cv1, cv2, t1, t2;\n\n      // if one of the params is falsy or strictly true or not equal to itself\n      // 0, 0.0, \"\", NaN, null, undefined, not defined, false, true\n      if (!prop1 || !prop2 || prop1 === true || prop2 === true || prop1 !== prop1 || prop2 !== prop2) {\n        switch (prop1) {\n          case undefined: t1 = 1; break;\n          case null: t1 = 1; break;\n          case false: t1 = 3; break;\n          case true: t1 = 4; break;\n          case \"\": t1 = 5; break;\n          // if strict equal probably 0 so sort higher, otherwise probably NaN so sort lower than even null\n          default: t1 = (prop1 === prop1)?9:0; break;\n        }\n\n        switch (prop2) {\n          case undefined: t2 = 1; break;\n          case null: t2 = 1; break;\n          case false: t2 = 3; break;\n          case true: t2 = 4; break;\n          case \"\": t2 = 5; break;\n          default: t2 = (prop2 === prop2)?9:0; break;\n        }\n\n        // one or both is edge case\n        if (t1 !== 9 || t2 !== 9) {\n          return (t1===t2)?equal:(t1<t2);\n        }\n      }\n\n      // if both are numbers (string encoded or not), compare as numbers\n      cv1 = Number(prop1);\n      cv2 = Number(prop2);\n\n      if (cv1 === cv1 && cv2 === cv2) {\n        if (cv1 < cv2) return true;\n        if (cv1 > cv2) return false;\n        return equal;\n      }\n\n      if (cv1 === cv1 && cv2 !== cv2) {\n        return true;\n      }\n\n      if (cv2 === cv2 && cv1 !== cv1) {\n        return false;\n      }\n\n      if (prop1 < prop2) return true;\n      if (prop1 > prop2) return false;\n      if (prop1 == prop2) return equal;\n\n      // not strict equal nor less than nor gt so must be mixed types, convert to string and use that to compare\n      cv1 = prop1.toString();\n      cv2 = prop2.toString();\n\n      if (cv1 < cv2) {\n        return true;\n      }\n\n      if (cv1 == cv2) {\n        return equal;\n      }\n\n      return false;\n    }\n\n    function gtHelper(prop1, prop2, equal) {\n      var cv1, cv2, t1, t2;\n\n      // 'falsy' and Boolean handling\n      if (!prop1 || !prop2 || prop1 === true || prop2 === true || prop1 !== prop1 || prop2 !== prop2) {\n        switch (prop1) {\n          case undefined: t1 = 1; break;\n          case null: t1 = 1; break;\n          case false: t1 = 3; break;\n          case true: t1 = 4; break;\n          case \"\": t1 = 5; break;\n          // NaN 0\n          default: t1 = (prop1 === prop1)?9:0; break;\n        }\n\n        switch (prop2) {\n          case undefined: t2 = 1; break;\n          case null: t2 = 1; break;\n          case false: t2 = 3; break;\n          case true: t2 = 4; break;\n          case \"\": t2 = 5; break;\n          default: t2 = (prop2 === prop2)?9:0; break;\n        }\n\n        // one or both is edge case\n        if (t1 !== 9 || t2 !== 9) {\n          return (t1===t2)?equal:(t1>t2);\n        }\n      }\n\n      // if both are numbers (string encoded or not), compare as numbers\n      cv1 = Number(prop1);\n      cv2 = Number(prop2);\n      if (cv1 === cv1 && cv2 === cv2) {\n        if (cv1 > cv2) return true;\n        if (cv1 < cv2) return false;\n        return equal;\n      }\n\n      if (cv1 === cv1 && cv2 !== cv2) {\n        return false;\n      }\n\n      if (cv2 === cv2 && cv1 !== cv1) {\n        return true;\n      }\n\n      if (prop1 > prop2) return true;\n      if (prop1 < prop2) return false;\n      if (prop1 == prop2) return equal;\n\n      // not strict equal nor less than nor gt so must be dates or mixed types\n      // convert to string and use that to compare\n      cv1 = prop1.toString();\n      cv2 = prop2.toString();\n\n      if (cv1 > cv2) {\n        return true;\n      }\n\n      if (cv1 == cv2) {\n        return equal;\n      }\n\n      return false;\n    }\n\n    function sortHelper(prop1, prop2, desc) {\n      if (Comparators.aeq(prop1, prop2)) return 0;\n\n      if (Comparators.lt(prop1, prop2, false)) {\n        return (desc) ? (1) : (-1);\n      }\n\n      if (Comparators.gt(prop1, prop2, false)) {\n        return (desc) ? (-1) : (1);\n      }\n\n      // not lt, not gt so implied equality-- date compatible\n      return 0;\n    }\n\n    /**\n     * compoundeval() - helper function for compoundsort(), performing individual object comparisons\n     *\n     * @param {array} properties - array of property names, in order, by which to evaluate sort order\n     * @param {object} obj1 - first object to compare\n     * @param {object} obj2 - second object to compare\n     * @returns {integer} 0, -1, or 1 to designate if identical (sortwise) or which should be first\n     */\n    function compoundeval(properties, obj1, obj2) {\n      var res = 0;\n      var prop, field, val1, val2, arr, path;\n      for (var i = 0, len = properties.length; i < len; i++) {\n        prop = properties[i];\n        field = prop[0];\n        if (~field.indexOf('.')) {\n          arr = field.split('.');\n          val1 = Utils.getIn(obj1, arr, true);\n          val2 = Utils.getIn(obj2, arr, true);\n        } else {\n          val1 = obj1[field];\n          val2 = obj2[field];\n        }\n        res = sortHelper(val1, val2, prop[1]);\n        if (res !== 0) {\n          return res;\n        }\n      }\n      return 0;\n    }\n\n    /**\n     * dotSubScan - helper function used for dot notation queries.\n     *\n     * @param {object} root - object to traverse\n     * @param {array} paths - array of properties to drill into\n     * @param {function} fun - evaluation function to test with\n     * @param {any} value - comparative value to also pass to (compare) fun\n     * @param {number} poffset - index of the item in 'paths' to start the sub-scan from\n     */\n    function dotSubScan(root, paths, fun, value, poffset) {\n      var pathOffset = poffset || 0;\n      var path = paths[pathOffset];\n\n      var valueFound = false;\n      var element;\n      if (typeof root === 'object' && path in root) {\n        element = root[path];\n      }\n      if (pathOffset + 1 >= paths.length) {\n        // if we have already expanded out the dot notation,\n        // then just evaluate the test function and value on the element\n        valueFound = fun(element, value);\n      } else if (Array.isArray(element)) {\n        for (var index = 0, len = element.length; index < len; index += 1) {\n          valueFound = dotSubScan(element[index], paths, fun, value, pathOffset + 1);\n          if (valueFound === true) {\n            break;\n          }\n        }\n      } else {\n        valueFound = dotSubScan(element, paths, fun, value, pathOffset + 1);\n      }\n\n      return valueFound;\n    }\n\n    function containsCheckFn(a) {\n      if (typeof a === 'string' || Array.isArray(a)) {\n        return function (b) {\n          return a.indexOf(b) !== -1;\n        };\n      } else if (typeof a === 'object' && a !== null) {\n        return function (b) {\n          return hasOwnProperty.call(a, b);\n        };\n      }\n      return null;\n    }\n\n    function doQueryOp(val, op) {\n      for (var p in op) {\n        if (hasOwnProperty.call(op, p)) {\n          return LokiOps[p](val, op[p]);\n        }\n      }\n      return false;\n    }\n\n    var LokiOps = {\n      // comparison operators\n      // a is the value in the collection\n      // b is the query value\n      $eq: function (a, b) {\n        return a === b;\n      },\n\n      // abstract/loose equality\n      $aeq: function (a, b) {\n        return a == b;\n      },\n\n      $ne: function (a, b) {\n        // ecma 5 safe test for NaN\n        if (b !== b) {\n          // ecma 5 test value is not NaN\n          return (a === a);\n        }\n\n        return a !== b;\n      },\n      // date equality / loki abstract equality test\n      $dteq: function (a, b) {\n        return Comparators.aeq(a, b);\n      },\n\n      // loki comparisons: return identical unindexed results as indexed comparisons\n      $gt: function (a, b) {\n        return Comparators.gt(a, b, false);\n      },\n\n      $gte: function (a, b) {\n        return Comparators.gt(a, b, true);\n      },\n\n      $lt: function (a, b) {\n        return Comparators.lt(a, b, false);\n      },\n\n      $lte: function (a, b) {\n        return Comparators.lt(a, b, true);\n      },\n\n      // lightweight javascript comparisons\n      $jgt: function (a, b) {\n        return a > b;\n      },\n\n      $jgte: function (a, b) {\n        return a >= b;\n      },\n\n      $jlt: function (a, b) {\n        return a < b;\n      },\n\n      $jlte: function (a, b) {\n        return a <= b;\n      },\n\n      // ex : coll.find({'orderCount': {$between: [10, 50]}});\n      $between: function (a, vals) {\n        if (a === undefined || a === null) return false;\n        return (Comparators.gt(a, vals[0], true) && Comparators.lt(a, vals[1], true));\n      },\n\n      $jbetween: function (a, vals) {\n        if (a === undefined || a === null) return false;\n        return (a >= vals[0] && a <= vals[1]);\n      },\n\n      $in: function (a, b) {\n        return b.indexOf(a) !== -1;\n      },\n\n      $nin: function (a, b) {\n        return b.indexOf(a) === -1;\n      },\n\n      $keyin: function (a, b) {\n        return a in b;\n      },\n\n      $nkeyin: function (a, b) {\n        return !(a in b);\n      },\n\n      $definedin: function (a, b) {\n        return b[a] !== undefined;\n      },\n\n      $undefinedin: function (a, b) {\n        return b[a] === undefined;\n      },\n\n      $regex: function (a, b) {\n        return b.test(a);\n      },\n\n      $containsString: function (a, b) {\n        return (typeof a === 'string') && (a.indexOf(b) !== -1);\n      },\n\n      $containsNone: function (a, b) {\n        return !LokiOps.$containsAny(a, b);\n      },\n\n      $containsAny: function (a, b) {\n        var checkFn = containsCheckFn(a);\n        if (checkFn !== null) {\n          return (Array.isArray(b)) ? (b.some(checkFn)) : (checkFn(b));\n        }\n        return false;\n      },\n\n      $contains: function (a, b) {\n        var checkFn = containsCheckFn(a);\n        if (checkFn !== null) {\n          return (Array.isArray(b)) ? (b.every(checkFn)) : (checkFn(b));\n        }\n        return false;\n      },\n\n      $type: function (a, b) {\n        var type = typeof a;\n        if (type === 'object') {\n          if (Array.isArray(a)) {\n            type = 'array';\n          } else if (a instanceof Date) {\n            type = 'date';\n          }\n        }\n        return (typeof b !== 'object') ? (type === b) : doQueryOp(type, b);\n      },\n\n      $finite: function(a, b) {\n        return (b === isFinite(a));\n      },\n\n      $size: function (a, b) {\n        if (Array.isArray(a)) {\n          return (typeof b !== 'object') ? (a.length === b) : doQueryOp(a.length, b);\n        }\n        return false;\n      },\n\n      $len: function (a, b) {\n        if (typeof a === 'string') {\n          return (typeof b !== 'object') ? (a.length === b) : doQueryOp(a.length, b);\n        }\n        return false;\n      },\n\n      $where: function (a, b) {\n        return b(a) === true;\n      },\n\n      // field-level logical operators\n      // a is the value in the collection\n      // b is the nested query operation (for '$not')\n      //   or an array of nested query operations (for '$and' and '$or')\n      $not: function (a, b) {\n        return !doQueryOp(a, b);\n      },\n\n      $and: function (a, b) {\n        for (var idx = 0, len = b.length; idx < len; idx += 1) {\n          if (!doQueryOp(a, b[idx])) {\n            return false;\n          }\n        }\n        return true;\n      },\n\n      $or: function (a, b) {\n        for (var idx = 0, len = b.length; idx < len; idx += 1) {\n          if (doQueryOp(a, b[idx])) {\n            return true;\n          }\n        }\n        return false;\n      },\n\n      $exists: function (a, b) {\n        if (b) {\n          return a !== undefined;\n        } else {\n          return a === undefined;\n        }\n      }\n    };\n\n    // if an op is registered in this object, our 'calculateRange' can use it with our binary indices.\n    // if the op is registered to a function, we will run that function/op as a 2nd pass filter on results.\n    // those 2nd pass filter functions should be similar to LokiOps functions, accepting 2 vals to compare.\n    var indexedOps = {\n      $eq: LokiOps.$eq,\n      $aeq: true,\n      $dteq: true,\n      $gt: true,\n      $gte: true,\n      $lt: true,\n      $lte: true,\n      $in: true,\n      $between: true\n    };\n\n    function clone(data, method) {\n      if (data === null || data === undefined) {\n        return null;\n      }\n\n      var cloneMethod = method || 'parse-stringify',\n        cloned;\n\n      switch (cloneMethod) {\n      case \"parse-stringify\":\n        cloned = JSON.parse(JSON.stringify(data));\n        break;\n      case \"jquery-extend-deep\":\n        cloned = jQuery.extend(true, {}, data);\n        break;\n      case \"shallow\":\n        // more compatible method for older browsers\n        cloned = Object.create(data.constructor.prototype);\n        Object.keys(data).map(function (i) {\n          cloned[i] = data[i];\n        });\n        break;\n      case \"shallow-assign\":\n        // should be supported by newer environments/browsers\n        cloned = Object.create(data.constructor.prototype);\n        Object.assign(cloned, data);\n        break;\n      case \"shallow-recurse-objects\":\n        // shallow clone top level properties\n        cloned = clone(data, \"shallow\");\n        var keys = Object.keys(data);\n        // for each of the top level properties which are object literals, recursively shallow copy\n        keys.forEach(function(key) {\n          if (typeof data[key] === \"object\" && data[key].constructor.name === \"Object\")  {\n            cloned[key] = clone(data[key], \"shallow-recurse-objects\");\n          }else if(Array.isArray(data[key])){\n            cloned[key] = cloneObjectArray(data[key], \"shallow-recurse-objects\");\n          }\n        });\n        break;\n      default:\n        break;\n      }\n\n      return cloned;\n    }\n\n    function cloneObjectArray(objarray, method) {\n      if (method == \"parse-stringify\") {\n        return clone(objarray, method);\n      }\n      var result = [];\n      for (var i = 0, len = objarray.length; i < len; i++) {\n        result[i] = clone(objarray[i], method);\n      }\n      return result;\n    }\n\n    function localStorageAvailable() {\n      try {\n        return (window && window.localStorage !== undefined && window.localStorage !== null);\n      } catch (e) {\n        return false;\n      }\n    }\n\n\n    /**\n     * LokiEventEmitter is a minimalist version of EventEmitter. It enables any\n     * constructor that inherits EventEmitter to emit events and trigger\n     * listeners that have been added to the event through the on(event, callback) method\n     *\n     * @constructor LokiEventEmitter\n     */\n    function LokiEventEmitter() {}\n\n    /**\n     * @prop {hashmap} events - a hashmap, with each property being an array of callbacks\n     * @memberof LokiEventEmitter\n     */\n    LokiEventEmitter.prototype.events = {};\n\n    /**\n     * @prop {boolean} asyncListeners - boolean determines whether or not the callbacks associated with each event\n     * should happen in an async fashion or not\n     * Default is false, which means events are synchronous\n     * @memberof LokiEventEmitter\n     */\n    LokiEventEmitter.prototype.asyncListeners = false;\n\n    /**\n     * on(eventName, listener) - adds a listener to the queue of callbacks associated to an event\n     * @param {string|string[]} eventName - the name(s) of the event(s) to listen to\n     * @param {function} listener - callback function of listener to attach\n     * @returns {int} the index of the callback in the array of listeners for a particular event\n     * @memberof LokiEventEmitter\n     */\n    LokiEventEmitter.prototype.on = function (eventName, listener) {\n      var event;\n      var self = this;\n\n      if (Array.isArray(eventName)) {\n        eventName.forEach(function(currentEventName) {\n          self.on(currentEventName, listener);\n        });\n        return listener;\n      }\n\n      event = this.events[eventName];\n      if (!event) {\n        event = this.events[eventName] = [];\n      }\n      event.push(listener);\n      return listener;\n    };\n\n    /**\n     * emit(eventName, data) - emits a particular event\n     * with the option of passing optional parameters which are going to be processed by the callback\n     * provided signatures match (i.e. if passing emit(event, arg0, arg1) the listener should take two parameters)\n     * @param {string} eventName - the name of the event\n     * @param {object=} data - optional object passed with the event\n     * @memberof LokiEventEmitter\n     */\n    LokiEventEmitter.prototype.emit = function (eventName) {\n      var self = this;\n      var selfArgs = Array.prototype.slice.call(arguments, 1);\n      if (eventName && this.events[eventName]) {\n        this.events[eventName].forEach(function (listener) {\n          if (self.asyncListeners) {\n            setTimeout(function () {\n              listener.apply(self, selfArgs);\n            }, 1);\n          } else {\n            listener.apply(self, selfArgs);\n          }\n\n        });\n      } else {\n        throw new Error('No event ' + eventName + ' defined');\n      }\n    };\n\n    /**\n     * Alias of LokiEventEmitter.prototype.on\n     * addListener(eventName, listener) - adds a listener to the queue of callbacks associated to an event\n     * @param {string|string[]} eventName - the name(s) of the event(s) to listen to\n     * @param {function} listener - callback function of listener to attach\n     * @returns {int} the index of the callback in the array of listeners for a particular event\n     * @memberof LokiEventEmitter\n     */\n    LokiEventEmitter.prototype.addListener = LokiEventEmitter.prototype.on;\n\n    /**\n     * removeListener() - removes the listener at position 'index' from the event 'eventName'\n     * @param {string|string[]} eventName - the name(s) of the event(s) which the listener is attached to\n     * @param {function} listener - the listener callback function to remove from emitter\n     * @memberof LokiEventEmitter\n     */\n    LokiEventEmitter.prototype.removeListener = function (eventName, listener) {\n      var self = this;\n\n      if (Array.isArray(eventName)) {\n        eventName.forEach(function(currentEventName) {\n          self.removeListener(currentEventName, listener);\n        });\n\n        return;\n      }\n\n      if (this.events[eventName]) {\n        var listeners = this.events[eventName];\n        listeners.splice(listeners.indexOf(listener), 1);\n      }\n    };\n\n    /**\n     * Loki: The main database class\n     * @constructor Loki\n     * @implements LokiEventEmitter\n     * @param {string} filename - name of the file to be saved to\n     * @param {object=} options - (Optional) config options object\n     * @param {string} options.env - override environment detection as 'NODEJS', 'BROWSER', 'CORDOVA'\n     * @param {boolean} [options.verbose=false] - enable console output\n     * @param {boolean} [options.autosave=false] - enables autosave\n     * @param {int} [options.autosaveInterval=5000] - time interval (in milliseconds) between saves (if dirty)\n     * @param {boolean} [options.autoload=false] - enables autoload on loki instantiation\n     * @param {function} options.autoloadCallback - user callback called after database load\n     * @param {adapter} options.adapter - an instance of a loki persistence adapter\n     * @param {string} [options.serializationMethod='normal'] - ['normal', 'pretty', 'destructured']\n     * @param {string} options.destructureDelimiter - string delimiter used for destructured serialization\n     * @param {boolean} [options.throttledSaves=true] - debounces multiple calls to to saveDatabase reducing number of disk I/O operations\n                                                and guaranteeing proper serialization of the calls.\n     */\n    function Loki(filename, options) {\n      this.filename = filename || 'loki.db';\n      this.collections = [];\n\n      // persist version of code which created the database to the database.\n      // could use for upgrade scenarios\n      this.databaseVersion = 1.5;\n      this.engineVersion = 1.5;\n\n      // autosave support (disabled by default)\n      // pass autosave: true, autosaveInterval: 6000 in options to set 6 second autosave\n      this.autosave = false;\n      this.autosaveInterval = 5000;\n      this.autosaveHandle = null;\n      this.throttledSaves = true;\n\n      this.options = {};\n\n      // currently keeping persistenceMethod and persistenceAdapter as loki level properties that\n      // will not or cannot be deserialized.  You are required to configure persistence every time\n      // you instantiate a loki object (or use default environment detection) in order to load the database anyways.\n\n      // persistenceMethod could be 'fs', 'localStorage', or 'adapter'\n      // this is optional option param, otherwise environment detection will be used\n      // if user passes their own adapter we will force this method to 'adapter' later, so no need to pass method option.\n      this.persistenceMethod = null;\n\n      // retain reference to optional (non-serializable) persistenceAdapter 'instance'\n      this.persistenceAdapter = null;\n\n      // flags used to throttle saves\n      this.throttledSavePending = false;\n      this.throttledCallbacks = [];\n\n      // enable console output if verbose flag is set (disabled by default)\n      this.verbose = options && options.hasOwnProperty('verbose') ? options.verbose : false;\n\n      this.events = {\n        'init': [],\n        'loaded': [],\n        'flushChanges': [],\n        'close': [],\n        'changes': [],\n        'warning': []\n      };\n\n      var getENV = function () {\n        if (typeof global !== 'undefined' && (global.android || global.NSObject)) {\n           // If no adapter assume nativescript which needs adapter to be passed manually\n           return 'NATIVESCRIPT'; //nativescript\n        }\n\n        if (typeof window === 'undefined') {\n          return 'NODEJS';\n        }\n\n        if (typeof global !== 'undefined' && global.window && typeof process !== 'undefined') {\n          return 'NODEJS'; //node-webkit\n        }\n\n        if (typeof document !== 'undefined') {\n          if (document.URL.indexOf('http://') === -1 && document.URL.indexOf('https://') === -1) {\n            return 'CORDOVA';\n          }\n          return 'BROWSER';\n        }\n        return 'CORDOVA';\n      };\n\n      // refactored environment detection due to invalid detection for browser environments.\n      // if they do not specify an options.env we want to detect env rather than default to nodejs.\n      // currently keeping two properties for similar thing (options.env and options.persistenceMethod)\n      //   might want to review whether we can consolidate.\n      if (options && options.hasOwnProperty('env')) {\n        this.ENV = options.env;\n      } else {\n        this.ENV = getENV();\n      }\n\n      // not sure if this is necessary now that i have refactored the line above\n      if (this.ENV === 'undefined') {\n        this.ENV = 'NODEJS';\n      }\n\n      this.configureOptions(options, true);\n\n      this.on('init', this.clearChanges);\n\n    }\n\n    // db class is an EventEmitter\n    Loki.prototype = new LokiEventEmitter();\n    Loki.prototype.constructor = Loki;\n\n    // experimental support for browserify's abstract syntax scan to pick up dependency of indexed adapter.\n    // Hopefully, once this hits npm a browserify require of lokijs should scan the main file and detect this indexed adapter reference.\n    Loki.prototype.getIndexedAdapter = function () {\n      var adapter;\n\n      if (true) {\n        adapter = __webpack_require__(1);\n      }\n\n      return adapter;\n    };\n\n\n    /**\n     * Allows reconfiguring database options\n     *\n     * @param {object} options - configuration options to apply to loki db object\n     * @param {string} options.env - override environment detection as 'NODEJS', 'BROWSER', 'CORDOVA'\n     * @param {boolean} options.verbose - enable console output (default is 'false')\n     * @param {boolean} options.autosave - enables autosave\n     * @param {int} options.autosaveInterval - time interval (in milliseconds) between saves (if dirty)\n     * @param {boolean} options.autoload - enables autoload on loki instantiation\n     * @param {function} options.autoloadCallback - user callback called after database load\n     * @param {adapter} options.adapter - an instance of a loki persistence adapter\n     * @param {string} options.serializationMethod - ['normal', 'pretty', 'destructured']\n     * @param {string} options.destructureDelimiter - string delimiter used for destructured serialization\n     * @param {boolean} initialConfig - (internal) true is passed when loki ctor is invoking\n     * @memberof Loki\n     */\n    Loki.prototype.configureOptions = function (options, initialConfig) {\n      var defaultPersistence = {\n          'NODEJS': 'fs',\n          'BROWSER': 'localStorage',\n          'CORDOVA': 'localStorage',\n          'MEMORY': 'memory'\n        },\n        persistenceMethods = {\n          'fs': LokiFsAdapter,\n          'localStorage': LokiLocalStorageAdapter,\n          'memory': LokiMemoryAdapter\n        };\n\n      this.options = {};\n\n      this.persistenceMethod = null;\n      // retain reference to optional persistence adapter 'instance'\n      // currently keeping outside options because it can't be serialized\n      this.persistenceAdapter = null;\n\n      // process the options\n      if (typeof (options) !== 'undefined') {\n        this.options = options;\n\n        if (this.options.hasOwnProperty('persistenceMethod')) {\n          // check if the specified persistence method is known\n          if (typeof (persistenceMethods[options.persistenceMethod]) == 'function') {\n            this.persistenceMethod = options.persistenceMethod;\n            this.persistenceAdapter = new persistenceMethods[options.persistenceMethod]();\n          }\n          // should be throw an error here, or just fall back to defaults ??\n        }\n\n        // if user passes adapter, set persistence mode to adapter and retain persistence adapter instance\n        if (this.options.hasOwnProperty('adapter')) {\n          this.persistenceMethod = 'adapter';\n          this.persistenceAdapter = options.adapter;\n          this.options.adapter = null;\n        }\n\n\n        // if they want to load database on loki instantiation, now is a good time to load... after adapter set and before possible autosave initiation\n        if (options.autoload && initialConfig) {\n          // for autoload, let the constructor complete before firing callback\n          var self = this;\n          setTimeout(function () {\n            self.loadDatabase(options, options.autoloadCallback);\n          }, 1);\n        }\n\n        if (this.options.hasOwnProperty('autosaveInterval')) {\n          this.autosaveDisable();\n          this.autosaveInterval = parseInt(this.options.autosaveInterval, 10);\n        }\n\n        if (this.options.hasOwnProperty('autosave') && this.options.autosave) {\n          this.autosaveDisable();\n          this.autosave = true;\n\n          if (this.options.hasOwnProperty('autosaveCallback')) {\n            this.autosaveEnable(options, options.autosaveCallback);\n          } else {\n            this.autosaveEnable();\n          }\n        }\n\n        if (this.options.hasOwnProperty('throttledSaves')) {\n          this.throttledSaves = this.options.throttledSaves;\n        }\n      } // end of options processing\n\n      // ensure defaults exists for options which were not set\n      if (!this.options.hasOwnProperty('serializationMethod')) {\n        this.options.serializationMethod = 'normal';\n      }\n\n      // ensure passed or default option exists\n      if (!this.options.hasOwnProperty('destructureDelimiter')) {\n        this.options.destructureDelimiter = '$<\\n';\n      }\n\n      // if by now there is no adapter specified by user nor derived from persistenceMethod: use sensible defaults\n      if (this.persistenceAdapter === null) {\n        this.persistenceMethod = defaultPersistence[this.ENV];\n        if (this.persistenceMethod) {\n          this.persistenceAdapter = new persistenceMethods[this.persistenceMethod]();\n        }\n      }\n\n    };\n\n    /**\n     * Copies 'this' database into a new Loki instance. Object references are shared to make lightweight.\n     *\n     * @param {object} options - apply or override collection level settings\n     * @param {bool} options.removeNonSerializable - nulls properties not safe for serialization.\n     * @memberof Loki\n     */\n    Loki.prototype.copy = function(options) {\n      // in case running in an environment without accurate environment detection, pass 'NA'\n      var databaseCopy = new Loki(this.filename, { env: \"NA\" });\n      var clen, idx;\n\n      options = options || {};\n\n      // currently inverting and letting loadJSONObject do most of the work\n      databaseCopy.loadJSONObject(this, { retainDirtyFlags: true });\n\n      // since our JSON serializeReplacer is not invoked for reference database adapters, this will let us mimic\n      if(options.hasOwnProperty(\"removeNonSerializable\") && options.removeNonSerializable === true) {\n        databaseCopy.autosaveHandle = null;\n        databaseCopy.persistenceAdapter = null;\n\n        clen = databaseCopy.collections.length;\n        for (idx=0; idx<clen; idx++) {\n          databaseCopy.collections[idx].constraints = null;\n          databaseCopy.collections[idx].ttl = null;\n        }\n      }\n\n      return databaseCopy;\n    };\n\n    /**\n     * Adds a collection to the database.\n     * @param {string} name - name of collection to add\n     * @param {object=} options - (optional) options to configure collection with.\n     * @param {array=} [options.unique=[]] - array of property names to define unique constraints for\n     * @param {array=} [options.exact=[]] - array of property names to define exact constraints for\n     * @param {array=} [options.indices=[]] - array property names to define binary indexes for\n     * @param {boolean} [options.asyncListeners=false] - whether listeners are called asynchronously\n     * @param {boolean} [options.disableMeta=false] - set to true to disable meta property on documents\n     * @param {boolean} [options.disableChangesApi=true] - set to false to enable Changes Api\n     * @param {boolean} [options.disableDeltaChangesApi=true] - set to false to enable Delta Changes API (requires Changes API, forces cloning)\n     * @param {boolean} [options.autoupdate=false] - use Object.observe to update objects automatically\n     * @param {boolean} [options.clone=false] - specify whether inserts and queries clone to/from user\n     * @param {string} [options.cloneMethod='parse-stringify'] - 'parse-stringify', 'jquery-extend-deep', 'shallow, 'shallow-assign'\n     * @param {int=} options.ttl - age of document (in ms.) before document is considered aged/stale.\n     * @param {int=} options.ttlInterval - time interval for clearing out 'aged' documents; not set by default.\n     * @returns {Collection} a reference to the collection which was just added\n     * @memberof Loki\n     */\n    Loki.prototype.addCollection = function (name, options) {\n      var i,\n        len = this.collections.length;\n\n      if (options && options.disableMeta === true) {\n        if (options.disableChangesApi === false) {\n          throw new Error(\"disableMeta option cannot be passed as true when disableChangesApi is passed as false\");\n        }\n        if (options.disableDeltaChangesApi === false) {\n          throw new Error(\"disableMeta option cannot be passed as true when disableDeltaChangesApi is passed as false\");\n        }\n        if (typeof options.ttl === \"number\" && options.ttl > 0) {\n          throw new Error(\"disableMeta option cannot be passed as true when ttl is enabled\");\n        }\n      }\n\n      for (i = 0; i < len; i += 1) {\n        if (this.collections[i].name === name) {\n          return this.collections[i];\n        }\n      }\n\n      var collection = new Collection(name, options);\n      this.collections.push(collection);\n\n      if (this.verbose)\n        collection.console = console;\n\n      return collection;\n    };\n\n    Loki.prototype.loadCollection = function (collection) {\n      if (!collection.name) {\n        throw new Error('Collection must have a name property to be loaded');\n      }\n      this.collections.push(collection);\n    };\n\n    /**\n     * Retrieves reference to a collection by name.\n     * @param {string} collectionName - name of collection to look up\n     * @returns {Collection} Reference to collection in database by that name, or null if not found\n     * @memberof Loki\n     */\n    Loki.prototype.getCollection = function (collectionName) {\n      var i,\n        len = this.collections.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.collections[i].name === collectionName) {\n          return this.collections[i];\n        }\n      }\n\n      // no such collection\n      this.emit('warning', 'collection ' + collectionName + ' not found');\n      return null;\n    };\n\n    /**\n     * Renames an existing loki collection\n     * @param {string} oldName - name of collection to rename\n     * @param {string} newName - new name of collection\n     * @returns {Collection} reference to the newly renamed collection\n     * @memberof Loki\n     */\n    Loki.prototype.renameCollection = function (oldName, newName) {\n      var c = this.getCollection(oldName);\n\n      if (c) {\n        c.name = newName;\n      }\n\n      return c;\n    };\n\n    /**\n     * Returns a list of collections in the database.\n     * @returns {object[]} array of objects containing 'name', 'type', and 'count' properties.\n     * @memberof Loki\n     */\n    Loki.prototype.listCollections = function () {\n\n      var i = this.collections.length,\n        colls = [];\n\n      while (i--) {\n        colls.push({\n          name: this.collections[i].name,\n          type: this.collections[i].objType,\n          count: this.collections[i].data.length\n        });\n      }\n      return colls;\n    };\n\n    /**\n     * Removes a collection from the database.\n     * @param {string} collectionName - name of collection to remove\n     * @memberof Loki\n     */\n    Loki.prototype.removeCollection = function (collectionName) {\n      var i,\n        len = this.collections.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.collections[i].name === collectionName) {\n          var tmpcol = new Collection(collectionName, {});\n          var curcol = this.collections[i];\n          for (var prop in curcol) {\n            if (curcol.hasOwnProperty(prop) && tmpcol.hasOwnProperty(prop)) {\n              curcol[prop] = tmpcol[prop];\n            }\n          }\n          this.collections.splice(i, 1);\n          return;\n        }\n      }\n    };\n\n    Loki.prototype.getName = function () {\n      return this.name;\n    };\n\n    /**\n     * serializeReplacer - used to prevent certain properties from being serialized\n     *\n     */\n    Loki.prototype.serializeReplacer = function (key, value) {\n      switch (key) {\n      case 'autosaveHandle':\n      case 'persistenceAdapter':\n      case 'constraints':\n      case 'ttl':\n        return null;\n      case 'throttledSavePending':\n      case 'throttledCallbacks':\n        return undefined;\n      default:\n        return value;\n      }\n    };\n\n    /**\n     * Serialize database to a string which can be loaded via {@link Loki#loadJSON}\n     *\n     * @returns {string} Stringified representation of the loki database.\n     * @memberof Loki\n     */\n    Loki.prototype.serialize = function (options) {\n      options = options || {};\n\n      if (!options.hasOwnProperty(\"serializationMethod\")) {\n        options.serializationMethod = this.options.serializationMethod;\n      }\n\n      switch(options.serializationMethod) {\n        case \"normal\": return JSON.stringify(this, this.serializeReplacer);\n        case \"pretty\": return JSON.stringify(this, this.serializeReplacer, 2);\n        case \"destructured\": return this.serializeDestructured(); // use default options\n        default: return JSON.stringify(this, this.serializeReplacer);\n      }\n    };\n\n    // alias of serialize\n    Loki.prototype.toJson = Loki.prototype.serialize;\n\n    /**\n     * Database level destructured JSON serialization routine to allow alternate serialization methods.\n     * Internally, Loki supports destructuring via loki \"serializationMethod' option and\n     * the optional LokiPartitioningAdapter class. It is also available if you wish to do\n     * your own structured persistence or data exchange.\n     *\n     * @param {object=} options - output format options for use externally to loki\n     * @param {bool=} options.partitioned - (default: false) whether db and each collection are separate\n     * @param {int=} options.partition - can be used to only output an individual collection or db (-1)\n     * @param {bool=} options.delimited - (default: true) whether subitems are delimited or subarrays\n     * @param {string=} options.delimiter - override default delimiter\n     *\n     * @returns {string|array} A custom, restructured aggregation of independent serializations.\n     * @memberof Loki\n     */\n    Loki.prototype.serializeDestructured = function(options) {\n      var idx, sidx, result, resultlen;\n      var reconstruct = [];\n      var dbcopy;\n\n      options = options || {};\n\n      if (!options.hasOwnProperty(\"partitioned\")) {\n        options.partitioned = false;\n      }\n\n      if (!options.hasOwnProperty(\"delimited\")) {\n        options.delimited = true;\n      }\n\n      if (!options.hasOwnProperty(\"delimiter\")) {\n        options.delimiter = this.options.destructureDelimiter;\n      }\n\n      // 'partitioned' along with 'partition' of 0 or greater is a request for single collection serialization\n      if (options.partitioned === true && options.hasOwnProperty(\"partition\") && options.partition >= 0) {\n        return this.serializeCollection({\n          delimited: options.delimited,\n          delimiter: options.delimiter,\n          collectionIndex: options.partition\n        });\n      }\n\n      // not just an individual collection, so we will need to serialize db container via shallow copy\n      dbcopy = new Loki(this.filename);\n      dbcopy.loadJSONObject(this);\n\n      for(idx=0; idx < dbcopy.collections.length; idx++) {\n        dbcopy.collections[idx].data = [];\n      }\n\n      // if we -only- wanted the db container portion, return it now\n      if (options.partitioned === true && options.partition === -1) {\n        // since we are deconstructing, override serializationMethod to normal for here\n        return dbcopy.serialize({\n          serializationMethod: \"normal\"\n        });\n      }\n\n      // at this point we must be deconstructing the entire database\n      // start by pushing db serialization into first array element\n      reconstruct.push(dbcopy.serialize({\n          serializationMethod: \"normal\"\n      }));\n\n      dbcopy = null;\n\n      // push collection data into subsequent elements\n      for(idx=0; idx < this.collections.length; idx++) {\n        result = this.serializeCollection({\n          delimited: options.delimited,\n          delimiter: options.delimiter,\n          collectionIndex: idx\n        });\n\n        // NDA : Non-Delimited Array : one iterable concatenated array with empty string collection partitions\n        if (options.partitioned === false && options.delimited === false) {\n          if (!Array.isArray(result)) {\n            throw new Error(\"a nondelimited, non partitioned collection serialization did not return an expected array\");\n          }\n\n          // Array.concat would probably duplicate memory overhead for copying strings.\n          // Instead copy each individually, and clear old value after each copy.\n          // Hopefully this will allow g.c. to reduce memory pressure, if needed.\n          resultlen = result.length;\n\n          for (sidx=0; sidx < resultlen; sidx++) {\n            reconstruct.push(result[sidx]);\n            result[sidx] = null;\n          }\n\n          reconstruct.push(\"\");\n        }\n        else {\n          reconstruct.push(result);\n        }\n      }\n\n      // Reconstruct / present results according to four combinations : D, DA, NDA, NDAA\n      if (options.partitioned) {\n        // DA : Delimited Array of strings [0] db [1] collection [n] collection { partitioned: true, delimited: true }\n        // useful for simple future adaptations of existing persistence adapters to save collections separately\n        if (options.delimited) {\n          return reconstruct;\n        }\n        // NDAA : Non-Delimited Array with subArrays. db at [0] and collection subarrays at [n] { partitioned: true, delimited : false }\n        // This format might be the most versatile for 'rolling your own' partitioned sync or save.\n        // Memory overhead can be reduced by specifying a specific partition, but at this code path they did not, so its all.\n        else {\n          return reconstruct;\n        }\n      }\n      else {\n        // D : one big Delimited string { partitioned: false, delimited : true }\n        // This is the method Loki will use internally if 'destructured'.\n        // Little memory overhead improvements but does not require multiple asynchronous adapter call scheduling\n        if (options.delimited) {\n          // indicate no more collections\n          reconstruct.push(\"\");\n\n          return reconstruct.join(options.delimiter);\n        }\n        // NDA : Non-Delimited Array : one iterable array with empty string collection partitions { partitioned: false, delimited: false }\n        // This format might be best candidate for custom synchronous syncs or saves\n        else {\n          // indicate no more collections\n          reconstruct.push(\"\");\n\n          return reconstruct;\n        }\n      }\n\n      reconstruct.push(\"\");\n\n      return reconstruct.join(delim);\n    };\n\n    /**\n     * Collection level utility method to serialize a collection in a 'destructured' format\n     *\n     * @param {object=} options - used to determine output of method\n     * @param {int} options.delimited - whether to return single delimited string or an array\n     * @param {string} options.delimiter - (optional) if delimited, this is delimiter to use\n     * @param {int} options.collectionIndex -  specify which collection to serialize data for\n     *\n     * @returns {string|array} A custom, restructured aggregation of independent serializations for a single collection.\n     * @memberof Loki\n     */\n    Loki.prototype.serializeCollection = function(options) {\n      var doccount,\n        docidx,\n        resultlines = [];\n\n      options = options || {};\n\n      if (!options.hasOwnProperty(\"delimited\")) {\n        options.delimited = true;\n      }\n\n      if (!options.hasOwnProperty(\"collectionIndex\")) {\n        throw new Error(\"serializeCollection called without 'collectionIndex' option\");\n      }\n\n      doccount = this.collections[options.collectionIndex].data.length;\n\n      resultlines = [];\n\n      for(docidx=0; docidx<doccount; docidx++) {\n        resultlines.push(JSON.stringify(this.collections[options.collectionIndex].data[docidx]));\n      }\n\n      // D and DA\n      if (options.delimited) {\n         // indicate no more documents in collection (via empty delimited string)\n        resultlines.push(\"\");\n\n        return resultlines.join(options.delimiter);\n      }\n      else {\n        // NDAA and NDA\n        return resultlines;\n      }\n    };\n\n    /**\n     * Database level destructured JSON deserialization routine to minimize memory overhead.\n     * Internally, Loki supports destructuring via loki \"serializationMethod' option and\n     * the optional LokiPartitioningAdapter class. It is also available if you wish to do\n     * your own structured persistence or data exchange.\n     *\n     * @param {string|array} destructuredSource - destructured json or array to deserialize from\n     * @param {object=} options - source format options\n     * @param {bool=} [options.partitioned=false] - whether db and each collection are separate\n     * @param {int=} options.partition - can be used to deserialize only a single partition\n     * @param {bool=} [options.delimited=true] - whether subitems are delimited or subarrays\n     * @param {string=} options.delimiter - override default delimiter\n     *\n     * @returns {object|array} An object representation of the deserialized database, not yet applied to 'this' db or document array\n     * @memberof Loki\n     */\n    Loki.prototype.deserializeDestructured = function(destructuredSource, options) {\n      var workarray=[];\n      var len, cdb;\n      var idx, collIndex=0, collCount, lineIndex=1, done=false;\n      var currLine, currObject;\n\n      options = options || {};\n\n      if (!options.hasOwnProperty(\"partitioned\")) {\n        options.partitioned = false;\n      }\n\n      if (!options.hasOwnProperty(\"delimited\")) {\n        options.delimited = true;\n      }\n\n      if (!options.hasOwnProperty(\"delimiter\")) {\n        options.delimiter = this.options.destructureDelimiter;\n      }\n\n      // Partitioned\n      // DA : Delimited Array of strings [0] db [1] collection [n] collection { partitioned: true, delimited: true }\n      // NDAA : Non-Delimited Array with subArrays. db at [0] and collection subarrays at [n] { partitioned: true, delimited : false }\n      // -or- single partition\n      if (options.partitioned) {\n        // handle single partition\n        if (options.hasOwnProperty('partition')) {\n          // db only\n          if (options.partition === -1) {\n            cdb = JSON.parse(destructuredSource[0]);\n\n            return cdb;\n          }\n\n          // single collection, return doc array\n          return this.deserializeCollection(destructuredSource[options.partition+1], options);\n        }\n\n        // Otherwise we are restoring an entire partitioned db\n        cdb = JSON.parse(destructuredSource[0]);\n        collCount = cdb.collections.length;\n        for(collIndex=0; collIndex<collCount; collIndex++) {\n          // attach each collection docarray to container collection data, add 1 to collection array index since db is at 0\n          cdb.collections[collIndex].data = this.deserializeCollection(destructuredSource[collIndex+1], options);\n        }\n\n        return cdb;\n      }\n\n      // Non-Partitioned\n      // D : one big Delimited string { partitioned: false, delimited : true }\n      // NDA : Non-Delimited Array : one iterable array with empty string collection partitions { partitioned: false, delimited: false }\n\n      // D\n      if (options.delimited) {\n        workarray = destructuredSource.split(options.delimiter);\n        destructuredSource = null; // lower memory pressure\n        len = workarray.length;\n\n        if (len === 0) {\n          return null;\n        }\n      }\n      // NDA\n      else {\n        workarray = destructuredSource;\n      }\n\n      // first line is database and collection shells\n      cdb = JSON.parse(workarray[0]);\n      collCount = cdb.collections.length;\n      workarray[0] = null;\n\n      while (!done) {\n        currLine = workarray[lineIndex];\n\n        // empty string indicates either end of collection or end of file\n        if (workarray[lineIndex] === \"\") {\n          // if no more collections to load into, we are done\n          if (++collIndex > collCount) {\n            done = true;\n          }\n        }\n        else {\n          currObject = JSON.parse(workarray[lineIndex]);\n          cdb.collections[collIndex].data.push(currObject);\n        }\n\n        // lower memory pressure and advance iterator\n        workarray[lineIndex++] = null;\n      }\n\n      return cdb;\n    };\n\n    /**\n     * Collection level utility function to deserializes a destructured collection.\n     *\n     * @param {string|array} destructuredSource - destructured representation of collection to inflate\n     * @param {object=} options - used to describe format of destructuredSource input\n     * @param {int=} [options.delimited=false] - whether source is delimited string or an array\n     * @param {string=} options.delimiter - if delimited, this is delimiter to use (if other than default)\n     *\n     * @returns {array} an array of documents to attach to collection.data.\n     * @memberof Loki\n     */\n    Loki.prototype.deserializeCollection = function(destructuredSource, options) {\n      var workarray=[];\n      var idx, len;\n\n      options = options || {};\n\n      if (!options.hasOwnProperty(\"partitioned\")) {\n        options.partitioned = false;\n      }\n\n      if (!options.hasOwnProperty(\"delimited\")) {\n        options.delimited = true;\n      }\n\n      if (!options.hasOwnProperty(\"delimiter\")) {\n        options.delimiter = this.options.destructureDelimiter;\n      }\n\n      if (options.delimited) {\n        workarray = destructuredSource.split(options.delimiter);\n        workarray.pop();\n      }\n      else {\n        workarray = destructuredSource;\n      }\n\n      len = workarray.length;\n      for (idx=0; idx < len; idx++) {\n        workarray[idx] = JSON.parse(workarray[idx]);\n      }\n\n      return workarray;\n    };\n\n    /**\n     * Inflates a loki database from a serialized JSON string\n     *\n     * @param {string} serializedDb - a serialized loki database string\n     * @param {object=} options - apply or override collection level settings\n     * @param {bool} options.retainDirtyFlags - whether collection dirty flags will be preserved\n     * @memberof Loki\n     */\n    Loki.prototype.loadJSON = function (serializedDb, options) {\n      var dbObject;\n      if (serializedDb.length === 0) {\n        dbObject = {};\n      } else {\n        // using option defined in instantiated db not what was in serialized db\n        switch (this.options.serializationMethod) {\n          case \"normal\":\n          case \"pretty\": dbObject = JSON.parse(serializedDb); break;\n          case \"destructured\": dbObject = this.deserializeDestructured(serializedDb); break;\n          default:  dbObject = JSON.parse(serializedDb); break;\n        }\n      }\n\n      this.loadJSONObject(dbObject, options);\n    };\n\n    /**\n     * Inflates a loki database from a JS object\n     *\n     * @param {object} dbObject - a serialized loki database string\n     * @param {object=} options - apply or override collection level settings\n     * @param {bool} options.retainDirtyFlags - whether collection dirty flags will be preserved\n     * @memberof Loki\n     */\n    Loki.prototype.loadJSONObject = function (dbObject, options) {\n      var i = 0,\n        len = dbObject.collections ? dbObject.collections.length : 0,\n        coll,\n        copyColl,\n        clen,\n        j,\n        loader,\n        collObj;\n\n      this.name = dbObject.name;\n\n      // restore save throttled boolean only if not defined in options\n      if (dbObject.hasOwnProperty('throttledSaves') && options && !options.hasOwnProperty('throttledSaves')) {\n        this.throttledSaves = dbObject.throttledSaves;\n      }\n\n      this.collections = [];\n\n      function makeLoader(coll) {\n        var collOptions = options[coll.name];\n        var inflater;\n\n        if(collOptions.proto) {\n          inflater = collOptions.inflate || Utils.copyProperties;\n\n          return function(data) {\n            var collObj = new(collOptions.proto)();\n            inflater(data, collObj);\n            return collObj;\n          };\n        }\n\n        return collOptions.inflate;\n      }\n\n      for (i; i < len; i += 1) {\n        coll = dbObject.collections[i];\n\n        copyColl = this.addCollection(coll.name, { disableChangesApi: coll.disableChangesApi, disableDeltaChangesApi: coll.disableDeltaChangesApi, disableMeta: coll.disableMeta });\n\n        copyColl.adaptiveBinaryIndices = coll.hasOwnProperty('adaptiveBinaryIndices')?(coll.adaptiveBinaryIndices === true): false;\n        copyColl.transactional = coll.transactional;\n        copyColl.asyncListeners = coll.asyncListeners;\n        copyColl.cloneObjects = coll.cloneObjects;\n        copyColl.cloneMethod = coll.cloneMethod || \"parse-stringify\";\n        copyColl.autoupdate = coll.autoupdate;\n        copyColl.changes = coll.changes;\n\n        if (options && options.retainDirtyFlags === true) {\n          copyColl.dirty = coll.dirty;\n        }\n        else {\n          copyColl.dirty = false;\n        }\n\n        // load each element individually\n        clen = coll.data.length;\n        j = 0;\n        if (options && options.hasOwnProperty(coll.name)) {\n          loader = makeLoader(coll);\n\n          for (j; j < clen; j++) {\n            collObj = loader(coll.data[j]);\n            copyColl.data[j] = collObj;\n            copyColl.addAutoUpdateObserver(collObj);\n          }\n        } else {\n\n          for (j; j < clen; j++) {\n            copyColl.data[j] = coll.data[j];\n            copyColl.addAutoUpdateObserver(copyColl.data[j]);\n          }\n        }\n\n        copyColl.maxId = (typeof coll.maxId === 'undefined') ? 0 : coll.maxId;\n        copyColl.idIndex = coll.idIndex;\n        if (typeof (coll.binaryIndices) !== 'undefined') {\n          copyColl.binaryIndices = coll.binaryIndices;\n        }\n        if (typeof coll.transforms !== 'undefined') {\n          copyColl.transforms = coll.transforms;\n        }\n\n        copyColl.ensureId();\n\n        // regenerate unique indexes\n        copyColl.uniqueNames = [];\n        if (coll.hasOwnProperty(\"uniqueNames\")) {\n          copyColl.uniqueNames = coll.uniqueNames;\n          for (j = 0; j < copyColl.uniqueNames.length; j++) {\n            copyColl.ensureUniqueIndex(copyColl.uniqueNames[j]);\n          }\n        }\n\n        // in case they are loading a database created before we added dynamic views, handle undefined\n        if (typeof (coll.DynamicViews) === 'undefined') continue;\n\n        // reinflate DynamicViews and attached Resultsets\n        for (var idx = 0; idx < coll.DynamicViews.length; idx++) {\n          var colldv = coll.DynamicViews[idx];\n\n          var dv = copyColl.addDynamicView(colldv.name, colldv.options);\n          dv.resultdata = colldv.resultdata;\n          dv.resultsdirty = colldv.resultsdirty;\n          dv.filterPipeline = colldv.filterPipeline;\n\n          dv.sortCriteria = colldv.sortCriteria;\n          dv.sortFunction = null;\n\n          dv.sortDirty = colldv.sortDirty;\n          dv.resultset.filteredrows = colldv.resultset.filteredrows;\n          dv.resultset.filterInitialized = colldv.resultset.filterInitialized;\n\n          dv.rematerialize({\n            removeWhereFilters: true\n          });\n        }\n\n        // Upgrade Logic for binary index refactoring at version 1.5\n        if (dbObject.databaseVersion < 1.5) {\n            // rebuild all indices\n            copyColl.ensureAllIndexes(true);\n            copyColl.dirty = true;\n        }\n      }\n    };\n\n    /**\n     * Emits the close event. In autosave scenarios, if the database is dirty, this will save and disable timer.\n     * Does not actually destroy the db.\n     *\n     * @param {function=} callback - (Optional) if supplied will be registered with close event before emitting.\n     * @memberof Loki\n     */\n    Loki.prototype.close = function (callback) {\n      // for autosave scenarios, we will let close perform final save (if dirty)\n      // For web use, you might call from window.onbeforeunload to shutdown database, saving pending changes\n      if (this.autosave) {\n        this.autosaveDisable();\n        if (this.autosaveDirty()) {\n          this.saveDatabase(callback);\n          callback = undefined;\n        }\n      }\n\n      if (callback) {\n        this.on('close', callback);\n      }\n      this.emit('close');\n    };\n\n    /**-------------------------+\n    | Changes API               |\n    +--------------------------*/\n\n    /**\n     * The Changes API enables the tracking the changes occurred in the collections since the beginning of the session,\n     * so it's possible to create a differential dataset for synchronization purposes (possibly to a remote db)\n     */\n\n    /**\n     * (Changes API) : takes all the changes stored in each\n     * collection and creates a single array for the entire database. If an array of names\n     * of collections is passed then only the included collections will be tracked.\n     *\n     * @param {array=} optional array of collection names. No arg means all collections are processed.\n     * @returns {array} array of changes\n     * @see private method createChange() in Collection\n     * @memberof Loki\n     */\n    Loki.prototype.generateChangesNotification = function (arrayOfCollectionNames) {\n      function getCollName(coll) {\n        return coll.name;\n      }\n      var changes = [],\n        selectedCollections = arrayOfCollectionNames || this.collections.map(getCollName);\n\n      this.collections.forEach(function (coll) {\n        if (selectedCollections.indexOf(getCollName(coll)) !== -1) {\n          changes = changes.concat(coll.getChanges());\n        }\n      });\n      return changes;\n    };\n\n    /**\n     * (Changes API) - stringify changes for network transmission\n     * @returns {string} string representation of the changes\n     * @memberof Loki\n     */\n    Loki.prototype.serializeChanges = function (collectionNamesArray) {\n      return JSON.stringify(this.generateChangesNotification(collectionNamesArray));\n    };\n\n    /**\n     * (Changes API) : clears all the changes in all collections.\n     * @memberof Loki\n     */\n    Loki.prototype.clearChanges = function () {\n      this.collections.forEach(function (coll) {\n        if (coll.flushChanges) {\n          coll.flushChanges();\n        }\n      });\n    };\n\n    /*------------------+\n    | PERSISTENCE       |\n    -------------------*/\n\n    /** there are two build in persistence adapters for internal use\n     * fs             for use in Nodejs type environments\n     * localStorage   for use in browser environment\n     * defined as helper classes here so its easy and clean to use\n     */\n\n    /**\n     * In in-memory persistence adapter for an in-memory database.\n     * This simple 'key/value' adapter is intended for unit testing and diagnostics.\n     *\n     * @param {object=} options - memory adapter options\n     * @param {boolean} [options.asyncResponses=false] - whether callbacks are invoked asynchronously\n     * @param {int} [options.asyncTimeout=50] - timeout in ms to queue callbacks\n     * @constructor LokiMemoryAdapter\n     */\n    function LokiMemoryAdapter(options) {\n      this.hashStore = {};\n      this.options = options || {};\n\n      if (!this.options.hasOwnProperty('asyncResponses')) {\n        this.options.asyncResponses = false;\n      }\n\n      if (!this.options.hasOwnProperty('asyncTimeout')) {\n        this.options.asyncTimeout = 50; // 50 ms default\n      }\n    }\n\n    /**\n     * Loads a serialized database from its in-memory store.\n     * (Loki persistence adapter interface function)\n     *\n     * @param {string} dbname - name of the database (filename/keyname)\n     * @param {function} callback - adapter callback to return load result to caller\n     * @memberof LokiMemoryAdapter\n     */\n    LokiMemoryAdapter.prototype.loadDatabase = function (dbname, callback) {\n      var self=this;\n\n      if (this.options.asyncResponses) {\n        setTimeout(function() {\n          if (self.hashStore.hasOwnProperty(dbname)) {\n            callback(self.hashStore[dbname].value);\n          }\n          else {\n            // database doesn't exist, return falsy\n            callback (null);\n          }\n        }, this.options.asyncTimeout);\n      }\n      else {\n        if (this.hashStore.hasOwnProperty(dbname)) {\n          // database doesn't exist, return falsy\n          callback(this.hashStore[dbname].value);\n        }\n        else {\n          callback (null);\n        }\n      }\n    };\n\n    /**\n     * Saves a serialized database to its in-memory store.\n     * (Loki persistence adapter interface function)\n     *\n     * @param {string} dbname - name of the database (filename/keyname)\n     * @param {function} callback - adapter callback to return load result to caller\n     * @memberof LokiMemoryAdapter\n     */\n    LokiMemoryAdapter.prototype.saveDatabase = function (dbname, dbstring, callback) {\n      var self=this;\n      var saveCount;\n\n      if (this.options.asyncResponses) {\n        setTimeout(function() {\n          saveCount = (self.hashStore.hasOwnProperty(dbname)?self.hashStore[dbname].savecount:0);\n\n          self.hashStore[dbname] = {\n            savecount: saveCount+1,\n            lastsave: new Date(),\n            value: dbstring\n          };\n\n          callback();\n        }, this.options.asyncTimeout);\n      }\n      else {\n        saveCount = (this.hashStore.hasOwnProperty(dbname)?this.hashStore[dbname].savecount:0);\n\n        this.hashStore[dbname] = {\n          savecount: saveCount+1,\n          lastsave: new Date(),\n          value: dbstring\n        };\n\n        callback();\n      }\n    };\n\n    /**\n     * Deletes a database from its in-memory store.\n     *\n     * @param {string} dbname - name of the database (filename/keyname)\n     * @param {function} callback - function to call when done\n     * @memberof LokiMemoryAdapter\n     */\n    LokiMemoryAdapter.prototype.deleteDatabase = function(dbname, callback) {\n      if (this.hashStore.hasOwnProperty(dbname)) {\n        delete this.hashStore[dbname];\n      }\n\n      if (typeof callback === \"function\") {\n        callback();\n      }\n    };\n\n    /**\n     * An adapter for adapters.  Converts a non reference mode adapter into a reference mode adapter\n     * which can perform destructuring and partioning.  Each collection will be stored in its own key/save and\n     * only dirty collections will be saved.  If you  turn on paging with default page size of 25megs and save\n     * a 75 meg collection it should use up roughly 3 save slots (key/value pairs sent to inner adapter).\n     * A dirty collection that spans three pages will save all three pages again\n     * Paging mode was added mainly because Chrome has issues saving 'too large' of a string within a\n     * single indexeddb row.  If a single document update causes the collection to be flagged as dirty, all\n     * of that collection's pages will be written on next save.\n     *\n     * @param {object} adapter - reference to a 'non-reference' mode loki adapter instance.\n     * @param {object=} options - configuration options for partitioning and paging\n     * @param {bool} options.paging - (default: false) set to true to enable paging collection data.\n     * @param {int} options.pageSize - (default : 25MB) you can use this to limit size of strings passed to inner adapter.\n     * @param {string} options.delimiter - allows you to override the default delimeter\n     * @constructor LokiPartitioningAdapter\n     */\n    function LokiPartitioningAdapter(adapter, options) {\n      this.mode = \"reference\";\n      this.adapter = null;\n      this.options = options || {};\n      this.dbref = null;\n      this.dbname = \"\";\n      this.pageIterator = {};\n\n      // verify user passed an appropriate adapter\n      if (adapter) {\n        if (adapter.mode === \"reference\") {\n          throw new Error(\"LokiPartitioningAdapter cannot be instantiated with a reference mode adapter\");\n        }\n        else {\n          this.adapter = adapter;\n        }\n      }\n      else {\n        throw new Error(\"LokiPartitioningAdapter requires a (non-reference mode) adapter on construction\");\n      }\n\n      // set collection paging defaults\n      if (!this.options.hasOwnProperty(\"paging\")) {\n        this.options.paging = false;\n      }\n\n      // default to page size of 25 megs (can be up to your largest serialized object size larger than this)\n      if (!this.options.hasOwnProperty(\"pageSize\")) {\n        this.options.pageSize = 25*1024*1024;\n      }\n\n      if (!this.options.hasOwnProperty(\"delimiter\")) {\n        this.options.delimiter = '$<\\n';\n      }\n    }\n\n    /**\n     * Loads a database which was partitioned into several key/value saves.\n     * (Loki persistence adapter interface function)\n     *\n     * @param {string} dbname - name of the database (filename/keyname)\n     * @param {function} callback - adapter callback to return load result to caller\n     * @memberof LokiPartitioningAdapter\n     */\n    LokiPartitioningAdapter.prototype.loadDatabase = function (dbname, callback) {\n      var self=this;\n      this.dbname = dbname;\n      this.dbref = new Loki(dbname);\n\n      // load the db container (without data)\n      this.adapter.loadDatabase(dbname, function(result) {\n        // empty database condition is for inner adapter return null/undefined/falsy\n        if (!result) {\n          // partition 0 not found so new database, no need to try to load other partitions.\n          // return same falsy result to loadDatabase to signify no database exists (yet)\n          callback(result);\n          return;\n        }\n\n        if (typeof result !== \"string\") {\n          callback(new Error(\"LokiPartitioningAdapter received an unexpected response from inner adapter loadDatabase()\"));\n        }\n\n        // I will want to use loki destructuring helper methods so i will inflate into typed instance\n        var db = JSON.parse(result);\n        self.dbref.loadJSONObject(db);\n        db = null;\n\n        var clen = self.dbref.collections.length;\n\n        if (self.dbref.collections.length === 0) {\n          callback(self.dbref);\n          return;\n        }\n\n        self.pageIterator = {\n          collection: 0,\n          pageIndex: 0\n        };\n\n        self.loadNextPartition(0, function() {\n          callback(self.dbref);\n        });\n      });\n    };\n\n    /**\n     * Used to sequentially load each collection partition, one at a time.\n     *\n     * @param {int} partition - ordinal collection position to load next\n     * @param {function} callback - adapter callback to return load result to caller\n     */\n    LokiPartitioningAdapter.prototype.loadNextPartition = function(partition, callback) {\n      var keyname = this.dbname + \".\" + partition;\n      var self=this;\n\n      if (this.options.paging === true) {\n        this.pageIterator.pageIndex = 0;\n        this.loadNextPage(callback);\n        return;\n      }\n\n      this.adapter.loadDatabase(keyname, function(result) {\n        var data = self.dbref.deserializeCollection(result, { delimited: true, collectionIndex: partition });\n        self.dbref.collections[partition].data = data;\n\n        if (++partition < self.dbref.collections.length) {\n          self.loadNextPartition(partition, callback);\n        }\n        else {\n          callback();\n        }\n      });\n    };\n\n    /**\n     * Used to sequentially load the next page of collection partition, one at a time.\n     *\n     * @param {function} callback - adapter callback to return load result to caller\n     */\n    LokiPartitioningAdapter.prototype.loadNextPage = function(callback) {\n      // calculate name for next saved page in sequence\n      var keyname = this.dbname + \".\" + this.pageIterator.collection + \".\" + this.pageIterator.pageIndex;\n      var self=this;\n\n      // load whatever page is next in sequence\n      this.adapter.loadDatabase(keyname, function(result) {\n        var data = result.split(self.options.delimiter);\n        result = \"\"; // free up memory now that we have split it into array\n        var dlen = data.length;\n        var idx;\n\n        // detect if last page by presence of final empty string element and remove it if so\n        var isLastPage = (data[dlen-1] === \"\");\n        if (isLastPage) {\n          data.pop();\n          dlen = data.length;\n          // empty collections are just a delimiter meaning two blank items\n          if (data[dlen-1] === \"\" && dlen === 1) {\n            data.pop();\n            dlen = data.length;\n          }\n        }\n\n        // convert stringified array elements to object instances and push to collection data\n        for(idx=0; idx < dlen; idx++) {\n          self.dbref.collections[self.pageIterator.collection].data.push(JSON.parse(data[idx]));\n          data[idx] = null;\n        }\n        data = [];\n\n        // if last page, we are done with this partition\n        if (isLastPage) {\n\n          // if there are more partitions, kick off next partition load\n          if (++self.pageIterator.collection < self.dbref.collections.length) {\n            self.loadNextPartition(self.pageIterator.collection, callback);\n          }\n          else {\n            callback();\n          }\n        }\n        else {\n          self.pageIterator.pageIndex++;\n          self.loadNextPage(callback);\n        }\n      });\n    };\n\n    /**\n     * Saves a database by partioning into separate key/value saves.\n     * (Loki 'reference mode' persistence adapter interface function)\n     *\n     * @param {string} dbname - name of the database (filename/keyname)\n     * @param {object} dbref - reference to database which we will partition and save.\n     * @param {function} callback - adapter callback to return load result to caller\n     *\n     * @memberof LokiPartitioningAdapter\n     */\n    LokiPartitioningAdapter.prototype.exportDatabase = function(dbname, dbref, callback) {\n      var self=this;\n      var idx, clen = dbref.collections.length;\n\n      this.dbref = dbref;\n      this.dbname = dbname;\n\n      // queue up dirty partitions to be saved\n      this.dirtyPartitions = [-1];\n      for(idx=0; idx<clen; idx++) {\n        if (dbref.collections[idx].dirty) {\n          this.dirtyPartitions.push(idx);\n        }\n      }\n\n      this.saveNextPartition(function(err) {\n        callback(err);\n      });\n    };\n\n    /**\n     * Helper method used internally to save each dirty collection, one at a time.\n     *\n     * @param {function} callback - adapter callback to return load result to caller\n     */\n    LokiPartitioningAdapter.prototype.saveNextPartition = function(callback) {\n      var self=this;\n      var partition = this.dirtyPartitions.shift();\n      var keyname = this.dbname + ((partition===-1)?\"\":(\".\" + partition));\n\n      // if we are doing paging and this is collection partition\n      if (this.options.paging && partition !== -1) {\n        this.pageIterator = {\n          collection: partition,\n          docIndex: 0,\n          pageIndex: 0\n        };\n\n        // since saveNextPage recursively calls itself until done, our callback means this whole paged partition is finished\n        this.saveNextPage(function(err) {\n          if (self.dirtyPartitions.length === 0) {\n            callback(err);\n          }\n          else {\n            self.saveNextPartition(callback);\n          }\n        });\n        return;\n      }\n\n      // otherwise this is 'non-paged' partioning...\n      var result = this.dbref.serializeDestructured({\n        partitioned : true,\n        delimited: true,\n        partition: partition\n      });\n\n      this.adapter.saveDatabase(keyname, result, function(err) {\n        if (err) {\n          callback(err);\n          return;\n        }\n\n        if (self.dirtyPartitions.length === 0) {\n          callback(null);\n        }\n        else {\n          self.saveNextPartition(callback);\n        }\n      });\n    };\n\n    /**\n     * Helper method used internally to generate and save the next page of the current (dirty) partition.\n     *\n     * @param {function} callback - adapter callback to return load result to caller\n     */\n    LokiPartitioningAdapter.prototype.saveNextPage = function(callback) {\n      var self=this;\n      var coll = this.dbref.collections[this.pageIterator.collection];\n      var keyname = this.dbname + \".\" + this.pageIterator.collection + \".\" + this.pageIterator.pageIndex;\n      var pageLen=0,\n        cdlen = coll.data.length,\n        delimlen = this.options.delimiter.length;\n      var serializedObject = \"\",\n        pageBuilder = \"\";\n      var doneWithPartition=false,\n        doneWithPage=false;\n\n      var pageSaveCallback = function(err) {\n        pageBuilder = \"\";\n\n        if (err) {\n          callback(err);\n        }\n\n        // update meta properties then continue process by invoking callback\n        if (doneWithPartition) {\n          callback(null);\n        }\n        else {\n          self.pageIterator.pageIndex++;\n          self.saveNextPage(callback);\n        }\n      };\n\n      if (coll.data.length === 0) {\n        doneWithPartition = true;\n      }\n\n      while (true) {\n        if (!doneWithPartition) {\n          // serialize object\n          serializedObject = JSON.stringify(coll.data[this.pageIterator.docIndex]);\n          pageBuilder += serializedObject;\n          pageLen += serializedObject.length;\n\n          // if no more documents in collection to add, we are done with partition\n          if (++this.pageIterator.docIndex >= cdlen) doneWithPartition = true;\n        }\n        // if our current page is bigger than defined pageSize, we are done with page\n        if (pageLen >= this.options.pageSize) doneWithPage = true;\n\n        // if not done with current page, need delimiter before next item\n        // if done with partition we also want a delmiter to indicate 'end of pages' final empty row\n        if (!doneWithPage || doneWithPartition) {\n          pageBuilder += this.options.delimiter;\n          pageLen += delimlen;\n        }\n\n        // if we are done with page save it and pass off to next recursive call or callback\n        if (doneWithPartition || doneWithPage) {\n          this.adapter.saveDatabase(keyname, pageBuilder, pageSaveCallback);\n          return;\n        }\n      }\n    };\n\n    /**\n     * A loki persistence adapter which persists using node fs module\n     * @constructor LokiFsAdapter\n     */\n    function LokiFsAdapter() {\n      try {\n        this.fs = __webpack_require__(7);\n      }catch(e) {\n        this.fs = null;\n      }\n    }\n\n    /**\n     * loadDatabase() - Load data from file, will throw an error if the file does not exist\n     * @param {string} dbname - the filename of the database to load\n     * @param {function} callback - the callback to handle the result\n     * @memberof LokiFsAdapter\n     */\n    LokiFsAdapter.prototype.loadDatabase = function loadDatabase(dbname, callback) {\n      var self = this;\n\n      this.fs.stat(dbname, function (err, stats) {\n        if (!err && stats.isFile()) {\n          self.fs.readFile(dbname, {\n            encoding: 'utf8'\n          }, function readFileCallback(err, data) {\n            if (err) {\n              callback(new Error(err));\n            } else {\n              callback(data);\n            }\n          });\n        }\n        else {\n          callback(null);\n        }\n      });\n    };\n\n    /**\n     * saveDatabase() - save data to file, will throw an error if the file can't be saved\n     * might want to expand this to avoid dataloss on partial save\n     * @param {string} dbname - the filename of the database to load\n     * @param {function} callback - the callback to handle the result\n     * @memberof LokiFsAdapter\n     */\n    LokiFsAdapter.prototype.saveDatabase = function saveDatabase(dbname, dbstring, callback) {\n      var self = this;\n      var tmpdbname = dbname + '~';\n      this.fs.writeFile(tmpdbname, dbstring, function writeFileCallback(err) {\n        if (err) {\n          callback(new Error(err));\n        } else {\n          self.fs.rename(tmpdbname,dbname,callback);\n        }\n      });\n    };\n\n    /**\n     * deleteDatabase() - delete the database file, will throw an error if the\n     * file can't be deleted\n     * @param {string} dbname - the filename of the database to delete\n     * @param {function} callback - the callback to handle the result\n     * @memberof LokiFsAdapter\n     */\n    LokiFsAdapter.prototype.deleteDatabase = function deleteDatabase(dbname, callback) {\n      this.fs.unlink(dbname, function deleteDatabaseCallback(err) {\n        if (err) {\n          callback(new Error(err));\n        } else {\n          callback();\n        }\n      });\n    };\n\n\n    /**\n     * A loki persistence adapter which persists to web browser's local storage object\n     * @constructor LokiLocalStorageAdapter\n     */\n    function LokiLocalStorageAdapter() {}\n\n    /**\n     * loadDatabase() - Load data from localstorage\n     * @param {string} dbname - the name of the database to load\n     * @param {function} callback - the callback to handle the result\n     * @memberof LokiLocalStorageAdapter\n     */\n    LokiLocalStorageAdapter.prototype.loadDatabase = function loadDatabase(dbname, callback) {\n      if (localStorageAvailable()) {\n        callback(localStorage.getItem(dbname));\n      } else {\n        callback(new Error('localStorage is not available'));\n      }\n    };\n\n    /**\n     * saveDatabase() - save data to localstorage, will throw an error if the file can't be saved\n     * might want to expand this to avoid dataloss on partial save\n     * @param {string} dbname - the filename of the database to load\n     * @param {function} callback - the callback to handle the result\n     * @memberof LokiLocalStorageAdapter\n     */\n    LokiLocalStorageAdapter.prototype.saveDatabase = function saveDatabase(dbname, dbstring, callback) {\n      if (localStorageAvailable()) {\n        localStorage.setItem(dbname, dbstring);\n        callback(null);\n      } else {\n        callback(new Error('localStorage is not available'));\n      }\n    };\n\n    /**\n     * deleteDatabase() - delete the database from localstorage, will throw an error if it\n     * can't be deleted\n     * @param {string} dbname - the filename of the database to delete\n     * @param {function} callback - the callback to handle the result\n     * @memberof LokiLocalStorageAdapter\n     */\n    LokiLocalStorageAdapter.prototype.deleteDatabase = function deleteDatabase(dbname, callback) {\n      if (localStorageAvailable()) {\n        localStorage.removeItem(dbname);\n        callback(null);\n      } else {\n        callback(new Error('localStorage is not available'));\n      }\n    };\n\n    /**\n     * Wait for throttledSaves to complete and invoke your callback when drained or duration is met.\n     *\n     * @param {function} callback - callback to fire when save queue is drained, it is passed a sucess parameter value\n     * @param {object=} options - configuration options\n     * @param {boolean} options.recursiveWait - (default: true) if after queue is drained, another save was kicked off, wait for it\n     * @param {bool} options.recursiveWaitLimit - (default: false) limit our recursive waiting to a duration\n     * @param {int} options.recursiveWaitLimitDelay - (default: 2000) cutoff in ms to stop recursively re-draining\n     * @memberof Loki\n     */\n    Loki.prototype.throttledSaveDrain = function(callback, options) {\n      var self = this;\n      var now = (new Date()).getTime();\n\n      if (!this.throttledSaves) {\n        callback(true);\n      }\n\n      options = options || {};\n      if (!options.hasOwnProperty('recursiveWait')) {\n        options.recursiveWait = true;\n      }\n      if (!options.hasOwnProperty('recursiveWaitLimit')) {\n        options.recursiveWaitLimit = false;\n      }\n      if (!options.hasOwnProperty('recursiveWaitLimitDuration')) {\n        options.recursiveWaitLimitDuration = 2000;\n      }\n      if (!options.hasOwnProperty('started')) {\n        options.started = (new Date()).getTime();\n      }\n\n      // if save is pending\n      if (this.throttledSaves && this.throttledSavePending) {\n        // if we want to wait until we are in a state where there are no pending saves at all\n        if (options.recursiveWait) {\n          // queue the following meta callback for when it completes\n          this.throttledCallbacks.push(function() {\n            // if there is now another save pending...\n            if (self.throttledSavePending) {\n              // if we wish to wait only so long and we have exceeded limit of our waiting, callback with false success value\n              if (options.recursiveWaitLimit && (now - options.started > options.recursiveWaitLimitDuration)) {\n                callback(false);\n                return;\n              }\n              // it must be ok to wait on next queue drain\n              self.throttledSaveDrain(callback, options);\n              return;\n            }\n            // no pending saves so callback with true success\n            else {\n              callback(true);\n              return;\n            }\n          });\n        }\n        // just notify when current queue is depleted\n        else {\n          this.throttledCallbacks.push(callback);\n          return;\n        }\n      }\n      // no save pending, just callback\n      else {\n        callback(true);\n      }\n    };\n\n    /**\n     * Internal load logic, decoupled from throttling/contention logic\n     *\n     * @param {object} options - not currently used (remove or allow overrides?)\n     * @param {function=} callback - (Optional) user supplied async callback / error handler\n     */\n    Loki.prototype.loadDatabaseInternal = function (options, callback) {\n      var cFun = callback || function (err, data) {\n          if (err) {\n            throw err;\n          }\n        },\n        self = this;\n\n      // the persistenceAdapter should be present if all is ok, but check to be sure.\n      if (this.persistenceAdapter !== null) {\n\n        this.persistenceAdapter.loadDatabase(this.filename, function loadDatabaseCallback(dbString) {\n          if (typeof (dbString) === 'string') {\n            var parseSuccess = false;\n            try {\n              self.loadJSON(dbString, options || {});\n              parseSuccess = true;\n            } catch (err) {\n              cFun(err);\n            }\n            if (parseSuccess) {\n              cFun(null);\n              self.emit('loaded', 'database ' + self.filename + ' loaded');\n            }\n          } else {\n            // falsy result means new database\n            if (!dbString) {\n              cFun(null);\n              self.emit('loaded', 'empty database ' + self.filename + ' loaded');\n              return;\n            }\n\n            // instanceof error means load faulted\n            if (dbString instanceof Error) {\n                cFun(dbString);\n                return;\n            }\n\n            // if adapter has returned an js object (other than null or error) attempt to load from JSON object\n            if (typeof (dbString) === \"object\") {\n              self.loadJSONObject(dbString, options || {});\n              cFun(null); // return null on success\n              self.emit('loaded', 'database ' + self.filename + ' loaded');\n              return;\n            }\n\n            cFun(\"unexpected adapter response : \" + dbString);\n          }\n        });\n\n      } else {\n        cFun(new Error('persistenceAdapter not configured'));\n      }\n    };\n\n    /**\n     * Handles manually loading from file system, local storage, or adapter (such as indexeddb)\n     *    This method utilizes loki configuration options (if provided) to determine which\n     *    persistence method to use, or environment detection (if configuration was not provided).\n     *    To avoid contention with any throttledSaves, we will drain the save queue first.\n     *\n     * If you are configured with autosave, you do not need to call this method yourself.\n     *\n     * @param {object} options - if throttling saves and loads, this controls how we drain save queue before loading\n     * @param {boolean} options.recursiveWait - (default: true) wait recursively until no saves are queued\n     * @param {bool} options.recursiveWaitLimit - (default: false) limit our recursive waiting to a duration\n     * @param {int} options.recursiveWaitLimitDelay - (default: 2000) cutoff in ms to stop recursively re-draining\n     * @param {function=} callback - (Optional) user supplied async callback / error handler\n     * @memberof Loki\n     * @example\n     * db.loadDatabase({}, function(err) {\n     *   if (err) {\n     *     console.log(\"error : \" + err);\n     *   }\n     *   else {\n     *     console.log(\"database loaded.\");\n     *   }\n     * });\n     */\n    Loki.prototype.loadDatabase = function (options, callback) {\n      var self=this;\n\n      // if throttling disabled, just call internal\n      if (!this.throttledSaves) {\n        this.loadDatabaseInternal(options, callback);\n        return;\n      }\n\n      // try to drain any pending saves in the queue to lock it for loading\n      this.throttledSaveDrain(function(success) {\n        if (success) {\n          // pause/throttle saving until loading is done\n          self.throttledSavePending = true;\n\n          self.loadDatabaseInternal(options, function(err) {\n            // now that we are finished loading, if no saves were throttled, disable flag\n            if (self.throttledCallbacks.length === 0) {\n              self.throttledSavePending = false;\n            }\n            // if saves requests came in while loading, kick off new save to kick off resume saves\n            else {\n              self.saveDatabase();\n            }\n\n            if (typeof callback === 'function') {\n              callback(err);\n            }\n          });\n          return;\n        }\n        else {\n          if (typeof callback === 'function') {\n            callback(new Error(\"Unable to pause save throttling long enough to read database\"));\n          }\n        }\n      }, options);\n    };\n\n    /**\n     * Internal save logic, decoupled from save throttling logic\n     */\n    Loki.prototype.saveDatabaseInternal = function (callback) {\n      var cFun = callback || function (err) {\n          if (err) {\n            throw err;\n          }\n          return;\n        },\n        self = this;\n\n      // the persistenceAdapter should be present if all is ok, but check to be sure.\n      if (this.persistenceAdapter !== null) {\n        // check if the adapter is requesting (and supports) a 'reference' mode export\n        if (this.persistenceAdapter.mode === \"reference\" && typeof this.persistenceAdapter.exportDatabase === \"function\") {\n          // filename may seem redundant but loadDatabase will need to expect this same filename\n          this.persistenceAdapter.exportDatabase(this.filename, this.copy({removeNonSerializable:true}), function exportDatabaseCallback(err) {\n            self.autosaveClearFlags();\n            cFun(err);\n          });\n        }\n        // otherwise just pass the serialized database to adapter\n        else {\n          // persistenceAdapter might be asynchronous, so we must clear `dirty` immediately\n          // or autosave won't work if an update occurs between here and the callback\n          self.autosaveClearFlags();\n          this.persistenceAdapter.saveDatabase(this.filename, self.serialize(), function saveDatabasecallback(err) {\n            cFun(err);\n          });\n        }\n      } else {\n        cFun(new Error('persistenceAdapter not configured'));\n      }\n    };\n\n    /**\n     * Handles manually saving to file system, local storage, or adapter (such as indexeddb)\n     *    This method utilizes loki configuration options (if provided) to determine which\n     *    persistence method to use, or environment detection (if configuration was not provided).\n     *\n     * If you are configured with autosave, you do not need to call this method yourself.\n     *\n     * @param {function=} callback - (Optional) user supplied async callback / error handler\n     * @memberof Loki\n     * @example\n     * db.saveDatabase(function(err) {\n     *   if (err) {\n     *     console.log(\"error : \" + err);\n     *   }\n     *   else {\n     *     console.log(\"database saved.\");\n     *   }\n     * });\n     */\n    Loki.prototype.saveDatabase = function (callback) {\n      if (!this.throttledSaves) {\n        this.saveDatabaseInternal(callback);\n        return;\n      }\n\n      if (this.throttledSavePending) {\n        this.throttledCallbacks.push(callback);\n        return;\n      }\n\n      var localCallbacks = this.throttledCallbacks;\n      this.throttledCallbacks = [];\n      localCallbacks.unshift(callback);\n      this.throttledSavePending = true;\n\n      var self = this;\n      this.saveDatabaseInternal(function(err) {\n        self.throttledSavePending = false;\n        localCallbacks.forEach(function(pcb) {\n          if (typeof pcb === 'function') {\n            // Queue the callbacks so we first finish this method execution\n            setTimeout(function() {\n              pcb(err);\n            }, 1);\n          }\n        });\n\n        // since this is called async, future requests may have come in, if so.. kick off next save\n        if (self.throttledCallbacks.length > 0) {\n          self.saveDatabase();\n        }\n      });\n    };\n\n    // alias\n    Loki.prototype.save = Loki.prototype.saveDatabase;\n\n    /**\n     * Handles deleting a database from file system, local\n     *    storage, or adapter (indexeddb)\n     *    This method utilizes loki configuration options (if provided) to determine which\n     *    persistence method to use, or environment detection (if configuration was not provided).\n     *\n     * @param {function=} callback - (Optional) user supplied async callback / error handler\n     * @memberof Loki\n     */\n    Loki.prototype.deleteDatabase = function (options, callback) {\n      var cFun = callback || function (err, data) {\n        if (err) {\n          throw err;\n        }\n      };\n\n      // we aren't even using options, so we will support syntax where\n      // callback is passed as first and only argument\n      if (typeof options === 'function' && !callback) {\n        cFun = options;\n      }\n\n      // the persistenceAdapter should be present if all is ok, but check to be sure.\n      if (this.persistenceAdapter !== null) {\n        this.persistenceAdapter.deleteDatabase(this.filename, function deleteDatabaseCallback(err) {\n          cFun(err);\n        });\n      } else {\n        cFun(new Error('persistenceAdapter not configured'));\n      }\n    };\n\n    /**\n     * autosaveDirty - check whether any collections are 'dirty' meaning we need to save (entire) database\n     *\n     * @returns {boolean} - true if database has changed since last autosave, false if not.\n     */\n    Loki.prototype.autosaveDirty = function () {\n      for (var idx = 0; idx < this.collections.length; idx++) {\n        if (this.collections[idx].dirty) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    /**\n     * autosaveClearFlags - resets dirty flags on all collections.\n     *    Called from saveDatabase() after db is saved.\n     *\n     */\n    Loki.prototype.autosaveClearFlags = function () {\n      for (var idx = 0; idx < this.collections.length; idx++) {\n        this.collections[idx].dirty = false;\n      }\n    };\n\n    /**\n     * autosaveEnable - begin a javascript interval to periodically save the database.\n     *\n     * @param {object} options - not currently used (remove or allow overrides?)\n     * @param {function=} callback - (Optional) user supplied async callback\n     */\n    Loki.prototype.autosaveEnable = function (options, callback) {\n      this.autosave = true;\n\n      var delay = 5000,\n        self = this;\n\n      if (typeof (this.autosaveInterval) !== 'undefined' && this.autosaveInterval !== null) {\n        delay = this.autosaveInterval;\n      }\n\n      this.autosaveHandle = setInterval(function autosaveHandleInterval() {\n        // use of dirty flag will need to be hierarchical since mods are done at collection level with no visibility of 'db'\n        // so next step will be to implement collection level dirty flags set on insert/update/remove\n        // along with loki level isdirty() function which iterates all collections to see if any are dirty\n\n        if (self.autosaveDirty()) {\n          self.saveDatabase(callback);\n        }\n      }, delay);\n    };\n\n    /**\n     * autosaveDisable - stop the autosave interval timer.\n     *\n     */\n    Loki.prototype.autosaveDisable = function () {\n      if (typeof (this.autosaveHandle) !== 'undefined' && this.autosaveHandle !== null) {\n        clearInterval(this.autosaveHandle);\n        this.autosaveHandle = null;\n      }\n    };\n\n\n    /**\n     * Resultset class allowing chainable queries.  Intended to be instanced internally.\n     *    Collection.find(), Collection.where(), and Collection.chain() instantiate this.\n     *\n     * @example\n     *    mycollection.chain()\n     *      .find({ 'doors' : 4 })\n     *      .where(function(obj) { return obj.name === 'Toyota' })\n     *      .data();\n     *\n     * @constructor Resultset\n     * @param {Collection} collection - The collection which this Resultset will query against.\n     */\n    function Resultset(collection, options) {\n      options = options || {};\n\n      // retain reference to collection we are querying against\n      this.collection = collection;\n      this.filteredrows = [];\n      this.filterInitialized = false;\n\n      return this;\n    }\n\n    /**\n     * reset() - Reset the resultset to its initial state.\n     *\n     * @returns {Resultset} Reference to this resultset, for future chain operations.\n     */\n    Resultset.prototype.reset = function () {\n      if (this.filteredrows.length > 0) {\n        this.filteredrows = [];\n      }\n      this.filterInitialized = false;\n      return this;\n    };\n\n    /**\n     * toJSON() - Override of toJSON to avoid circular references\n     *\n     */\n    Resultset.prototype.toJSON = function () {\n      var copy = this.copy();\n      copy.collection = null;\n      return copy;\n    };\n\n    /**\n     * Allows you to limit the number of documents passed to next chain operation.\n     *    A resultset copy() is made to avoid altering original resultset.\n     *\n     * @param {int} qty - The number of documents to return.\n     * @returns {Resultset} Returns a copy of the resultset, limited by qty, for subsequent chain ops.\n     * @memberof Resultset\n     * // find the two oldest users\n     * var result = users.chain().simplesort(\"age\", true).limit(2).data();\n     */\n    Resultset.prototype.limit = function (qty) {\n      // if this has no filters applied, we need to populate filteredrows first\n      if (!this.filterInitialized && this.filteredrows.length === 0) {\n        this.filteredrows = this.collection.prepareFullDocIndex();\n      }\n\n      var rscopy = new Resultset(this.collection);\n      rscopy.filteredrows = this.filteredrows.slice(0, qty);\n      rscopy.filterInitialized = true;\n      return rscopy;\n    };\n\n    /**\n     * Used for skipping 'pos' number of documents in the resultset.\n     *\n     * @param {int} pos - Number of documents to skip; all preceding documents are filtered out.\n     * @returns {Resultset} Returns a copy of the resultset, containing docs starting at 'pos' for subsequent chain ops.\n     * @memberof Resultset\n     * // find everyone but the two oldest users\n     * var result = users.chain().simplesort(\"age\", true).offset(2).data();\n     */\n    Resultset.prototype.offset = function (pos) {\n      // if this has no filters applied, we need to populate filteredrows first\n      if (!this.filterInitialized && this.filteredrows.length === 0) {\n        this.filteredrows = this.collection.prepareFullDocIndex();\n      }\n\n      var rscopy = new Resultset(this.collection);\n      rscopy.filteredrows = this.filteredrows.slice(pos);\n      rscopy.filterInitialized = true;\n      return rscopy;\n    };\n\n    /**\n     * copy() - To support reuse of resultset in branched query situations.\n     *\n     * @returns {Resultset} Returns a copy of the resultset (set) but the underlying document references will be the same.\n     * @memberof Resultset\n     */\n    Resultset.prototype.copy = function () {\n      var result = new Resultset(this.collection);\n\n      if (this.filteredrows.length > 0) {\n        result.filteredrows = this.filteredrows.slice();\n      }\n      result.filterInitialized = this.filterInitialized;\n\n      return result;\n    };\n\n    /**\n     * Alias of copy()\n     * @memberof Resultset\n     */\n    Resultset.prototype.branch = Resultset.prototype.copy;\n\n    /**\n     * transform() - executes a named collection transform or raw array of transform steps against the resultset.\n     *\n     * @param transform {(string|array)} - name of collection transform or raw transform array\n     * @param parameters {object=} - (Optional) object property hash of parameters, if the transform requires them.\n     * @returns {Resultset} either (this) resultset or a clone of of this resultset (depending on steps)\n     * @memberof Resultset\n     * @example\n     * users.addTransform('CountryFilter', [\n     *   {\n     *     type: 'find',\n     *     value: {\n     *       'country': { $eq: '[%lktxp]Country' }\n     *     }\n     *   },\n     *   {\n     *     type: 'simplesort',\n     *     property: 'age',\n     *     options: { desc: false}\n     *   }\n     * ]);\n     * var results = users.chain().transform(\"CountryFilter\", { Country: 'fr' }).data();\n     */\n    Resultset.prototype.transform = function (transform, parameters) {\n      var idx,\n        step,\n        rs = this;\n\n      // if transform is name, then do lookup first\n      if (typeof transform === 'string') {\n        if (this.collection.transforms.hasOwnProperty(transform)) {\n          transform = this.collection.transforms[transform];\n        }\n      }\n\n      // either they passed in raw transform array or we looked it up, so process\n      if (typeof transform !== 'object' || !Array.isArray(transform)) {\n        throw new Error(\"Invalid transform\");\n      }\n\n      if (typeof parameters !== 'undefined') {\n        transform = Utils.resolveTransformParams(transform, parameters);\n      }\n\n      for (idx = 0; idx < transform.length; idx++) {\n        step = transform[idx];\n\n        switch (step.type) {\n        case \"find\":\n          rs.find(step.value);\n          break;\n        case \"where\":\n          rs.where(step.value);\n          break;\n        case \"simplesort\":\n          rs.simplesort(step.property, step.desc || step.options);\n          break;\n        case \"compoundsort\":\n          rs.compoundsort(step.value);\n          break;\n        case \"sort\":\n          rs.sort(step.value);\n          break;\n        case \"limit\":\n          rs = rs.limit(step.value);\n          break; // limit makes copy so update reference\n        case \"offset\":\n          rs = rs.offset(step.value);\n          break; // offset makes copy so update reference\n        case \"map\":\n          rs = rs.map(step.value, step.dataOptions);\n          break;\n        case \"eqJoin\":\n          rs = rs.eqJoin(step.joinData, step.leftJoinKey, step.rightJoinKey, step.mapFun, step.dataOptions);\n          break;\n          // following cases break chain by returning array data so make any of these last in transform steps\n        case \"mapReduce\":\n          rs = rs.mapReduce(step.mapFunction, step.reduceFunction);\n          break;\n          // following cases update documents in current filtered resultset (use carefully)\n        case \"update\":\n          rs.update(step.value);\n          break;\n        case \"remove\":\n          rs.remove();\n          break;\n        default:\n          break;\n        }\n      }\n\n      return rs;\n    };\n\n    /**\n     * User supplied compare function is provided two documents to compare. (chainable)\n     * @example\n     *    rslt.sort(function(obj1, obj2) {\n     *      if (obj1.name === obj2.name) return 0;\n     *      if (obj1.name > obj2.name) return 1;\n     *      if (obj1.name < obj2.name) return -1;\n     *    });\n     *\n     * @param {function} comparefun - A javascript compare function used for sorting.\n     * @returns {Resultset} Reference to this resultset, sorted, for future chain operations.\n     * @memberof Resultset\n     */\n    Resultset.prototype.sort = function (comparefun) {\n      // if this has no filters applied, just we need to populate filteredrows first\n      if (!this.filterInitialized && this.filteredrows.length === 0) {\n        this.filteredrows = this.collection.prepareFullDocIndex();\n      }\n\n      var wrappedComparer =\n        (function (userComparer, data) {\n          return function (a, b) {\n            return userComparer(data[a], data[b]);\n          };\n        })(comparefun, this.collection.data);\n\n      this.filteredrows.sort(wrappedComparer);\n\n      return this;\n    };\n\n    /**\n     * Simpler, loose evaluation for user to sort based on a property name. (chainable).\n     *    Sorting based on the same lt/gt helper functions used for binary indices.\n     *\n     * @param {string} propname - name of property to sort by.\n     * @param {object|bool=} options - boolean to specify if isdescending, or options object\n     * @param {boolean} [options.desc=false] - whether to sort descending\n     * @param {boolean} [options.disableIndexIntersect=false] - whether we should explicity not use array intersection.\n     * @param {boolean} [options.forceIndexIntersect=false] - force array intersection (if binary index exists).\n     * @param {boolean} [options.useJavascriptSorting=false] - whether results are sorted via basic javascript sort.\n     * @returns {Resultset} Reference to this resultset, sorted, for future chain operations.\n     * @memberof Resultset\n     * @example\n     * var results = users.chain().simplesort('age').data();\n     */\n    Resultset.prototype.simplesort = function (propname, options) {\n      var eff, \n        targetEff = 10,\n        dc = this.collection.data.length, \n        frl = this.filteredrows.length,\n        hasBinaryIndex = this.collection.binaryIndices.hasOwnProperty(propname);\n\n      if (typeof (options) === 'undefined' || options === false) {\n        options = { desc: false };\n      }\n      if (options === true) {\n        options = { desc: true };\n      }\n\n      // if nothing in filtered rows array...\n      if (frl === 0) {\n        // if the filter is initialized to be empty resultset, do nothing\n        if (this.filterInitialized) {\n          return this;\n        }\n        \n        // otherwise no filters applied implies all documents, so we need to populate filteredrows first\n        \n        // if we have a binary index, we can just use that instead of sorting (again)\n        if (this.collection.binaryIndices.hasOwnProperty(propname)) {\n          // make sure index is up-to-date\n          this.collection.ensureIndex(propname);\n          // copy index values into filteredrows\n          this.filteredrows = this.collection.binaryIndices[propname].values.slice(0);\n\n          if (options.desc) {\n            this.filteredrows.reverse();\n          }\n\n          // we are done, return this (resultset) for further chain ops\n          return this;\n        }\n        // otherwise initialize array for sort below\n        else {\n          // build full document index (to be sorted subsequently)\n          this.filteredrows = this.collection.prepareFullDocIndex();\n        }\n      }\n      // otherwise we had results to begin with, see if we qualify for index intercept optimization\n      else {\n\n        // If already filtered, but we want to leverage binary index on sort.\n        // This will use custom array intection algorithm.\n        if (!options.disableIndexIntersect && hasBinaryIndex) {\n\n          // calculate filter efficiency\n          eff = dc/frl;\n\n          // when javascript sort fallback is enabled, you generally need more than ~17% of total docs in resultset\n          // before array intersect is determined to be the faster algorithm, otherwise leave at 10% for loki sort.\n          if (options.useJavascriptSorting) {\n            targetEff = 6;\n          }\n\n          // anything more than ratio of 10:1 (total documents/current results) should use old sort code path\n          // So we will only use array intersection if you have more than 10% of total docs in your current resultset.\n          if (eff <= targetEff || options.forceIndexIntersect) {\n            var idx, fr=this.filteredrows;\n            var io = {};\n            // set up hashobject for simple 'inclusion test' with existing (filtered) results\n            for(idx=0; idx<frl; idx++) {\n              io[fr[idx]] = true;\n            }\n            // grab full sorted binary index array\n            var pv = this.collection.binaryIndices[propname].values;\n\n            // filter by existing results\n            this.filteredrows = pv.filter(function(n) { return io[n]; });\n\n            if (options.desc) {\n              this.filteredrows.reverse();\n            }\n\n            return this;\n          }\n        }\n      }\n\n      // at this point, we will not be able to leverage binary index so we will have to do an array sort\n      \n      // if we have opted to use simplified javascript comparison function...\n      if (options.useJavascriptSorting) {\n        return this.sort(function(obj1, obj2) {\n          if (obj1[propname] === obj2[propname]) return 0;\n          if (obj1[propname] > obj2[propname]) return 1;\n          if (obj1[propname] < obj2[propname]) return -1;\n        });\n      }\n\n      // otherwise use loki sort which will return same results if column is indexed or not\n      var wrappedComparer =\n        (function (prop, desc, data) {\n          var val1, val2, arr;\n          return function (a, b) {\n            if (~prop.indexOf('.')) {\n              arr = prop.split('.');\n              val1 = Utils.getIn(data[a], arr, true);\n              val2 = Utils.getIn(data[b], arr, true);\n            } else {\n              val1 = data[a][prop];\n              val2 = data[b][prop];\n            }\n            return sortHelper(val1, val2, desc);\n          };\n        })(propname, options.desc, this.collection.data);\n\n      this.filteredrows.sort(wrappedComparer);\n\n      return this;\n    };\n\n    /**\n     * Allows sorting a resultset based on multiple columns.\n     * @example\n     * // to sort by age and then name (both ascending)\n     * rs.compoundsort(['age', 'name']);\n     * // to sort by age (ascending) and then by name (descending)\n     * rs.compoundsort(['age', ['name', true]]);\n     *\n     * @param {array} properties - array of property names or subarray of [propertyname, isdesc] used evaluate sort order\n     * @returns {Resultset} Reference to this resultset, sorted, for future chain operations.\n     * @memberof Resultset\n     */\n    Resultset.prototype.compoundsort = function (properties) {\n      if (properties.length === 0) {\n        throw new Error(\"Invalid call to compoundsort, need at least one property\");\n      }\n\n      var prop;\n      if (properties.length === 1) {\n        prop = properties[0];\n        if (Array.isArray(prop)) {\n          return this.simplesort(prop[0], prop[1]);\n        }\n        return this.simplesort(prop, false);\n      }\n\n      // unify the structure of 'properties' to avoid checking it repeatedly while sorting\n      for (var i = 0, len = properties.length; i < len; i += 1) {\n        prop = properties[i];\n        if (!Array.isArray(prop)) {\n          properties[i] = [prop, false];\n        }\n      }\n\n      // if this has no filters applied, just we need to populate filteredrows first\n      if (!this.filterInitialized && this.filteredrows.length === 0) {\n        this.filteredrows = this.collection.prepareFullDocIndex();\n      }\n\n      var wrappedComparer =\n        (function (props, data) {\n          return function (a, b) {\n            return compoundeval(props, data[a], data[b]);\n          };\n        })(properties, this.collection.data);\n\n      this.filteredrows.sort(wrappedComparer);\n\n      return this;\n    };\n\n    /**\n     * findOr() - oversee the operation of OR'ed query expressions.\n     *    OR'ed expression evaluation runs each expression individually against the full collection,\n     *    and finally does a set OR on each expression's results.\n     *    Each evaluation can utilize a binary index to prevent multiple linear array scans.\n     *\n     * @param {array} expressionArray - array of expressions\n     * @returns {Resultset} this resultset for further chain ops.\n     */\n    Resultset.prototype.findOr = function (expressionArray) {\n      var fr = null,\n        fri = 0,\n        frlen = 0,\n        docset = [],\n        idxset = [],\n        idx = 0,\n        origCount = this.count();\n\n      // If filter is already initialized, then we query against only those items already in filter.\n      // This means no index utilization for fields, so hopefully its filtered to a smallish filteredrows.\n      for (var ei = 0, elen = expressionArray.length; ei < elen; ei++) {\n        // we need to branch existing query to run each filter separately and combine results\n        fr = this.branch().find(expressionArray[ei]).filteredrows;\n        frlen = fr.length;\n        // if the find operation did not reduce the initial set, then the initial set is the actual result\n        if (frlen === origCount) {\n          return this;\n        }\n\n        // add any document 'hits'\n        for (fri = 0; fri < frlen; fri++) {\n          idx = fr[fri];\n          if (idxset[idx] === undefined) {\n            idxset[idx] = true;\n            docset.push(idx);\n          }\n        }\n      }\n\n      this.filteredrows = docset;\n      this.filterInitialized = true;\n\n      return this;\n    };\n    Resultset.prototype.$or = Resultset.prototype.findOr;\n\n    // precompile recursively\n    function precompileQuery (operator, value) {\n      // for regex ops, precompile\n      if (operator === '$regex') {\n        if (Array.isArray(value)) {\n          value = new RegExp(value[0], value[1]);\n        } else if (!(value instanceof RegExp)) {\n          value = new RegExp(value);\n        }\n      }\n      else if (typeof value === 'object') {\n        for (var key in value) {\n          if (key === '$regex' || typeof value[key] === 'object') {\n            value[key] = precompileQuery(key, value[key]);\n          }\n        }\n      }\n\n      return value;\n    }\n\n    /**\n     * findAnd() - oversee the operation of AND'ed query expressions.\n     *    AND'ed expression evaluation runs each expression progressively against the full collection,\n     *    internally utilizing existing chained resultset functionality.\n     *    Only the first filter can utilize a binary index.\n     *\n     * @param {array} expressionArray - array of expressions\n     * @returns {Resultset} this resultset for further chain ops.\n     */\n    Resultset.prototype.findAnd = function (expressionArray) {\n      // we have already implementing method chaining in this (our Resultset class)\n      // so lets just progressively apply user supplied and filters\n      for (var i = 0, len = expressionArray.length; i < len; i++) {\n        if (this.count() === 0) {\n          return this;\n        }\n        this.find(expressionArray[i]);\n      }\n      return this;\n    };\n    Resultset.prototype.$and = Resultset.prototype.findAnd;\n\n    /**\n     * Used for querying via a mongo-style query object.\n     *\n     * @param {object} query - A mongo-style query object used for filtering current results.\n     * @param {boolean=} firstOnly - (Optional) Used by collection.findOne()\n     * @returns {Resultset} this resultset for further chain ops.\n     * @memberof Resultset\n     * @example\n     * var over30 = users.chain().find({ age: { $gte: 30 } }).data();\n     */\n    Resultset.prototype.find = function (query, firstOnly) {\n      if (this.collection.data.length === 0) {\n        this.filteredrows = [];\n        this.filterInitialized = true;\n        return this;\n      }\n\n      var queryObject = query || 'getAll',\n        p,\n        property,\n        queryObjectOp,\n        obj,\n        operator,\n        value,\n        key,\n        searchByIndex = false,\n        result = [],\n        filters = [],\n        index = null;\n\n      // flag if this was invoked via findOne()\n      firstOnly = firstOnly || false;\n\n      if (typeof queryObject === 'object') {\n        for (p in queryObject) {\n          obj = {};\n          obj[p] = queryObject[p];\n          filters.push(obj);\n\n          if (hasOwnProperty.call(queryObject, p)) {\n            property = p;\n            queryObjectOp = queryObject[p];\n          }\n        }\n        // if more than one expression in single query object,\n        // convert implicit $and to explicit $and\n        if (filters.length > 1) {\n          return this.find({ '$and': filters }, firstOnly);\n        }\n      }\n\n      // apply no filters if they want all\n      if (!property || queryObject === 'getAll') {\n        if (firstOnly) {\n          this.filteredrows = (this.collection.data.length > 0)?[0]: [];\n          this.filterInitialized = true;\n        }\n\n        return this;\n      }\n\n      // injecting $and and $or expression tree evaluation here.\n      if (property === '$and' || property === '$or') {\n        this[property](queryObjectOp);\n\n        // for chained find with firstonly,\n        if (firstOnly && this.filteredrows.length > 1) {\n          this.filteredrows = this.filteredrows.slice(0, 1);\n        }\n\n        return this;\n      }\n\n      // see if query object is in shorthand mode (assuming eq operator)\n      if (queryObjectOp === null || (typeof queryObjectOp !== 'object' || queryObjectOp instanceof Date)) {\n        operator = '$eq';\n        value = queryObjectOp;\n      } else if (typeof queryObjectOp === 'object') {\n        for (key in queryObjectOp) {\n          if (hasOwnProperty.call(queryObjectOp, key)) {\n            operator = key;\n            value = queryObjectOp[key];\n            break;\n          }\n        }\n      } else {\n        throw new Error('Do not know what you want to do.');\n      }\n\n      if (operator === '$regex' || typeof value === 'object') {\n        value = precompileQuery(operator, value);\n      }\n\n      // if user is deep querying the object such as find('name.first': 'odin')\n      var usingDotNotation = (property.indexOf('.') !== -1);\n\n      // if an index exists for the property being queried against, use it\n      // for now only enabling where it is the first filter applied and prop is indexed\n      var doIndexCheck = !this.filterInitialized;\n\n      if (doIndexCheck && this.collection.binaryIndices[property] && indexedOps[operator]) {\n        // this is where our lazy index rebuilding will take place\n        // basically we will leave all indexes dirty until we need them\n        // so here we will rebuild only the index tied to this property\n        // ensureIndex() will only rebuild if flagged as dirty since we are not passing force=true param\n        if (this.collection.adaptiveBinaryIndices !== true) {\n          this.collection.ensureIndex(property);\n        }\n\n        searchByIndex = true;\n        index = this.collection.binaryIndices[property];\n      }\n\n      // the comparison function\n      var fun = LokiOps[operator];\n\n      // \"shortcut\" for collection data\n      var t = this.collection.data;\n      // filter data length\n      var i = 0,\n        len = 0;\n\n      // Query executed differently depending on :\n      //    - whether the property being queried has an index defined\n      //    - if chained, we handle first pass differently for initial filteredrows[] population\n      //\n      // For performance reasons, each case has its own if block to minimize in-loop calculations\n\n      var filter, rowIdx = 0;\n\n      // If the filteredrows[] is already initialized, use it\n      if (this.filterInitialized) {\n        filter = this.filteredrows;\n        len = filter.length;\n\n        // currently supporting dot notation for non-indexed conditions only\n        if (usingDotNotation) {\n          property = property.split('.');\n          for(i=0; i<len; i++) {\n            rowIdx = filter[i];\n            if (dotSubScan(t[rowIdx], property, fun, value)) {\n              result.push(rowIdx);\n            }\n          }\n        } else {\n          for(i=0; i<len; i++) {\n            rowIdx = filter[i];\n            if (fun(t[rowIdx][property], value)) {\n              result.push(rowIdx);\n            }\n          }\n        }\n      }\n      // first chained query so work against data[] but put results in filteredrows\n      else {\n        // if not searching by index\n        if (!searchByIndex) {\n          len = t.length;\n\n          if (usingDotNotation) {\n            property = property.split('.');\n            for(i=0; i<len; i++) {\n              if (dotSubScan(t[i], property, fun, value)) {\n                result.push(i);\n                if (firstOnly) {\n                  this.filteredrows = result;\n                  this.filterInitialized = true;\n                  return this;\n                }\n              }\n            }\n          } else {\n            for(i=0; i<len; i++) {\n              if (fun(t[i][property], value)) {\n                result.push(i);\n                if (firstOnly) {\n                  this.filteredrows = result;\n                  this.filterInitialized = true;\n                  return this;\n                }\n              }\n            }\n          }\n        } else {\n          // search by index\n          var segm = this.collection.calculateRange(operator, property, value);\n\n          if (operator !== '$in') {\n            for (i = segm[0]; i <= segm[1]; i++) {\n              if (indexedOps[operator] !== true) {\n                // must be a function, implying 2nd phase filtering of results from calculateRange\n                if (indexedOps[operator](Utils.getIn(t[index.values[i]], property, usingDotNotation), value)) {\n                  result.push(index.values[i]);\n                  if (firstOnly) {\n                    this.filteredrows = result;\n                    this.filterInitialized = true;\n                    return this;\n                  }\n                }\n              }\n              else {\n                  result.push(index.values[i]);\n                  if (firstOnly) {\n                    this.filteredrows = result;\n                    this.filterInitialized = true;\n                    return this;\n                  }\n              }\n            }\n          } else {\n            for (i = 0, len = segm.length; i < len; i++) {\n              result.push(index.values[segm[i]]);\n              if (firstOnly) {\n                this.filteredrows = result;\n                this.filterInitialized = true;\n                return this;\n              }\n            }\n          }\n        }\n\n      }\n\n      this.filteredrows = result;\n      this.filterInitialized = true; // next time work against filteredrows[]\n      return this;\n    };\n\n\n    /**\n     * where() - Used for filtering via a javascript filter function.\n     *\n     * @param {function} fun - A javascript function used for filtering current results by.\n     * @returns {Resultset} this resultset for further chain ops.\n     * @memberof Resultset\n     * @example\n     * var over30 = users.chain().where(function(obj) { return obj.age >= 30; }.data();\n     */\n    Resultset.prototype.where = function (fun) {\n      var viewFunction,\n        result = [];\n\n      if ('function' === typeof fun) {\n        viewFunction = fun;\n      } else {\n        throw new TypeError('Argument is not a stored view or a function');\n      }\n      try {\n        // If the filteredrows[] is already initialized, use it\n        if (this.filterInitialized) {\n          var j = this.filteredrows.length;\n\n          while (j--) {\n            if (viewFunction(this.collection.data[this.filteredrows[j]]) === true) {\n              result.push(this.filteredrows[j]);\n            }\n          }\n\n          this.filteredrows = result;\n\n          return this;\n        }\n        // otherwise this is initial chained op, work against data, push into filteredrows[]\n        else {\n          var k = this.collection.data.length;\n\n          while (k--) {\n            if (viewFunction(this.collection.data[k]) === true) {\n              result.push(k);\n            }\n          }\n\n          this.filteredrows = result;\n          this.filterInitialized = true;\n\n          return this;\n        }\n      } catch (err) {\n        throw err;\n      }\n    };\n\n    /**\n     * count() - returns the number of documents in the resultset.\n     *\n     * @returns {number} The number of documents in the resultset.\n     * @memberof Resultset\n     * @example\n     * var over30Count = users.chain().find({ age: { $gte: 30 } }).count();\n     */\n    Resultset.prototype.count = function () {\n      if (this.filterInitialized) {\n        return this.filteredrows.length;\n      }\n      return this.collection.count();\n    };\n\n    /**\n     * Terminates the chain and returns array of filtered documents\n     *\n     * @param {object=} options - allows specifying 'forceClones' and 'forceCloneMethod' options.\n     * @param {boolean} options.forceClones - Allows forcing the return of cloned objects even when\n     *        the collection is not configured for clone object.\n     * @param {string} options.forceCloneMethod - Allows overriding the default or collection specified cloning method.\n     *        Possible values include 'parse-stringify', 'jquery-extend-deep', 'shallow', 'shallow-assign'\n     * @param {bool} options.removeMeta - Will force clones and strip $loki and meta properties from documents\n     *\n     * @returns {array} Array of documents in the resultset\n     * @memberof Resultset\n     * @example\n     * var resutls = users.chain().find({ age: 34 }).data();\n     */\n    Resultset.prototype.data = function (options) {\n      var result = [],\n        data = this.collection.data,\n        obj,\n        len,\n        i,\n        method;\n\n      options = options || {};\n\n      // if user opts to strip meta, then force clones and use 'shallow' if 'force' options are not present\n      if (options.removeMeta && !options.forceClones) {\n        options.forceClones = true;\n        options.forceCloneMethod = options.forceCloneMethod || 'shallow';\n      }\n\n      // if collection has delta changes active, then force clones and use 'parse-stringify' for effective change tracking of nested objects\n      if (!this.collection.disableDeltaChangesApi) {\n        options.forceClones = true;\n        options.forceCloneMethod = 'parse-stringify';\n      }\n\n      // if this has no filters applied, just return collection.data\n      if (!this.filterInitialized) {\n        if (this.filteredrows.length === 0) {\n          // determine whether we need to clone objects or not\n          if (this.collection.cloneObjects || options.forceClones) {\n            len = data.length;\n            method = options.forceCloneMethod || this.collection.cloneMethod;\n\n            for (i = 0; i < len; i++) {\n              obj = clone(data[i], method);\n              if (options.removeMeta) {\n                delete obj.$loki;\n                delete obj.meta;\n              }\n              result.push(obj);\n            }\n            return result;\n          }\n          // otherwise we are not cloning so return sliced array with same object references\n          else {\n            return data.slice();\n          }\n        } else {\n          // filteredrows must have been set manually, so use it\n          this.filterInitialized = true;\n        }\n      }\n\n      var fr = this.filteredrows;\n      len = fr.length;\n\n      if (this.collection.cloneObjects || options.forceClones) {\n        method = options.forceCloneMethod || this.collection.cloneMethod;\n        for (i = 0; i < len; i++) {\n          obj = clone(data[fr[i]], method);\n          if (options.removeMeta) {\n            delete obj.$loki;\n            delete obj.meta;\n          }\n          result.push(obj);\n        }\n      } else {\n        for (i = 0; i < len; i++) {\n          result.push(data[fr[i]]);\n        }\n      }\n      return result;\n    };\n\n    /**\n     * Used to run an update operation on all documents currently in the resultset.\n     *\n     * @param {function} updateFunction - User supplied updateFunction(obj) will be executed for each document object.\n     * @returns {Resultset} this resultset for further chain ops.\n     * @memberof Resultset\n     * @example\n     * users.chain().find({ country: 'de' }).update(function(user) {\n     *   user.phoneFormat = \"+49 AAAA BBBBBB\";\n     * });\n     */\n    Resultset.prototype.update = function (updateFunction) {\n\n      if (typeof (updateFunction) !== \"function\") {\n        throw new TypeError('Argument is not a function');\n      }\n\n      // if this has no filters applied, we need to populate filteredrows first\n      if (!this.filterInitialized && this.filteredrows.length === 0) {\n        this.filteredrows = this.collection.prepareFullDocIndex();\n      }\n\n      var obj, len = this.filteredrows.length,\n        rcd = this.collection.data;\n\n      // pass in each document object currently in resultset to user supplied updateFunction\n      for (var idx = 0; idx < len; idx++) {\n        // if we have cloning option specified or are doing differential delta changes, clone object first\n        if (this.collection.cloneObjects || !this.collection.disableDeltaChangesApi) {\n          obj = clone(rcd[this.filteredrows[idx]], this.collection.cloneMethod);\n          updateFunction(obj);\n          this.collection.update(obj);\n        }\n        else {\n          // no need to clone, so just perform update on collection data object instance\n          updateFunction(rcd[this.filteredrows[idx]]);\n          this.collection.update(rcd[this.filteredrows[idx]]);\n        }\n      }\n\n      return this;\n    };\n\n    /**\n     * Removes all document objects which are currently in resultset from collection (as well as resultset)\n     *\n     * @returns {Resultset} this (empty) resultset for further chain ops.\n     * @memberof Resultset\n     * @example\n     * // remove users inactive since 1/1/2001\n     * users.chain().find({ lastActive: { $lte: new Date(\"1/1/2001\").getTime() } }).remove();\n     */\n    Resultset.prototype.remove = function () {\n\n      // if this has no filters applied, we need to populate filteredrows first\n      if (!this.filterInitialized && this.filteredrows.length === 0) {\n        this.filteredrows = this.collection.prepareFullDocIndex();\n      }\n\n      this.collection.removeBatchByPositions(this.filteredrows);\n\n      this.filteredrows = [];\n\n      return this;\n    };\n\n    /**\n     * data transformation via user supplied functions\n     *\n     * @param {function} mapFunction - this function accepts a single document for you to transform and return\n     * @param {function} reduceFunction - this function accepts many (array of map outputs) and returns single value\n     * @returns {value} The output of your reduceFunction\n     * @memberof Resultset\n     * @example\n     * var db = new loki(\"order.db\");\n     * var orders = db.addCollection(\"orders\");\n     * orders.insert([{ qty: 4, unitCost: 100.00 }, { qty: 10, unitCost: 999.99 }, { qty: 2, unitCost: 49.99 }]);\n     *\n     * function mapfun (obj) { return obj.qty*obj.unitCost };\n     * function reducefun(array) {\n     *   var grandTotal=0;\n     *   array.forEach(function(orderTotal) { grandTotal += orderTotal; });\n     *   return grandTotal;\n     * }\n     * var grandOrderTotal = orders.chain().mapReduce(mapfun, reducefun);\n     * console.log(grandOrderTotal);\n     */\n    Resultset.prototype.mapReduce = function (mapFunction, reduceFunction) {\n      try {\n        return reduceFunction(this.data().map(mapFunction));\n      } catch (err) {\n        throw err;\n      }\n    };\n\n    /**\n     * eqJoin() - Left joining two sets of data. Join keys can be defined or calculated properties\n     * eqJoin expects the right join key values to be unique.  Otherwise left data will be joined on the last joinData object with that key\n     * @param {Array|Resultset|Collection} joinData - Data array to join to.\n     * @param {(string|function)} leftJoinKey - Property name in this result set to join on or a function to produce a value to join on\n     * @param {(string|function)} rightJoinKey - Property name in the joinData to join on or a function to produce a value to join on\n     * @param {function=} mapFun - (Optional) A function that receives each matching pair and maps them into output objects - function(left,right){return joinedObject}\n     * @param {object=} dataOptions - options to data() before input to your map function\n     * @param {bool} dataOptions.removeMeta - allows removing meta before calling mapFun\n     * @param {boolean} dataOptions.forceClones - forcing the return of cloned objects to your map object\n     * @param {string} dataOptions.forceCloneMethod - Allows overriding the default or collection specified cloning method.\n     * @returns {Resultset} A resultset with data in the format [{left: leftObj, right: rightObj}]\n     * @memberof Resultset\n     * @example\n     * var db = new loki('sandbox.db');\n     *\n     * var products = db.addCollection('products');\n     * var orders = db.addCollection('orders');\n     *\n     * products.insert({ productId: \"100234\", name: \"flywheel energy storage\", unitCost: 19999.99 });\n     * products.insert({ productId: \"140491\", name: \"300F super capacitor\", unitCost: 129.99 });\n     * products.insert({ productId: \"271941\", name: \"fuel cell\", unitCost: 3999.99 });\n     * products.insert({ productId: \"174592\", name: \"390V 3AH lithium bank\", unitCost: 4999.99 });\n     *\n     * orders.insert({ orderDate : new Date(\"12/1/2017\").getTime(), prodId: \"174592\", qty: 2, customerId: 2 });\n     * orders.insert({ orderDate : new Date(\"4/15/2016\").getTime(), prodId: \"271941\", qty: 1, customerId: 1 });\n     * orders.insert({ orderDate : new Date(\"3/12/2017\").getTime(), prodId: \"140491\", qty: 4, customerId: 4 });\n     * orders.insert({ orderDate : new Date(\"7/31/2017\").getTime(), prodId: \"100234\", qty: 7, customerId: 3 });\n     * orders.insert({ orderDate : new Date(\"8/3/2016\").getTime(), prodId: \"174592\", qty: 3, customerId: 5 });\n     *\n     * var mapfun = function(left, right) {\n     *   return {\n     *     orderId: left.$loki,\n     *     orderDate: new Date(left.orderDate) + '',\n     *     customerId: left.customerId,\n     *     qty: left.qty,\n     *     productId: left.prodId,\n     *     prodName: right.name,\n     *     prodCost: right.unitCost,\n     *     orderTotal: +((right.unitCost * left.qty).toFixed(2))\n     *   };\n     * };\n     *\n     * // join orders with relevant product info via eqJoin\n     * var orderSummary = orders.chain().eqJoin(products, \"prodId\", \"productId\", mapfun).data();\n     * \n     * console.log(orderSummary);     \n     */\n    Resultset.prototype.eqJoin = function (joinData, leftJoinKey, rightJoinKey, mapFun, dataOptions) {\n\n      var leftData = [],\n        leftDataLength,\n        rightData = [],\n        rightDataLength,\n        key,\n        result = [],\n        leftKeyisFunction = typeof leftJoinKey === 'function',\n        rightKeyisFunction = typeof rightJoinKey === 'function',\n        joinMap = {};\n\n      //get the left data\n      leftData = this.data(dataOptions);\n      leftDataLength = leftData.length;\n\n      //get the right data\n      if (joinData instanceof Collection) {\n        rightData = joinData.chain().data(dataOptions);\n      } else if (joinData instanceof Resultset) {\n        rightData = joinData.data(dataOptions);\n      } else if (Array.isArray(joinData)) {\n        rightData = joinData;\n      } else {\n        throw new TypeError('joinData needs to be an array or result set');\n      }\n      rightDataLength = rightData.length;\n\n      //construct a lookup table\n\n      for (var i = 0; i < rightDataLength; i++) {\n        key = rightKeyisFunction ? rightJoinKey(rightData[i]) : rightData[i][rightJoinKey];\n        joinMap[key] = rightData[i];\n      }\n\n      if (!mapFun) {\n        mapFun = function (left, right) {\n          return {\n            left: left,\n            right: right\n          };\n        };\n      }\n\n      //Run map function over each object in the resultset\n      for (var j = 0; j < leftDataLength; j++) {\n        key = leftKeyisFunction ? leftJoinKey(leftData[j]) : leftData[j][leftJoinKey];\n        result.push(mapFun(leftData[j], joinMap[key] || {}));\n      }\n\n      //return return a new resultset with no filters\n      this.collection = new Collection('joinData');\n      this.collection.insert(result);\n      this.filteredrows = [];\n      this.filterInitialized = false;\n\n      return this;\n    };\n\n    /**\n     * Applies a map function into a new collection for further chaining.\n     * @param {function} mapFun - javascript map function\n     * @param {object=} dataOptions - options to data() before input to your map function\n     * @param {bool} dataOptions.removeMeta - allows removing meta before calling mapFun\n     * @param {boolean} dataOptions.forceClones - forcing the return of cloned objects to your map object\n     * @param {string} dataOptions.forceCloneMethod - Allows overriding the default or collection specified cloning method.\n     * @memberof Resultset\n     * @example\n     * var orders.chain().find({ productId: 32 }).map(function(obj) {\n     *   return {\n     *     orderId: $loki,\n     *     productId: productId,\n     *     quantity: qty\n     *   };\n     * });\n     */\n    Resultset.prototype.map = function (mapFun, dataOptions) {\n      var data = this.data(dataOptions).map(mapFun);\n      //return return a new resultset with no filters\n      this.collection = new Collection('mappedData');\n      this.collection.insert(data);\n      this.filteredrows = [];\n      this.filterInitialized = false;\n\n      return this;\n    };\n\n    /**\n     * DynamicView class is a versatile 'live' view class which can have filters and sorts applied.\n     *    Collection.addDynamicView(name) instantiates this DynamicView object and notifies it\n     *    whenever documents are add/updated/removed so it can remain up-to-date. (chainable)\n     *\n     * @example\n     * var mydv = mycollection.addDynamicView('test');  // default is non-persistent\n     * mydv.applyFind({ 'doors' : 4 });\n     * mydv.applyWhere(function(obj) { return obj.name === 'Toyota'; });\n     * var results = mydv.data();\n     *\n     * @constructor DynamicView\n     * @implements LokiEventEmitter\n     * @param {Collection} collection - A reference to the collection to work against\n     * @param {string} name - The name of this dynamic view\n     * @param {object=} options - (Optional) Pass in object with 'persistent' and/or 'sortPriority' options.\n     * @param {boolean} [options.persistent=false] - indicates if view is to main internal results array in 'resultdata'\n     * @param {string} [options.sortPriority='passive'] - 'passive' (sorts performed on call to data) or 'active' (after updates)\n     * @param {number} options.minRebuildInterval - minimum rebuild interval (need clarification to docs here)\n     * @see {@link Collection#addDynamicView} to construct instances of DynamicView\n     */\n    function DynamicView(collection, name, options) {\n      this.collection = collection;\n      this.name = name;\n      this.rebuildPending = false;\n      this.options = options || {};\n\n      if (!this.options.hasOwnProperty('persistent')) {\n        this.options.persistent = false;\n      }\n\n      // 'persistentSortPriority':\n      // 'passive' will defer the sort phase until they call data(). (most efficient overall)\n      // 'active' will sort async whenever next idle. (prioritizes read speeds)\n      if (!this.options.hasOwnProperty('sortPriority')) {\n        this.options.sortPriority = 'passive';\n      }\n\n      if (!this.options.hasOwnProperty('minRebuildInterval')) {\n        this.options.minRebuildInterval = 1;\n      }\n\n      this.resultset = new Resultset(collection);\n      this.resultdata = [];\n      this.resultsdirty = false;\n\n      this.cachedresultset = null;\n\n      // keep ordered filter pipeline\n      this.filterPipeline = [];\n\n      // sorting member variables\n      // we only support one active search, applied using applySort() or applySimpleSort()\n      this.sortFunction = null;\n      this.sortCriteria = null;\n      this.sortCriteriaSimple = null;\n      this.sortDirty = false;\n\n      // for now just have 1 event for when we finally rebuilt lazy view\n      // once we refactor transactions, i will tie in certain transactional events\n\n      this.events = {\n        'rebuild': []\n      };\n    }\n\n    DynamicView.prototype = new LokiEventEmitter();\n\n\n    /**\n     * rematerialize() - internally used immediately after deserialization (loading)\n     *    This will clear out and reapply filterPipeline ops, recreating the view.\n     *    Since where filters do not persist correctly, this method allows\n     *    restoring the view to state where user can re-apply those where filters.\n     *\n     * @param {Object=} options - (Optional) allows specification of 'removeWhereFilters' option\n     * @returns {DynamicView} This dynamic view for further chained ops.\n     * @memberof DynamicView\n     * @fires DynamicView.rebuild\n     */\n    DynamicView.prototype.rematerialize = function (options) {\n      var fpl,\n        fpi,\n        idx;\n\n      options = options || {};\n\n      this.resultdata = [];\n      this.resultsdirty = true;\n      this.resultset = new Resultset(this.collection);\n\n      if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) {\n        this.sortDirty = true;\n      }\n\n      if (options.hasOwnProperty('removeWhereFilters')) {\n        // for each view see if it had any where filters applied... since they don't\n        // serialize those functions lets remove those invalid filters\n        fpl = this.filterPipeline.length;\n        fpi = fpl;\n        while (fpi--) {\n          if (this.filterPipeline[fpi].type === 'where') {\n            if (fpi !== this.filterPipeline.length - 1) {\n              this.filterPipeline[fpi] = this.filterPipeline[this.filterPipeline.length - 1];\n            }\n\n            this.filterPipeline.length--;\n          }\n        }\n      }\n\n      // back up old filter pipeline, clear filter pipeline, and reapply pipeline ops\n      var ofp = this.filterPipeline;\n      this.filterPipeline = [];\n\n      // now re-apply 'find' filterPipeline ops\n      fpl = ofp.length;\n      for (idx = 0; idx < fpl; idx++) {\n        this.applyFind(ofp[idx].val);\n      }\n\n      // during creation of unit tests, i will remove this forced refresh and leave lazy\n      this.data();\n\n      // emit rebuild event in case user wants to be notified\n      this.emit('rebuild', this);\n\n      return this;\n    };\n\n    /**\n     * branchResultset() - Makes a copy of the internal resultset for branched queries.\n     *    Unlike this dynamic view, the branched resultset will not be 'live' updated,\n     *    so your branched query should be immediately resolved and not held for future evaluation.\n     *\n     * @param {(string|array=)} transform - Optional name of collection transform, or an array of transform steps\n     * @param {object=} parameters - optional parameters (if optional transform requires them)\n     * @returns {Resultset} A copy of the internal resultset for branched queries.\n     * @memberof DynamicView\n     * @example\n     * var db = new loki('test');\n     * var coll = db.addCollection('mydocs');\n     * var dv = coll.addDynamicView('myview');\n     * var tx = [\n     *   {\n     *     type: 'offset',\n     *     value: '[%lktxp]pageStart'\n     *   },\n     *   {\n     *     type: 'limit',\n     *     value: '[%lktxp]pageSize'\n     *   }\n     * ];\n     * coll.addTransform('viewPaging', tx);\n     * \n     * // add some records\n     * \n     * var results = dv.branchResultset('viewPaging', { pageStart: 10, pageSize: 10 }).data();     \n     */\n    DynamicView.prototype.branchResultset = function (transform, parameters) {\n      var rs = this.resultset.branch();\n\n      if (typeof transform === 'undefined') {\n        return rs;\n      }\n\n      return rs.transform(transform, parameters);\n    };\n\n    /**\n     * toJSON() - Override of toJSON to avoid circular references\n     *\n     */\n    DynamicView.prototype.toJSON = function () {\n      var copy = new DynamicView(this.collection, this.name, this.options);\n\n      copy.resultset = this.resultset;\n      copy.resultdata = []; // let's not save data (copy) to minimize size\n      copy.resultsdirty = true;\n      copy.filterPipeline = this.filterPipeline;\n      copy.sortFunction = this.sortFunction;\n      copy.sortCriteria = this.sortCriteria;\n      copy.sortCriteriaSimple = this.sortCriteriaSimple || null;\n      copy.sortDirty = this.sortDirty;\n\n      // avoid circular reference, reapply in db.loadJSON()\n      copy.collection = null;\n\n      return copy;\n    };\n\n    /**\n     * removeFilters() - Used to clear pipeline and reset dynamic view to initial state.\n     *     Existing options should be retained.\n     * @param {object=} options - configure removeFilter behavior\n     * @param {boolean=} options.queueSortPhase - (default: false) if true we will async rebuild view (maybe set default to true in future?)\n     * @memberof DynamicView\n     */\n    DynamicView.prototype.removeFilters = function (options) {\n      options = options || {};\n\n      this.rebuildPending = false;\n      this.resultset.reset();\n      this.resultdata = [];\n      this.resultsdirty = true;\n\n      this.cachedresultset = null;\n\n      // keep ordered filter pipeline\n      this.filterPipeline = [];\n\n      // sorting member variables\n      // we only support one active search, applied using applySort() or applySimpleSort()\n      this.sortFunction = null;\n      this.sortCriteria = null;\n      this.sortCriteriaSimple = null;\n      this.sortDirty = false;\n\n      if (options.queueSortPhase === true) {\n        this.queueSortPhase();\n      }\n    };\n\n    /**\n     * applySort() - Used to apply a sort to the dynamic view\n     * @example\n     * dv.applySort(function(obj1, obj2) {\n     *   if (obj1.name === obj2.name) return 0;\n     *   if (obj1.name > obj2.name) return 1;\n     *   if (obj1.name < obj2.name) return -1;\n     * });\n     *\n     * @param {function} comparefun - a javascript compare function used for sorting\n     * @returns {DynamicView} this DynamicView object, for further chain ops.\n     * @memberof DynamicView\n     */\n    DynamicView.prototype.applySort = function (comparefun) {\n      this.sortFunction = comparefun;\n      this.sortCriteria = null;\n      this.sortCriteriaSimple = null;\n\n      this.queueSortPhase();\n\n      return this;\n    };\n\n    /**\n     * applySimpleSort() - Used to specify a property used for view translation.\n     * @example\n     * dv.applySimpleSort(\"name\");\n     *\n     * @param {string} propname - Name of property by which to sort.\n     * @param {object|boolean=} options - boolean for sort descending or options object\n     * @param {boolean} [options.desc=false] - whether we should sort descending.\n     * @param {boolean} [options.disableIndexIntersect=false] - whether we should explicity not use array intersection.\n     * @param {boolean} [options.forceIndexIntersect=false] - force array intersection (if binary index exists).\n     * @param {boolean} [options.useJavascriptSorting=false] - whether results are sorted via basic javascript sort.\n     * @returns {DynamicView} this DynamicView object, for further chain ops.\n     * @memberof DynamicView\n     */\n    DynamicView.prototype.applySimpleSort = function (propname, options) {\n      this.sortCriteriaSimple = { propname: propname, options: options || false };\n      this.sortCriteria = null;\n      this.sortFunction = null;\n\n      this.queueSortPhase();\n\n      return this;\n    };\n\n    /**\n     * applySortCriteria() - Allows sorting a resultset based on multiple columns.\n     * @example\n     * // to sort by age and then name (both ascending)\n     * dv.applySortCriteria(['age', 'name']);\n     * // to sort by age (ascending) and then by name (descending)\n     * dv.applySortCriteria(['age', ['name', true]);\n     * // to sort by age (descending) and then by name (descending)\n     * dv.applySortCriteria(['age', true], ['name', true]);\n     *\n     * @param {array} properties - array of property names or subarray of [propertyname, isdesc] used evaluate sort order\n     * @returns {DynamicView} Reference to this DynamicView, sorted, for future chain operations.\n     * @memberof DynamicView\n     */\n    DynamicView.prototype.applySortCriteria = function (criteria) {\n      this.sortCriteria = criteria;\n      this.sortCriteriaSimple = null;\n      this.sortFunction = null;\n\n      this.queueSortPhase();\n\n      return this;\n    };\n\n    /**\n     * startTransaction() - marks the beginning of a transaction.\n     *\n     * @returns {DynamicView} this DynamicView object, for further chain ops.\n     */\n    DynamicView.prototype.startTransaction = function () {\n      this.cachedresultset = this.resultset.copy();\n\n      return this;\n    };\n\n    /**\n     * commit() - commits a transaction.\n     *\n     * @returns {DynamicView} this DynamicView object, for further chain ops.\n     */\n    DynamicView.prototype.commit = function () {\n      this.cachedresultset = null;\n\n      return this;\n    };\n\n    /**\n     * rollback() - rolls back a transaction.\n     *\n     * @returns {DynamicView} this DynamicView object, for further chain ops.\n     */\n    DynamicView.prototype.rollback = function () {\n      this.resultset = this.cachedresultset;\n\n      if (this.options.persistent) {\n        // for now just rebuild the persistent dynamic view data in this worst case scenario\n        // (a persistent view utilizing transactions which get rolled back), we already know the filter so not too bad.\n        this.resultdata = this.resultset.data();\n\n        this.emit('rebuild', this);\n      }\n\n      return this;\n    };\n\n\n    /**\n     * Implementation detail.\n     * _indexOfFilterWithId() - Find the index of a filter in the pipeline, by that filter's ID.\n     *\n     * @param {(string|number)} uid - The unique ID of the filter.\n     * @returns {number}: index of the referenced filter in the pipeline; -1 if not found.\n     */\n    DynamicView.prototype._indexOfFilterWithId = function (uid) {\n      if (typeof uid === 'string' || typeof uid === 'number') {\n        for (var idx = 0, len = this.filterPipeline.length; idx < len; idx += 1) {\n          if (uid === this.filterPipeline[idx].uid) {\n            return idx;\n          }\n        }\n      }\n      return -1;\n    };\n\n    /**\n     * Implementation detail.\n     * _addFilter() - Add the filter object to the end of view's filter pipeline and apply the filter to the resultset.\n     *\n     * @param {object} filter - The filter object. Refer to applyFilter() for extra details.\n     */\n    DynamicView.prototype._addFilter = function (filter) {\n      this.filterPipeline.push(filter);\n      this.resultset[filter.type](filter.val);\n    };\n\n    /**\n     * reapplyFilters() - Reapply all the filters in the current pipeline.\n     *\n     * @returns {DynamicView} this DynamicView object, for further chain ops.\n     */\n    DynamicView.prototype.reapplyFilters = function () {\n      this.resultset.reset();\n\n      this.cachedresultset = null;\n      if (this.options.persistent) {\n        this.resultdata = [];\n        this.resultsdirty = true;\n      }\n\n      var filters = this.filterPipeline;\n      this.filterPipeline = [];\n\n      for (var idx = 0, len = filters.length; idx < len; idx += 1) {\n        this._addFilter(filters[idx]);\n      }\n\n      if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) {\n        this.queueSortPhase();\n      } else {\n        this.queueRebuildEvent();\n      }\n\n      return this;\n    };\n\n    /**\n     * applyFilter() - Adds or updates a filter in the DynamicView filter pipeline\n     *\n     * @param {object} filter - A filter object to add to the pipeline.\n     *    The object is in the format { 'type': filter_type, 'val', filter_param, 'uid', optional_filter_id }\n     * @returns {DynamicView} this DynamicView object, for further chain ops.\n     * @memberof DynamicView\n     */\n    DynamicView.prototype.applyFilter = function (filter) {\n      var idx = this._indexOfFilterWithId(filter.uid);\n      if (idx >= 0) {\n        this.filterPipeline[idx] = filter;\n        return this.reapplyFilters();\n      }\n\n      this.cachedresultset = null;\n      if (this.options.persistent) {\n        this.resultdata = [];\n        this.resultsdirty = true;\n      }\n\n      this._addFilter(filter);\n\n      if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) {\n        this.queueSortPhase();\n      } else {\n        this.queueRebuildEvent();\n      }\n\n      return this;\n    };\n\n    /**\n     * applyFind() - Adds or updates a mongo-style query option in the DynamicView filter pipeline\n     *\n     * @param {object} query - A mongo-style query object to apply to pipeline\n     * @param {(string|number)=} uid - Optional: The unique ID of this filter, to reference it in the future.\n     * @returns {DynamicView} this DynamicView object, for further chain ops.\n     * @memberof DynamicView\n     */\n    DynamicView.prototype.applyFind = function (query, uid) {\n      this.applyFilter({\n        type: 'find',\n        val: query,\n        uid: uid\n      });\n      return this;\n    };\n\n    /**\n     * applyWhere() - Adds or updates a javascript filter function in the DynamicView filter pipeline\n     *\n     * @param {function} fun - A javascript filter function to apply to pipeline\n     * @param {(string|number)=} uid - Optional: The unique ID of this filter, to reference it in the future.\n     * @returns {DynamicView} this DynamicView object, for further chain ops.\n     * @memberof DynamicView\n     */\n    DynamicView.prototype.applyWhere = function (fun, uid) {\n      this.applyFilter({\n        type: 'where',\n        val: fun,\n        uid: uid\n      });\n      return this;\n    };\n\n    /**\n     * removeFilter() - Remove the specified filter from the DynamicView filter pipeline\n     *\n     * @param {(string|number)} uid - The unique ID of the filter to be removed.\n     * @returns {DynamicView} this DynamicView object, for further chain ops.\n     * @memberof DynamicView\n     */\n    DynamicView.prototype.removeFilter = function (uid) {\n      var idx = this._indexOfFilterWithId(uid);\n      if (idx < 0) {\n        throw new Error(\"Dynamic view does not contain a filter with ID: \" + uid);\n      }\n\n      this.filterPipeline.splice(idx, 1);\n      this.reapplyFilters();\n      return this;\n    };\n\n    /**\n     * count() - returns the number of documents representing the current DynamicView contents.\n     *\n     * @returns {number} The number of documents representing the current DynamicView contents.\n     * @memberof DynamicView\n     */\n    DynamicView.prototype.count = function () {\n      // in order to be accurate we will pay the minimum cost (and not alter dv state management)\n      // recurring resultset data resolutions should know internally its already up to date.\n      // for persistent data this will not update resultdata nor fire rebuild event.\n      if (this.resultsdirty) {\n        this.resultdata = this.resultset.data();\n      }\n\n      return this.resultset.count();\n    };\n\n    /**\n     * data() - resolves and pending filtering and sorting, then returns document array as result.\n     *\n     * @param {object=} options - optional parameters to pass to resultset.data() if non-persistent\n     * @param {boolean} options.forceClones - Allows forcing the return of cloned objects even when\n     *        the collection is not configured for clone object.\n     * @param {string} options.forceCloneMethod - Allows overriding the default or collection specified cloning method.\n     *        Possible values include 'parse-stringify', 'jquery-extend-deep', 'shallow', 'shallow-assign'\n     * @param {bool} options.removeMeta - Will force clones and strip $loki and meta properties from documents\n     * @returns {array} An array of documents representing the current DynamicView contents.\n     * @memberof DynamicView\n     */\n    DynamicView.prototype.data = function (options) {\n      // using final sort phase as 'catch all' for a few use cases which require full rebuild\n      if (this.sortDirty || this.resultsdirty) {\n        this.performSortPhase({\n          suppressRebuildEvent: true\n        });\n      }\n      return (this.options.persistent) ? (this.resultdata) : (this.resultset.data(options));\n    };\n\n    /**\n     * queueRebuildEvent() - When the view is not sorted we may still wish to be notified of rebuild events.\n     *     This event will throttle and queue a single rebuild event when batches of updates affect the view.\n     */\n    DynamicView.prototype.queueRebuildEvent = function () {\n      if (this.rebuildPending) {\n        return;\n      }\n      this.rebuildPending = true;\n\n      var self = this;\n      setTimeout(function () {\n        if (self.rebuildPending) {\n          self.rebuildPending = false;\n          self.emit('rebuild', self);\n        }\n      }, this.options.minRebuildInterval);\n    };\n\n    /**\n     * queueSortPhase : If the view is sorted we will throttle sorting to either :\n     *    (1) passive - when the user calls data(), or\n     *    (2) active - once they stop updating and yield js thread control\n     */\n    DynamicView.prototype.queueSortPhase = function () {\n      // already queued? exit without queuing again\n      if (this.sortDirty) {\n        return;\n      }\n      this.sortDirty = true;\n\n      var self = this;\n      if (this.options.sortPriority === \"active\") {\n        // active sorting... once they are done and yield js thread, run async performSortPhase()\n        setTimeout(function () {\n          self.performSortPhase();\n        }, this.options.minRebuildInterval);\n      } else {\n        // must be passive sorting... since not calling performSortPhase (until data call), lets use queueRebuildEvent to\n        // potentially notify user that data has changed.\n        this.queueRebuildEvent();\n      }\n    };\n\n    /**\n     * performSortPhase() - invoked synchronously or asynchronously to perform final sort phase (if needed)\n     *\n     */\n    DynamicView.prototype.performSortPhase = function (options) {\n      // async call to this may have been pre-empted by synchronous call to data before async could fire\n      if (!this.sortDirty && !this.resultsdirty) {\n        return;\n      }\n\n      options = options || {};\n\n      if (this.sortDirty) {\n        if (this.sortFunction) {\n          this.resultset.sort(this.sortFunction);\n        } else if (this.sortCriteria) {\n          this.resultset.compoundsort(this.sortCriteria);\n        } else if (this.sortCriteriaSimple) {\n          this.resultset.simplesort(this.sortCriteriaSimple.propname, this.sortCriteriaSimple.options);\n        }\n\n        this.sortDirty = false;\n      }\n\n      if (this.options.persistent) {\n        // persistent view, rebuild local resultdata array\n        this.resultdata = this.resultset.data();\n        this.resultsdirty = false;\n      }\n\n      if (!options.suppressRebuildEvent) {\n        this.emit('rebuild', this);\n      }\n    };\n\n    /**\n     * evaluateDocument() - internal method for (re)evaluating document inclusion.\n     *    Called by : collection.insert() and collection.update().\n     *\n     * @param {int} objIndex - index of document to (re)run through filter pipeline.\n     * @param {bool} isNew - true if the document was just added to the collection.\n     */\n    DynamicView.prototype.evaluateDocument = function (objIndex, isNew) {\n      // if no filter applied yet, the result 'set' should remain 'everything'\n      if (!this.resultset.filterInitialized) {\n        if (this.options.persistent) {\n          this.resultdata = this.resultset.data();\n        }\n        // need to re-sort to sort new document\n        if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) {\n          this.queueSortPhase();\n        } else {\n          this.queueRebuildEvent();\n        }\n        return;\n      }\n\n      var ofr = this.resultset.filteredrows;\n      var oldPos = (isNew) ? (-1) : (ofr.indexOf(+objIndex));\n      var oldlen = ofr.length;\n\n      // creating a 1-element resultset to run filter chain ops on to see if that doc passes filters;\n      // mostly efficient algorithm, slight stack overhead price (this function is called on inserts and updates)\n      var evalResultset = new Resultset(this.collection);\n      evalResultset.filteredrows = [objIndex];\n      evalResultset.filterInitialized = true;\n      var filter;\n      for (var idx = 0, len = this.filterPipeline.length; idx < len; idx++) {\n        filter = this.filterPipeline[idx];\n        evalResultset[filter.type](filter.val);\n      }\n\n      // not a true position, but -1 if not pass our filter(s), 0 if passed filter(s)\n      var newPos = (evalResultset.filteredrows.length === 0) ? -1 : 0;\n\n      // wasn't in old, shouldn't be now... do nothing\n      if (oldPos === -1 && newPos === -1) return;\n\n      // wasn't in resultset, should be now... add\n      if (oldPos === -1 && newPos !== -1) {\n        ofr.push(objIndex);\n\n        if (this.options.persistent) {\n          this.resultdata.push(this.collection.data[objIndex]);\n        }\n\n        // need to re-sort to sort new document\n        if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) {\n          this.queueSortPhase();\n        } else {\n          this.queueRebuildEvent();\n        }\n\n        return;\n      }\n\n      // was in resultset, shouldn't be now... delete\n      if (oldPos !== -1 && newPos === -1) {\n        if (oldPos < oldlen - 1) {\n          ofr.splice(oldPos, 1);\n\n          if (this.options.persistent) {\n            this.resultdata.splice(oldPos, 1);\n          }\n        } else {\n          ofr.length = oldlen - 1;\n\n          if (this.options.persistent) {\n            this.resultdata.length = oldlen - 1;\n          }\n        }\n\n        // in case changes to data altered a sort column\n        if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) {\n          this.queueSortPhase();\n        } else {\n          this.queueRebuildEvent();\n        }\n\n        return;\n      }\n\n      // was in resultset, should still be now... (update persistent only?)\n      if (oldPos !== -1 && newPos !== -1) {\n        if (this.options.persistent) {\n          // in case document changed, replace persistent view data with the latest collection.data document\n          this.resultdata[oldPos] = this.collection.data[objIndex];\n        }\n\n        // in case changes to data altered a sort column\n        if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) {\n          this.queueSortPhase();\n        } else {\n          this.queueRebuildEvent();\n        }\n\n        return;\n      }\n    };\n\n    /**\n     * removeDocument() - internal function called on collection.delete()\n     * @param {number|number[]} objIndex - index of document to (re)run through filter pipeline.\n     */\n    DynamicView.prototype.removeDocument = function (objIndex) {\n      var idx, rmidx, rmlen, rxo = {}, fxo = {};\n      var adjels = [];\n      var drs = this.resultset;\n      var fr = this.resultset.filteredrows;\n      var frlen = fr.length;\n\n      // if no filter applied yet, the result 'set' should remain 'everything'\n      if (!this.resultset.filterInitialized) {\n        if (this.options.persistent) {\n          this.resultdata = this.resultset.data();\n        }\n        // in case changes to data altered a sort column\n        if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) {\n          this.queueSortPhase();\n        } else {\n          this.queueRebuildEvent();\n        }\n        return;\n      }\n\n      // if passed single index, wrap in array\n      if (!Array.isArray(objIndex)) {\n        objIndex = [objIndex];\n      }\n\n      rmlen = objIndex.length;\n      // create intersection object of data indices to remove\n      for(rmidx=0;rmidx<rmlen; rmidx++) {\n        rxo[objIndex[rmidx]] = true;\n      }\n\n      // pivot remove data indices into remove filteredrows indices and dump in hashobject\n      for (idx=0; idx<frlen; idx++) {\n        if (rxo[fr[idx]]) fxo[idx] = true;\n      }\n\n      // if any of the removed items were in our filteredrows...\n      if (Object.keys(fxo).length > 0) {\n        // remove them from filtered rows\n        this.resultset.filteredrows = this.resultset.filteredrows.filter(function(di, idx) { return !fxo[idx]; });\n        // if persistent...\n        if (this.options.persistent) {\n          // remove from resultdata\n          this.resultdata = this.resultdata.filter(function(obj, idx) { return !fxo[idx]; });\n        }\n\n        // and queue sorts \n        if (this.sortFunction || this.sortCriteria || this.sortCriteriaSimple) {\n          this.queueSortPhase();\n        } else {\n          this.queueRebuildEvent();\n        }\n      }\n\n      // to remove holes, we need to 'shift down' indices, this filter function finds number of positions to shift\n      var filt = function(idx) { return function(di) { return di < drs.filteredrows[idx]; }; };\n\n      frlen = drs.filteredrows.length;\n      for (idx = 0; idx < frlen; idx++) {\n        // grab subset of removed elements where data index is less than current filtered row data index;\n        // use this to determine how many positions iterated remaining data index needs to be 'shifted down'\n        adjels = objIndex.filter(filt(idx));\n        drs.filteredrows[idx] -= adjels.length;\n      }\n    };\n\n    /**\n     * mapReduce() - data transformation via user supplied functions\n     *\n     * @param {function} mapFunction - this function accepts a single document for you to transform and return\n     * @param {function} reduceFunction - this function accepts many (array of map outputs) and returns single value\n     * @returns The output of your reduceFunction\n     * @memberof DynamicView\n     */\n    DynamicView.prototype.mapReduce = function (mapFunction, reduceFunction) {\n      try {\n        return reduceFunction(this.data().map(mapFunction));\n      } catch (err) {\n        throw err;\n      }\n    };\n\n\n    /**\n     * Collection class that handles documents of same type\n     * @constructor Collection\n     * @implements LokiEventEmitter\n     * @param {string} name - collection name\n     * @param {(array|object)=} options - (optional) array of property names to be indicized OR a configuration object\n     * @param {array=} [options.unique=[]] - array of property names to define unique constraints for\n     * @param {array=} [options.exact=[]] - array of property names to define exact constraints for\n     * @param {array=} [options.indices=[]] - array property names to define binary indexes for\n     * @param {boolean} [options.adaptiveBinaryIndices=true] - collection indices will be actively rebuilt rather than lazily\n     * @param {boolean} [options.asyncListeners=false] - whether listeners are invoked asynchronously\n     * @param {boolean} [options.disableMeta=false] - set to true to disable meta property on documents\n     * @param {boolean} [options.disableChangesApi=true] - set to false to enable Changes API\n     * @param {boolean} [options.disableDeltaChangesApi=true] - set to false to enable Delta Changes API (requires Changes API, forces cloning)\n     * @param {boolean} [options.autoupdate=false] - use Object.observe to update objects automatically\n     * @param {boolean} [options.clone=false] - specify whether inserts and queries clone to/from user\n     * @param {boolean} [options.serializableIndices=true[]] - converts date values on binary indexed properties to epoch time\n     * @param {string} [options.cloneMethod='parse-stringify'] - 'parse-stringify', 'jquery-extend-deep', 'shallow', 'shallow-assign'\n     * @param {int=} options.ttl - age of document (in ms.) before document is considered aged/stale.\n     * @param {int=} options.ttlInterval - time interval for clearing out 'aged' documents; not set by default.\n     * @see {@link Loki#addCollection} for normal creation of collections\n     */\n    function Collection(name, options) {\n      // the name of the collection\n\n      this.name = name;\n      // the data held by the collection\n      this.data = [];\n      this.idIndex = []; // index of id\n      this.binaryIndices = {}; // user defined indexes\n      this.constraints = {\n        unique: {},\n        exact: {}\n      };\n\n      // unique contraints contain duplicate object references, so they are not persisted.\n      // we will keep track of properties which have unique contraint applied here, and regenerate on load\n      this.uniqueNames = [];\n\n      // transforms will be used to store frequently used query chains as a series of steps\n      // which itself can be stored along with the database.\n      this.transforms = {};\n\n      // the object type of the collection\n      this.objType = name;\n\n      // in autosave scenarios we will use collection level dirty flags to determine whether save is needed.\n      // currently, if any collection is dirty we will autosave the whole database if autosave is configured.\n      // defaulting to true since this is called from addCollection and adding a collection should trigger save\n      this.dirty = true;\n\n      // private holders for cached data\n      this.cachedIndex = null;\n      this.cachedBinaryIndex = null;\n      this.cachedData = null;\n      var self = this;\n\n      /* OPTIONS */\n      options = options || {};\n\n      // exact match and unique constraints\n      if (options.hasOwnProperty('unique')) {\n        if (!Array.isArray(options.unique)) {\n          options.unique = [options.unique];\n        }\n        options.unique.forEach(function (prop) {\n          self.uniqueNames.push(prop); // used to regenerate on subsequent database loads\n          self.constraints.unique[prop] = new UniqueIndex(prop);\n        });\n      }\n\n      if (options.hasOwnProperty('exact')) {\n        options.exact.forEach(function (prop) {\n          self.constraints.exact[prop] = new ExactIndex(prop);\n        });\n      }\n\n      // if set to true we will optimally keep indices 'fresh' during insert/update/remove ops (never dirty/never needs rebuild)\n      // if you frequently intersperse insert/update/remove ops between find ops this will likely be significantly faster option.\n      this.adaptiveBinaryIndices = options.hasOwnProperty('adaptiveBinaryIndices') ? options.adaptiveBinaryIndices : true;\n\n      // is collection transactional\n      this.transactional = options.hasOwnProperty('transactional') ? options.transactional : false;\n\n      // options to clone objects when inserting them\n      this.cloneObjects = options.hasOwnProperty('clone') ? options.clone : false;\n\n      // default clone method (if enabled) is parse-stringify\n      this.cloneMethod = options.hasOwnProperty('cloneMethod') ? options.cloneMethod : \"parse-stringify\";\n\n      // option to make event listeners async, default is sync\n      this.asyncListeners = options.hasOwnProperty('asyncListeners') ? options.asyncListeners : false;\n\n      // if set to true we will not maintain a meta property for a document\n      this.disableMeta = options.hasOwnProperty('disableMeta') ? options.disableMeta : false;\n\n      // disable track changes\n      this.disableChangesApi = options.hasOwnProperty('disableChangesApi') ? options.disableChangesApi : true;\n\n      // disable delta update object style on changes\n      this.disableDeltaChangesApi = options.hasOwnProperty('disableDeltaChangesApi') ? options.disableDeltaChangesApi : true;\n      if (this.disableChangesApi) { this.disableDeltaChangesApi = true; }\n\n      // option to observe objects and update them automatically, ignored if Object.observe is not supported\n      this.autoupdate = options.hasOwnProperty('autoupdate') ? options.autoupdate : false;\n\n      // by default, if you insert a document into a collection with binary indices, if those indexed properties contain\n      // a DateTime we will convert to epoch time format so that (across serializations) its value position will be the\n      // same 'after' serialization as it was 'before'.\n      this.serializableIndices = options.hasOwnProperty('serializableIndices') ? options.serializableIndices : true;\n\n      //option to activate a cleaner daemon - clears \"aged\" documents at set intervals.\n      this.ttl = {\n        age: null,\n        ttlInterval: null,\n        daemon: null\n      };\n      this.setTTL(options.ttl || -1, options.ttlInterval);\n\n      // currentMaxId - change manually at your own peril!\n      this.maxId = 0;\n\n      this.DynamicViews = [];\n\n      // events\n      this.events = {\n        'insert': [],\n        'update': [],\n        'pre-insert': [],\n        'pre-update': [],\n        'close': [],\n        'flushbuffer': [],\n        'error': [],\n        'delete': [],\n        'warning': []\n      };\n\n      // changes are tracked by collection and aggregated by the db\n      this.changes = [];\n\n      // initialize the id index\n      this.ensureId();\n      var indices = [];\n      // initialize optional user-supplied indices array ['age', 'lname', 'zip']\n      if (options && options.indices) {\n        if (Object.prototype.toString.call(options.indices) === '[object Array]') {\n          indices = options.indices;\n        } else if (typeof options.indices === 'string') {\n          indices = [options.indices];\n        } else {\n          throw new TypeError('Indices needs to be a string or an array of strings');\n        }\n      }\n\n      for (var idx = 0; idx < indices.length; idx++) {\n        this.ensureIndex(indices[idx]);\n      }\n\n      function observerCallback(changes) {\n\n        var changedObjects = typeof Set === 'function' ? new Set() : [];\n\n        if (!changedObjects.add)\n          changedObjects.add = function (object) {\n            if (this.indexOf(object) === -1)\n              this.push(object);\n            return this;\n          };\n\n        changes.forEach(function (change) {\n          changedObjects.add(change.object);\n        });\n\n        changedObjects.forEach(function (object) {\n          if (!hasOwnProperty.call(object, '$loki'))\n            return self.removeAutoUpdateObserver(object);\n          try {\n            self.update(object);\n          } catch (err) {}\n        });\n      }\n\n      this.observerCallback = observerCallback;\n\n      //Compare changed object (which is a forced clone) with existing object and return the delta\n      function getChangeDelta(obj, old) {\n        if (old) {\n          return getObjectDelta(old, obj);\n        }\n        else {\n          return JSON.parse(JSON.stringify(obj));\n        }\n      }\n\n      this.getChangeDelta = getChangeDelta;\n\n      function getObjectDelta(oldObject, newObject) {\n        var propertyNames = newObject !== null && typeof newObject === 'object' ? Object.keys(newObject) : null;\n        if (propertyNames && propertyNames.length && ['string', 'boolean', 'number'].indexOf(typeof(newObject)) < 0) {\n          var delta = {};\n          for (var i = 0; i < propertyNames.length; i++) {\n            var propertyName = propertyNames[i];\n            if (newObject.hasOwnProperty(propertyName)) {\n              if (!oldObject.hasOwnProperty(propertyName) || self.uniqueNames.indexOf(propertyName) >= 0 || propertyName == '$loki' || propertyName == 'meta') {\n                delta[propertyName] = newObject[propertyName];\n              }\n              else {\n                var propertyDelta = getObjectDelta(oldObject[propertyName], newObject[propertyName]);\n                if (typeof propertyDelta !== \"undefined\" && propertyDelta != {}) {\n                  delta[propertyName] = propertyDelta;\n                }\n              }\n            }\n          }\n          return Object.keys(delta).length === 0 ? undefined : delta;\n        }\n        else {\n          return oldObject === newObject ? undefined : newObject;\n        }\n      }\n\n      this.getObjectDelta = getObjectDelta;\n\n      // clear all the changes\n      function flushChanges() {\n        self.changes = [];\n      }\n\n      this.getChanges = function () {\n        return self.changes;\n      };\n\n      this.flushChanges = flushChanges;\n\n      this.setChangesApi = function (enabled) {\n        self.disableChangesApi = !enabled;\n        if (!enabled) { self.disableDeltaChangesApi = false; }\n      };\n\n      this.on('delete', function deleteCallback(obj) {\n        if (!self.disableChangesApi) {\n          self.createChange(self.name, 'R', obj);\n        }\n      });\n\n      this.on('warning', function (warning) {\n        self.console.warn(warning);\n      });\n      // for de-serialization purposes\n      flushChanges();\n    }\n\n    Collection.prototype = new LokiEventEmitter();\n\n    /*\n      * For ChangeAPI default to clone entire object, for delta changes create object with only differences (+ $loki and meta)\n      */\n    Collection.prototype.createChange = function(name, op, obj, old) {\n      this.changes.push({\n        name: name,\n        operation: op,\n        obj: op == 'U' && !this.disableDeltaChangesApi ? this.getChangeDelta(obj, old) : JSON.parse(JSON.stringify(obj))\n      });\n    };\n\n    Collection.prototype.insertMeta = function(obj) {\n      var len, idx;\n\n      if (this.disableMeta || !obj) {\n        return;\n      }\n\n      // if batch insert\n      if (Array.isArray(obj)) {\n        len = obj.length;\n\n        for(idx=0; idx<len; idx++) {\n          if (!obj[idx].hasOwnProperty('meta')) {\n            obj[idx].meta = {};\n          }\n\n          obj[idx].meta.created = (new Date()).getTime();\n          obj[idx].meta.revision = 0;\n        }\n\n        return;\n      }\n\n      // single object\n      if (!obj.meta) {\n        obj.meta = {};\n      }\n\n      obj.meta.created = (new Date()).getTime();\n      obj.meta.revision = 0;\n    };\n\n    Collection.prototype.updateMeta = function(obj) {\n      if (this.disableMeta || !obj) {\n        return;\n      }\n      obj.meta.updated = (new Date()).getTime();\n      obj.meta.revision += 1;\n    };\n\n    Collection.prototype.createInsertChange = function(obj) {\n      this.createChange(this.name, 'I', obj);\n    };\n\n    Collection.prototype.createUpdateChange = function(obj, old) {\n      this.createChange(this.name, 'U', obj, old);\n    };\n\n    Collection.prototype.insertMetaWithChange = function(obj) {\n      this.insertMeta(obj);\n      this.createInsertChange(obj);\n    };\n\n    Collection.prototype.updateMetaWithChange = function(obj, old) {\n      this.updateMeta(obj);\n      this.createUpdateChange(obj, old);\n    };\n\n    Collection.prototype.console = {\n      log: function () {},\n      warn: function () {},\n      error: function () {},\n    };\n\n    Collection.prototype.addAutoUpdateObserver = function (object) {\n      if (!this.autoupdate || typeof Object.observe !== 'function')\n        return;\n\n      Object.observe(object, this.observerCallback, ['add', 'update', 'delete', 'reconfigure', 'setPrototype']);\n    };\n\n    Collection.prototype.removeAutoUpdateObserver = function (object) {\n      if (!this.autoupdate || typeof Object.observe !== 'function')\n        return;\n\n      Object.unobserve(object, this.observerCallback);\n    };\n\n    /**\n     * Adds a named collection transform to the collection\n     * @param {string} name - name to associate with transform\n     * @param {array} transform - an array of transformation 'step' objects to save into the collection\n     * @memberof Collection\n     * @example\n     * users.addTransform('progeny', [\n     *   {\n     *     type: 'find',\n     *     value: {\n     *       'age': {'$lte': 40}\n     *     }\n     *   }\n     * ]);\n     *\n     * var results = users.chain('progeny').data();\n     */\n    Collection.prototype.addTransform = function (name, transform) {\n      if (this.transforms.hasOwnProperty(name)) {\n        throw new Error(\"a transform by that name already exists\");\n      }\n\n      this.transforms[name] = transform;\n    };\n\n    /**\n     * Retrieves a named transform from the collection.\n     * @param {string} name - name of the transform to lookup.\n     * @memberof Collection\n     */\n    Collection.prototype.getTransform = function (name) {\n      return this.transforms[name];\n    };\n\n    /**\n     * Updates a named collection transform to the collection\n     * @param {string} name - name to associate with transform\n     * @param {object} transform - a transformation object to save into collection\n     * @memberof Collection\n     */\n    Collection.prototype.setTransform = function (name, transform) {\n      this.transforms[name] = transform;\n    };\n\n    /**\n     * Removes a named collection transform from the collection\n     * @param {string} name - name of collection transform to remove\n     * @memberof Collection\n     */\n    Collection.prototype.removeTransform = function (name) {\n      delete this.transforms[name];\n    };\n\n    Collection.prototype.byExample = function (template) {\n      var k, obj, query;\n      query = [];\n      for (k in template) {\n        if (!template.hasOwnProperty(k)) continue;\n        query.push((\n          obj = {},\n          obj[k] = template[k],\n          obj\n        ));\n      }\n      return {\n        '$and': query\n      };\n    };\n\n    Collection.prototype.findObject = function (template) {\n      return this.findOne(this.byExample(template));\n    };\n\n    Collection.prototype.findObjects = function (template) {\n      return this.find(this.byExample(template));\n    };\n\n    /*----------------------------+\n    | TTL daemon                  |\n    +----------------------------*/\n    Collection.prototype.ttlDaemonFuncGen = function () {\n      var collection = this;\n      var age = this.ttl.age;\n      return function ttlDaemon() {\n        var now = Date.now();\n        var toRemove = collection.chain().where(function daemonFilter(member) {\n          var timestamp = member.meta.updated || member.meta.created;\n          var diff = now - timestamp;\n          return age < diff;\n        });\n        toRemove.remove();\n      };\n    };\n\n    /**\n     * Updates or applies collection TTL settings.\n     * @param {int} age - age (in ms) to expire document from collection\n     * @param {int} interval - time (in ms) to clear collection of aged documents.\n     * @memberof Collection\n     */\n    Collection.prototype.setTTL = function (age, interval) {\n      if (age < 0) {\n        clearInterval(this.ttl.daemon);\n      } else {\n        this.ttl.age = age;\n        this.ttl.ttlInterval = interval;\n        this.ttl.daemon = setInterval(this.ttlDaemonFuncGen(), interval);\n      }\n    };\n\n    /*----------------------------+\n    | INDEXING                    |\n    +----------------------------*/\n\n    /**\n     * create a row filter that covers all documents in the collection\n     */\n    Collection.prototype.prepareFullDocIndex = function () {\n      var len = this.data.length;\n      var indexes = new Array(len);\n      for (var i = 0; i < len; i += 1) {\n        indexes[i] = i;\n      }\n      return indexes;\n    };\n\n    /**\n     * Will allow reconfiguring certain collection options.\n     * @param {boolean} options.adaptiveBinaryIndices - collection indices will be actively rebuilt rather than lazily\n     * @memberof Collection\n     */\n    Collection.prototype.configureOptions = function (options) {\n      options = options || {};\n\n      if (options.hasOwnProperty('adaptiveBinaryIndices')) {\n        this.adaptiveBinaryIndices = options.adaptiveBinaryIndices;\n\n        // if switching to adaptive binary indices, make sure none are 'dirty'\n        if (this.adaptiveBinaryIndices) {\n          this.ensureAllIndexes();\n        }\n      }\n    };\n\n    /**\n     * Ensure binary index on a certain field\n     * @param {string} property - name of property to create binary index on\n     * @param {boolean=} force - (Optional) flag indicating whether to construct index immediately\n     * @memberof Collection\n     */\n    Collection.prototype.ensureIndex = function (property, force) {\n      // optional parameter to force rebuild whether flagged as dirty or not\n      if (typeof (force) === 'undefined') {\n        force = false;\n      }\n\n      if (property === null || property === undefined) {\n        throw new Error('Attempting to set index without an associated property');\n      }\n\n      if (this.binaryIndices[property] && !force) {\n        if (!this.binaryIndices[property].dirty) return;\n      }\n\n      // if the index is already defined and we are using adaptiveBinaryIndices and we are not forcing a rebuild, return.\n      if (this.adaptiveBinaryIndices === true && this.binaryIndices.hasOwnProperty(property) && !force) {\n        return;\n      }\n\n      var index = {\n        'name': property,\n        'dirty': true,\n        'values': this.prepareFullDocIndex()\n      };\n      this.binaryIndices[property] = index;\n\n      var wrappedComparer =\n        (function (prop, data) {\n          var val1, val2, arr;\n          return function (a, b) {\n            if (~prop.indexOf('.')) {\n              arr = prop.split('.');\n              val1 = Utils.getIn(data[a], arr, true);\n              val2 = Utils.getIn(data[b], arr, true);\n            } else {\n              val1 = data[a][prop];\n              val2 = data[b][prop];\n            }\n\n            if (val1 !== val2) {\n              if (Comparators.lt(val1, val2, false)) return -1;\n              if (Comparators.gt(val1, val2, false)) return 1;\n            }\n            return 0;\n          };\n        })(property, this.data);\n\n      index.values.sort(wrappedComparer);\n      index.dirty = false;\n\n      this.dirty = true; // for autosave scenarios\n    };\n\n    /**\n     * Perform checks to determine validity/consistency of all binary indices\n     * @param {object=} options - optional configuration object\n     * @param {boolean} [options.randomSampling=false] - whether (faster) random sampling should be used\n     * @param {number} [options.randomSamplingFactor=0.10] - percentage of total rows to randomly sample\n     * @param {boolean} [options.repair=false] - whether to fix problems if they are encountered\n     * @returns {string[]} array of index names where problems were found.\n     * @memberof Collection\n     * @example\n     * // check all indices on a collection, returns array of invalid index names\n     * var result = coll.checkAllIndexes({ repair: true, randomSampling: true, randomSamplingFactor: 0.15 });\n     * if (result.length > 0) {\n     *   results.forEach(function(name) { \n     *     console.log('problem encountered with index : ' + name); \n     *   });\n     * }     \n     */\n    Collection.prototype.checkAllIndexes = function (options) {\n      var key, bIndices = this.binaryIndices;\n      var results = [], result;\n\n      for (key in bIndices) {\n        if (hasOwnProperty.call(bIndices, key)) {\n          result = this.checkIndex(key, options);\n          if (!result) {\n            results.push(key);\n          }\n        }\n      }\n\n      return results;\n    };\n\n    /**\n     * Perform checks to determine validity/consistency of a binary index\n     * @param {string} property - name of the binary-indexed property to check\n     * @param {object=} options - optional configuration object\n     * @param {boolean} [options.randomSampling=false] - whether (faster) random sampling should be used\n     * @param {number} [options.randomSamplingFactor=0.10] - percentage of total rows to randomly sample\n     * @param {boolean} [options.repair=false] - whether to fix problems if they are encountered\n     * @returns {boolean} whether the index was found to be valid (before optional correcting).\n     * @memberof Collection\n     * @example\n     * // full test\n     * var valid = coll.checkIndex('name');\n     * // full test with repair (if issues found)\n     * valid = coll.checkIndex('name', { repair: true });\n     * // random sampling (default is 10% of total document count)\n     * valid = coll.checkIndex('name', { randomSampling: true });\n     * // random sampling (sample 20% of total document count)\n     * valid = coll.checkIndex('name', { randomSampling: true, randomSamplingFactor: 0.20 });\n     * // random sampling (implied boolean)\n     * valid = coll.checkIndex('name', { randomSamplingFactor: 0.20 });\n     * // random sampling with repair (if issues found)\n     * valid = coll.checkIndex('name', { repair: true, randomSampling: true });\n     */\n    Collection.prototype.checkIndex = function (property, options) {\n      options = options || {};\n      // if 'randomSamplingFactor' specified but not 'randomSampling', assume true\n      if (options.randomSamplingFactor && options.randomSampling !== false) {\n        options.randomSampling = true;\n      }\n      options.randomSamplingFactor = options.randomSamplingFactor || 0.1;\n      if (options.randomSamplingFactor < 0 || options.randomSamplingFactor > 1) {\n        options.randomSamplingFactor = 0.1;\n      }\n\n      var valid=true, idx, iter, pos, len, biv;\n\n      // make sure we are passed a valid binary index name\n      if (!this.binaryIndices.hasOwnProperty(property)) {\n        throw new Error(\"called checkIndex on property without an index: \" + property);\n      }\n\n      // if lazy indexing, rebuild only if flagged as dirty\n      if (!this.adaptiveBinaryIndices) {\n        this.ensureIndex(property);\n      }\n\n      biv = this.binaryIndices[property].values;\n      len = biv.length;\n\n      // if the index has an incorrect number of values\n      if (len !== this.data.length) {\n        if (options.repair) {\n          this.ensureIndex(property, true);\n        }\n        return false;\n      }\n\n      if (len === 0) {\n        return true;\n      }\n\n      var usingDotNotation = (property.indexOf('.') !== -1);\n\n      if (len === 1) {\n        valid = (biv[0] === 0);\n      }\n      else {\n        if (options.randomSampling) {\n          // validate first and last\n          if (!LokiOps.$lte(Utils.getIn(this.data[biv[0]], property, usingDotNotation),\n                            Utils.getIn(this.data[biv[1]], property, usingDotNotation))) {\n            valid=false;\n          }\n          if (!LokiOps.$lte(Utils.getIn(this.data[biv[len-2]], property, usingDotNotation),\n                            Utils.getIn(this.data[biv[len-1]], property, usingDotNotation))) {\n            valid=false;\n          }\n\n          // if first and last positions are sorted correctly with their nearest neighbor,\n          // continue onto random sampling phase...\n          if (valid) {\n            // # random samplings = total count * sampling factor\n            iter = Math.floor((len-1) * options.randomSamplingFactor);\n\n            // for each random sampling, validate that the binary index is sequenced properly\n            // with next higher value.\n            for(idx=0; idx<iter-1; idx++) {\n              // calculate random position\n              pos = Math.floor(Math.random() * (len-1));\n              if (!LokiOps.$lte(Utils.getIn(this.data[biv[pos]], property, usingDotNotation),\n                                Utils.getIn(this.data[biv[pos+1]], property, usingDotNotation))) {\n                valid=false;\n                break;\n              }\n            }\n          }\n        }\n        else {\n          // validate that the binary index is sequenced properly\n          for(idx=0; idx<len-1; idx++) {\n            if (!LokiOps.$lte(Utils.getIn(this.data[biv[idx]], property, usingDotNotation),\n                              Utils.getIn(this.data[biv[idx+1]], property, usingDotNotation))) {\n              valid=false;\n              break;\n            }\n          }\n        }\n      }\n\n      // if incorrectly sequenced and we are to fix problems, rebuild index\n      if (!valid && options.repair) {\n        this.ensureIndex(property, true);\n      }\n\n      return valid;\n    };\n\n    Collection.prototype.getBinaryIndexValues = function (property) {\n      var idx, idxvals = this.binaryIndices[property].values;\n      var result = [];\n\n      for (idx = 0; idx < idxvals.length; idx++) {\n        result.push(Utils.getIn(this.data[idxvals[idx]], property, true));\n      }\n\n      return result;\n    };\n\n    Collection.prototype.ensureUniqueIndex = function (field) {\n      var index = this.constraints.unique[field];\n      if (!index) {\n        // keep track of new unique index for regenerate after database (re)load.\n        if (this.uniqueNames.indexOf(field) == -1) {\n          this.uniqueNames.push(field);\n        }\n      }\n\n      // if index already existed, (re)loading it will likely cause collisions, rebuild always\n      this.constraints.unique[field] = index = new UniqueIndex(field);\n      this.data.forEach(function (obj) {\n        index.set(obj);\n      });\n      return index;\n    };\n\n    /**\n     * Ensure all binary indices\n     * @param {boolean} force - whether to force rebuild of existing lazy binary indices\n     * @memberof Collection\n     */\n    Collection.prototype.ensureAllIndexes = function (force) {\n      var key, bIndices = this.binaryIndices;\n      for (key in bIndices) {\n        if (hasOwnProperty.call(bIndices, key)) {\n          this.ensureIndex(key, force);\n        }\n      }\n    };\n\n    /**\n     * Internal method used to flag all lazy index as dirty\n     */\n    Collection.prototype.flagBinaryIndexesDirty = function () {\n      var key, bIndices = this.binaryIndices;\n      for (key in bIndices) {\n        if (hasOwnProperty.call(bIndices, key)) {\n          bIndices[key].dirty = true;\n        }\n      }\n    };\n\n    /**\n     * Internal method used to flag a lazy index as dirty\n     */\n    Collection.prototype.flagBinaryIndexDirty = function (index) {\n      if (this.binaryIndices[index])\n        this.binaryIndices[index].dirty = true;\n    };\n\n    /**\n     * Quickly determine number of documents in collection (or query)\n     * @param {object=} query - (optional) query object to count results of\n     * @returns {number} number of documents in the collection\n     * @memberof Collection\n     */\n    Collection.prototype.count = function (query) {\n      if (!query) {\n        return this.data.length;\n      }\n\n      return this.chain().find(query).filteredrows.length;\n    };\n\n    /**\n     * Rebuild idIndex\n     */\n    Collection.prototype.ensureId = function () {\n      var len = this.data.length,\n        i = 0;\n\n      this.idIndex = [];\n      for (i; i < len; i += 1) {\n        this.idIndex.push(this.data[i].$loki);\n      }\n    };\n\n    /**\n     * Rebuild idIndex async with callback - useful for background syncing with a remote server\n     */\n    Collection.prototype.ensureIdAsync = function (callback) {\n      this.async(function () {\n        this.ensureId();\n      }, callback);\n    };\n\n    /**\n     * Add a dynamic view to the collection\n     * @param {string} name - name of dynamic view to add\n     * @param {object=} options - options to configure dynamic view with\n     * @param {boolean} [options.persistent=false] - indicates if view is to main internal results array in 'resultdata'\n     * @param {string} [options.sortPriority='passive'] - 'passive' (sorts performed on call to data) or 'active' (after updates)\n     * @param {number} options.minRebuildInterval - minimum rebuild interval (need clarification to docs here)\n     * @returns {DynamicView} reference to the dynamic view added\n     * @memberof Collection\n     * @example\n     * var pview = users.addDynamicView('progeny');\n     * pview.applyFind({'age': {'$lte': 40}});\n     * pview.applySimpleSort('name');\n     *\n     * var results = pview.data();\n     **/\n\n    Collection.prototype.addDynamicView = function (name, options) {\n      var dv = new DynamicView(this, name, options);\n      this.DynamicViews.push(dv);\n\n      return dv;\n    };\n\n    /**\n     * Remove a dynamic view from the collection\n     * @param {string} name - name of dynamic view to remove\n     * @memberof Collection\n     **/\n    Collection.prototype.removeDynamicView = function (name) {\n      this.DynamicViews = \n        this.DynamicViews.filter(function(dv) { return dv.name !== name; });\n    };\n\n    /**\n     * Look up dynamic view reference from within the collection\n     * @param {string} name - name of dynamic view to retrieve reference of\n     * @returns {DynamicView} A reference to the dynamic view with that name\n     * @memberof Collection\n     **/\n    Collection.prototype.getDynamicView = function (name) {\n      for (var idx = 0; idx < this.DynamicViews.length; idx++) {\n        if (this.DynamicViews[idx].name === name) {\n          return this.DynamicViews[idx];\n        }\n      }\n\n      return null;\n    };\n\n    /**\n     * Applies a 'mongo-like' find query object and passes all results to an update function.\n     * For filter function querying you should migrate to [updateWhere()]{@link Collection#updateWhere}.\n     *\n     * @param {object|function} filterObject - 'mongo-like' query object (or deprecated filterFunction mode)\n     * @param {function} updateFunction - update function to run against filtered documents\n     * @memberof Collection\n     */\n    Collection.prototype.findAndUpdate = function (filterObject, updateFunction) {\n      if (typeof (filterObject) === \"function\") {\n        this.updateWhere(filterObject, updateFunction);\n      }\n      else {\n        this.chain().find(filterObject).update(updateFunction);\n      }\n    };\n\n    /**\n     * Applies a 'mongo-like' find query object removes all documents which match that filter.\n     *\n     * @param {object} filterObject - 'mongo-like' query object\n     * @memberof Collection\n     */\n    Collection.prototype.findAndRemove = function(filterObject) {\n      this.chain().find(filterObject).remove();\n    };\n\n    /**\n     * Adds object(s) to collection, ensure object(s) have meta properties, clone it if necessary, etc.\n     * @param {(object|array)} doc - the document (or array of documents) to be inserted\n     * @returns {(object|array)} document or documents inserted\n     * @memberof Collection\n     * @example\n     * users.insert({\n     *     name: 'Odin',\n     *     age: 50,\n     *     address: 'Asgard'\n     * });\n     *\n     * // alternatively, insert array of documents\n     * users.insert([{ name: 'Thor', age: 35}, { name: 'Loki', age: 30}]);\n     */\n    Collection.prototype.insert = function (doc) {\n      if (!Array.isArray(doc)) {\n        return this.insertOne(doc);\n      }\n\n      // holder to the clone of the object inserted if collections is set to clone objects\n      var obj;\n      var results = [];\n\n      this.emit('pre-insert', doc);\n      for (var i = 0, len = doc.length; i < len; i++) {\n        obj = this.insertOne(doc[i], true);\n        if (!obj) {\n          return undefined;\n        }\n        results.push(obj);\n      }\n\n      // at the 'batch' level, if clone option is true then emitted docs are clones\n      this.emit('insert', results);\n\n      // if clone option is set, clone return values\n      results = this.cloneObjects ? clone(results, this.cloneMethod) : results;\n\n      return results.length === 1 ? results[0] : results;\n    };\n\n    /**\n     * Adds a single object, ensures it has meta properties, clone it if necessary, etc.\n     * @param {object} doc - the document to be inserted\n     * @param {boolean} bulkInsert - quiet pre-insert and insert event emits\n     * @returns {object} document or 'undefined' if there was a problem inserting it\n     */\n    Collection.prototype.insertOne = function (doc, bulkInsert) {\n      var err = null;\n      var returnObj;\n\n      if (typeof doc !== 'object') {\n        err = new TypeError('Document needs to be an object');\n      } else if (doc === null) {\n        err = new TypeError('Object cannot be null');\n      }\n\n      if (err !== null) {\n        this.emit('error', err);\n        throw err;\n      }\n\n      // if configured to clone, do so now... otherwise just use same obj reference\n      var obj = this.cloneObjects ? clone(doc, this.cloneMethod) : doc;\n\n      if (!this.disableMeta && typeof obj.meta === 'undefined') {\n        obj.meta = {\n          revision: 0,\n          created: 0\n        };\n      }\n\n      // both 'pre-insert' and 'insert' events are passed internal data reference even when cloning\n      // insert needs internal reference because that is where loki itself listens to add meta\n      if (!bulkInsert) {\n        this.emit('pre-insert', obj);\n      }\n      if (!this.add(obj)) {\n        return undefined;\n      }\n\n      // update meta and store changes if ChangesAPI is enabled\n      // (moved from \"insert\" event listener to allow internal reference to be used)\n      if (this.disableChangesApi) {\n        this.insertMeta(obj);\n      }\n      else {\n        this.insertMetaWithChange(obj);\n      }\n\n      // if cloning is enabled, emit insert event with clone of new object\n      returnObj = this.cloneObjects ? clone(obj, this.cloneMethod) : obj;\n      if (!bulkInsert) {\n        this.emit('insert', returnObj);\n      }\n\n      this.addAutoUpdateObserver(returnObj);\n      return returnObj;\n    };\n\n    /**\n     * Empties the collection.\n     * @param {object=} options - configure clear behavior\n     * @param {bool=} [options.removeIndices=false] - whether to remove indices in addition to data\n     * @memberof Collection\n     */\n    Collection.prototype.clear = function (options) {\n      var self = this;\n\n      options = options || {};\n\n      this.data = [];\n      this.idIndex = [];\n      this.cachedIndex = null;\n      this.cachedBinaryIndex = null;\n      this.cachedData = null;\n      this.maxId = 0;\n      this.DynamicViews = [];\n      this.dirty = true;\n\n      // if removing indices entirely\n      if (options.removeIndices === true) {\n        this.binaryIndices = {};\n\n        this.constraints = {\n          unique: {},\n          exact: {}\n        };\n        this.uniqueNames = [];\n      }\n      // clear indices but leave definitions in place\n      else {\n        // clear binary indices\n        var keys = Object.keys(this.binaryIndices);\n        keys.forEach(function(biname) {\n          self.binaryIndices[biname].dirty = false;\n          self.binaryIndices[biname].values = [];\n        });\n\n        // clear entire unique indices definition\n        this.constraints = {\n          unique: {},\n          exact: {}\n        };\n\n        // add definitions back\n        this.uniqueNames.forEach(function(uiname) {\n          self.ensureUniqueIndex(uiname);\n        });\n      }\n    };\n\n    /**\n     * Updates an object and notifies collection that the document has changed.\n     * @param {object} doc - document to update within the collection\n     * @memberof Collection\n     */\n    Collection.prototype.update = function (doc) {\n      var adaptiveBatchOverride, k, len;\n\n      if (Array.isArray(doc)) {\n        len = doc.length;\n\n        // if not cloning, disable adaptive binary indices for the duration of the batch update,\n        // followed by lazy rebuild and re-enabling adaptive indices after batch update.\n        adaptiveBatchOverride = !this.cloneObjects &&\n          this.adaptiveBinaryIndices && Object.keys(this.binaryIndices).length > 0;\n\n        if (adaptiveBatchOverride) {\n          this.adaptiveBinaryIndices = false;\n        }\n\n        try {\n          for (k=0; k < len; k += 1) {\n            this.update(doc[k]);\n          }\n        }\n        finally {\n          if (adaptiveBatchOverride) {\n            this.ensureAllIndexes();\n            this.adaptiveBinaryIndices = true;\n          }\n        }\n\n        return;\n      }\n\n      // verify object is a properly formed document\n      if (!hasOwnProperty.call(doc, '$loki')) {\n        throw new Error('Trying to update unsynced document. Please save the document first by using insert() or addMany()');\n      }\n      try {\n        this.startTransaction();\n        var arr = this.get(doc.$loki, true),\n          oldInternal,   // ref to existing obj\n          newInternal, // ref to new internal obj\n          position,\n          self = this;\n\n        if (!arr) {\n          throw new Error('Trying to update a document not in collection.');\n        }\n\n        oldInternal = arr[0]; // -internal- obj ref\n        position = arr[1]; // position in data array\n\n        // if configured to clone, do so now... otherwise just use same obj reference\n        newInternal = this.cloneObjects || !this.disableDeltaChangesApi ? clone(doc, this.cloneMethod) : doc;\n\n        this.emit('pre-update', doc);\n\n        Object.keys(this.constraints.unique).forEach(function (key) {\n          self.constraints.unique[key].update(oldInternal, newInternal);\n        });\n\n        // operate the update\n        this.data[position] = newInternal;\n\n        if (newInternal !== doc) {\n          this.addAutoUpdateObserver(doc);\n        }\n\n        // now that we can efficiently determine the data[] position of newly added document,\n        // submit it for all registered DynamicViews to evaluate for inclusion/exclusion\n        for (var idx = 0; idx < this.DynamicViews.length; idx++) {\n          this.DynamicViews[idx].evaluateDocument(position, false);\n        }\n\n        var key;\n        if (this.adaptiveBinaryIndices) {\n          // for each binary index defined in collection, immediately update rather than flag for lazy rebuild\n          var bIndices = this.binaryIndices;\n          for (key in bIndices) {\n            this.adaptiveBinaryIndexUpdate(position, key);\n          }\n        }\n        else {\n          this.flagBinaryIndexesDirty();\n        }\n\n        this.idIndex[position] = newInternal.$loki;\n        //this.flagBinaryIndexesDirty();\n\n        this.commit();\n        this.dirty = true; // for autosave scenarios\n\n        // update meta and store changes if ChangesAPI is enabled\n        if (this.disableChangesApi) {\n          this.updateMeta(newInternal, null);\n        }\n        else {\n          this.updateMetaWithChange(newInternal, oldInternal);\n        }\n\n        var returnObj;\n\n        // if cloning is enabled, emit 'update' event and return with clone of new object\n        if (this.cloneObjects) {\n          returnObj = clone(newInternal, this.cloneMethod);\n        }\n        else {\n          returnObj = newInternal;\n        }\n\n        this.emit('update', returnObj, oldInternal);\n        return returnObj;\n      } catch (err) {\n        this.rollback();\n        this.console.error(err.message);\n        this.emit('error', err);\n        throw (err); // re-throw error so user does not think it succeeded\n      }\n    };\n\n    /**\n     * Add object to collection\n     */\n    Collection.prototype.add = function (obj) {\n      // if parameter isn't object exit with throw\n      if ('object' !== typeof obj) {\n        throw new TypeError('Object being added needs to be an object');\n      }\n      // if object you are adding already has id column it is either already in the collection\n      // or the object is carrying its own 'id' property.  If it also has a meta property,\n      // then this is already in collection so throw error, otherwise rename to originalId and continue adding.\n      if (typeof (obj.$loki) !== 'undefined') {\n        throw new Error('Document is already in collection, please use update()');\n      }\n\n      /*\n       * try adding object to collection\n       */\n      try {\n        this.startTransaction();\n        this.maxId++;\n\n        if (isNaN(this.maxId)) {\n          this.maxId = (this.data[this.data.length - 1].$loki + 1);\n        }\n\n        obj.$loki = this.maxId;\n\n        if (!this.disableMeta) {\n          obj.meta.version = 0;\n        }\n\n        var key, constrUnique = this.constraints.unique;\n        for (key in constrUnique) {\n          if (hasOwnProperty.call(constrUnique, key)) {\n            constrUnique[key].set(obj);\n          }\n        }\n\n        // add new obj id to idIndex\n        this.idIndex.push(obj.$loki);\n\n        // add the object\n        this.data.push(obj);\n\n        var addedPos = this.data.length - 1;\n\n        // now that we can efficiently determine the data[] position of newly added document,\n        // submit it for all registered DynamicViews to evaluate for inclusion/exclusion\n        var dvlen = this.DynamicViews.length;\n        for (var i = 0; i < dvlen; i++) {\n          this.DynamicViews[i].evaluateDocument(addedPos, true);\n        }\n\n        if (this.adaptiveBinaryIndices) {\n          // for each binary index defined in collection, immediately update rather than flag for lazy rebuild\n          var bIndices = this.binaryIndices;\n          for (key in bIndices) {\n            this.adaptiveBinaryIndexInsert(addedPos, key);\n          }\n        }\n        else {\n          this.flagBinaryIndexesDirty();\n        }\n\n        this.commit();\n        this.dirty = true; // for autosave scenarios\n\n        return (this.cloneObjects) ? (clone(obj, this.cloneMethod)) : (obj);\n      } catch (err) {\n        this.rollback();\n        this.console.error(err.message);\n        this.emit('error', err);\n        throw (err); // re-throw error so user does not think it succeeded\n      }\n    };\n\n    /**\n     * Applies a filter function and passes all results to an update function.\n     *\n     * @param {function} filterFunction - filter function whose results will execute update\n     * @param {function} updateFunction - update function to run against filtered documents\n     * @memberof Collection\n     */\n    Collection.prototype.updateWhere = function(filterFunction, updateFunction) {\n      var results = this.where(filterFunction),\n        i = 0,\n        obj;\n      try {\n        for (i; i < results.length; i++) {\n          obj = updateFunction(results[i]);\n          this.update(obj);\n        }\n\n      } catch (err) {\n        this.rollback();\n        this.console.error(err.message);\n      }\n    };\n\n    /**\n     * Remove all documents matching supplied filter function.\n     * For 'mongo-like' querying you should migrate to [findAndRemove()]{@link Collection#findAndRemove}.\n     * @param {function|object} query - query object to filter on\n     * @memberof Collection\n     */\n    Collection.prototype.removeWhere = function (query) {\n      var list;\n      if (typeof query === 'function') {\n        list = this.data.filter(query);\n        this.remove(list);\n      } else {\n        this.chain().find(query).remove();\n      }\n    };\n\n    Collection.prototype.removeDataOnly = function () {\n      this.remove(this.data.slice());\n    };\n\n    /**\n     * Internal method to remove a batch of documents from the collection.\n     * @param {number[]} positions - data/idIndex positions to remove\n     */\n    Collection.prototype.removeBatchByPositions = function(positions) {\n      var len = positions.length;\n      var xo = {};\n      var dlen, didx, idx;\n      var bic=Object.keys(this.binaryIndices).length;\n      var uic=Object.keys(this.constraints.unique).length;\n      var adaptiveOverride = this.adaptiveBinaryIndices && Object.keys(this.binaryIndices).length > 0;\n      var doc, self=this;\n\n      try {\n        this.startTransaction();\n\n        // create hashobject for positional removal inclusion tests...\n        // all keys defined in this hashobject represent $loki ids of the documents to remove.\n        for(idx=0; idx < len; idx++) {\n          xo[this.idIndex[positions[idx]]] = true;\n        }\n\n        // if we will need to notify dynamic views and/or binary indices to update themselves...\n        dlen = this.DynamicViews.length;\n        if ((dlen > 0) || (bic > 0) || (uic > 0)) {\n          if (dlen > 0) {\n            // notify dynamic views to remove relevant documents at data positions\n            for (didx = 0; didx < dlen; didx++) {\n              // notify dv of remove (passing batch/array of positions)\n              this.DynamicViews[didx].removeDocument(positions);\n            }\n          }\n\n          // notify binary indices to update\n          if (this.adaptiveBinaryIndices && !adaptiveOverride) {\n            // for each binary index defined in collection, immediately update rather than flag for lazy rebuild\n            var key, bIndices = this.binaryIndices;\n\n            for (key in bIndices) {\n              this.adaptiveBinaryIndexRemove(positions, key);\n            }\n          }\n          else {\n            this.flagBinaryIndexesDirty();\n          }\n\n          if (uic) {\n            Object.keys(this.constraints.unique).forEach(function (key) {\n              for(idx=0; idx < len; idx++) {\n                doc = self.data[positions[idx]];\n                if (doc[key] !== null && doc[key] !== undefined) {\n                  self.constraints.unique[key].remove(doc[key]);\n                }\n              }\n            });\n          }\n        }\n\n        // emit 'delete' events only of listeners are attached.\n        // since data not removed yet, in future we can emit single delete event with array...\n        // for now that might be breaking change to put in potential 1.6 or LokiDB (lokijs2) version\n        if (!this.disableChangesApi || this.events.delete.length > 1) {\n          for(idx=0; idx < len; idx++) {\n            this.emit('delete', this.data[positions[idx]]);\n          }\n        }\n\n        // remove from data[] :\n        // filter collection data for items not in inclusion hashobject\n        this.data = this.data.filter(function(obj) {\n          return !xo[obj.$loki];\n        });\n\n        // remove from idIndex[] :\n        // filter idIndex for items not in inclusion hashobject\n        this.idIndex = this.idIndex.filter(function(id) {\n            return !xo[id];\n        });\n\n        if (this.adaptiveBinaryIndices && adaptiveOverride) {\n          this.adaptiveBinaryIndices = false;\n          this.ensureAllIndexes(true);\n          this.adaptiveBinaryIndices = true;\n        }\n\n        this.commit();\n\n        // flag collection as dirty for autosave\n        this.dirty = true;\n      } \n      catch (err) {\n        this.rollback();\n        if (adaptiveOverride) {\n          this.adaptiveBinaryIndices = true;\n        }\n        this.console.error(err.message);\n        this.emit('error', err);\n        return null;\n      }      \n    };\n\n    /**\n     *  Internal method called by remove()\n     * @param {object[]|number[]} batch - array of documents or $loki ids to remove\n     */\n    Collection.prototype.removeBatch = function(batch) {\n      var len = batch.length, \n        dlen=this.data.length, \n        idx;\n      var xlt = {};\n      var posx = [];\n      \n      // create lookup hashobject to translate $loki id to position\n      for (idx=0; idx < dlen; idx++) {\n        xlt[this.data[idx].$loki] = idx;\n      }\n\n      // iterate the batch\n      for (idx=0; idx < len; idx++) {\n        if (typeof(batch[idx]) === 'object') {\n          posx.push(xlt[batch[idx].$loki]);\n        }\n        else {\n          posx.push(xlt[batch[idx]]);\n        }\n      }\n\n      this.removeBatchByPositions(posx);\n    };\n\n    /**\n     * Remove a document from the collection\n     * @param {object} doc - document to remove from collection\n     * @memberof Collection\n     */\n    Collection.prototype.remove = function (doc) {\n      if (typeof doc === 'number') {\n        doc = this.get(doc);\n      }\n\n      if ('object' !== typeof doc) {\n        throw new Error('Parameter is not an object');\n      }\n      if (Array.isArray(doc)) {\n        this.removeBatch(doc);\n        return;\n      }\n\n      if (!hasOwnProperty.call(doc, '$loki')) {\n        throw new Error('Object is not a document stored in the collection');\n      }\n\n      try {\n        this.startTransaction();\n        var arr = this.get(doc.$loki, true),\n          // obj = arr[0],\n          position = arr[1];\n        var self = this;\n        Object.keys(this.constraints.unique).forEach(function (key) {\n          if (doc[key] !== null && typeof doc[key] !== 'undefined') {\n            self.constraints.unique[key].remove(doc[key]);\n          }\n        });\n        // now that we can efficiently determine the data[] position of newly added document,\n        // submit it for all registered DynamicViews to remove\n        for (var idx = 0; idx < this.DynamicViews.length; idx++) {\n          this.DynamicViews[idx].removeDocument(position);\n        }\n\n        if (this.adaptiveBinaryIndices) {\n          // for each binary index defined in collection, immediately update rather than flag for lazy rebuild\n          var key, bIndices = this.binaryIndices;\n          for (key in bIndices) {\n            this.adaptiveBinaryIndexRemove(position, key);\n          }\n        }\n        else {\n          this.flagBinaryIndexesDirty();\n        }\n\n        this.data.splice(position, 1);\n        this.removeAutoUpdateObserver(doc);\n\n        // remove id from idIndex\n        this.idIndex.splice(position, 1);\n\n        this.commit();\n        this.dirty = true; // for autosave scenarios\n        this.emit('delete', arr[0]);\n        delete doc.$loki;\n        delete doc.meta;\n        return doc;\n\n      } catch (err) {\n        this.rollback();\n        this.console.error(err.message);\n        this.emit('error', err);\n        return null;\n      }\n    };\n\n    /*---------------------+\n    | Finding methods     |\n    +----------------------*/\n\n    /**\n     * Get by Id - faster than other methods because of the searching algorithm\n     * @param {int} id - $loki id of document you want to retrieve\n     * @param {boolean} returnPosition - if 'true' we will return [object, position]\n     * @returns {(object|array|null)} Object reference if document was found, null if not,\n     *     or an array if 'returnPosition' was passed.\n     * @memberof Collection\n     */\n    Collection.prototype.get = function (id, returnPosition) {\n      var retpos = returnPosition || false,\n        data = this.idIndex,\n        max = data.length - 1,\n        min = 0,\n        mid = (min + max) >> 1;\n\n      id = typeof id === 'number' ? id : parseInt(id, 10);\n\n      if (isNaN(id)) {\n        throw new TypeError('Passed id is not an integer');\n      }\n\n      while (data[min] < data[max]) {\n        mid = (min + max) >> 1;\n\n        if (data[mid] < id) {\n          min = mid + 1;\n        } else {\n          max = mid;\n        }\n      }\n\n      if (max === min && data[min] === id) {\n        if (retpos) {\n          return [this.data[min], min];\n        }\n        return this.data[min];\n      }\n      return null;\n\n    };\n\n    /**\n     * Perform binary range lookup for the data[dataPosition][binaryIndexName] property value\n     *    Since multiple documents may contain the same value (which the index is sorted on),\n     *    we hone in on range and then linear scan range to find exact index array position.\n     * @param {int} dataPosition : coll.data array index/position\n     * @param {string} binaryIndexName : index to search for dataPosition in\n     */\n    Collection.prototype.getBinaryIndexPosition = function(dataPosition, binaryIndexName) {\n      var val = Utils.getIn(this.data[dataPosition], binaryIndexName, true);\n      var index = this.binaryIndices[binaryIndexName].values;\n\n      // i think calculateRange can probably be moved to collection\n      // as it doesn't seem to need resultset.  need to verify\n      var range = this.calculateRange(\"$eq\", binaryIndexName, val);\n\n      if (range[0] === 0 && range[1] === -1) {\n        // uhoh didn't find range\n        return null;\n      }\n\n      var min = range[0];\n      var max = range[1];\n\n      // narrow down the sub-segment of index values\n      // where the indexed property value exactly matches our\n      // value and then linear scan to find exact -index- position\n      for(var idx = min; idx <= max; idx++) {\n        if (index[idx] === dataPosition) return idx;\n      }\n\n      // uhoh\n      return null;\n    };\n\n    /**\n     * Adaptively insert a selected item to the index.\n     * @param {int} dataPosition : coll.data array index/position\n     * @param {string} binaryIndexName : index to search for dataPosition in\n     */\n    Collection.prototype.adaptiveBinaryIndexInsert = function(dataPosition, binaryIndexName) {\n      var usingDotNotation = (binaryIndexName.indexOf('.') !== -1);\n      var index = this.binaryIndices[binaryIndexName].values;\n      var val = Utils.getIn(this.data[dataPosition], binaryIndexName, usingDotNotation);\n\n      // If you are inserting a javascript Date value into a binary index, convert to epoch time\n      if (this.serializableIndices === true && val instanceof Date) {\n        this.data[dataPosition][binaryIndexName] = val.getTime();\n        val = Utils.getIn(this.data[dataPosition], binaryIndexName);\n      }\n\n      var idxPos = (index.length === 0)?0:this.calculateRangeStart(binaryIndexName, val, true, usingDotNotation);\n\n      // insert new data index into our binary index at the proper sorted location for relevant property calculated by idxPos.\n      // doing this after adjusting dataPositions so no clash with previous item at that position.\n      this.binaryIndices[binaryIndexName].values.splice(idxPos, 0, dataPosition);\n    };\n\n    /**\n     * Adaptively update a selected item within an index.\n     * @param {int} dataPosition : coll.data array index/position\n     * @param {string} binaryIndexName : index to search for dataPosition in\n     */\n    Collection.prototype.adaptiveBinaryIndexUpdate = function(dataPosition, binaryIndexName) {\n      // linear scan needed to find old position within index unless we optimize for clone scenarios later\n      // within (my) node 5.6.0, the following for() loop with strict compare is -much- faster than indexOf()\n      var idxPos,\n        index = this.binaryIndices[binaryIndexName].values,\n        len=index.length;\n\n      for(idxPos=0; idxPos < len; idxPos++) {\n        if (index[idxPos] === dataPosition) break;\n      }\n\n      //var idxPos = this.binaryIndices[binaryIndexName].values.indexOf(dataPosition);\n      this.binaryIndices[binaryIndexName].values.splice(idxPos, 1);\n\n      //this.adaptiveBinaryIndexRemove(dataPosition, binaryIndexName, true);\n      this.adaptiveBinaryIndexInsert(dataPosition, binaryIndexName);\n    };\n\n    /**\n     * Adaptively remove a selected item from the index.\n     * @param {number|number[]} dataPosition : coll.data array index/position\n     * @param {string} binaryIndexName : index to search for dataPosition in\n     */\n    Collection.prototype.adaptiveBinaryIndexRemove = function(dataPosition, binaryIndexName, removedFromIndexOnly) {\n      var bi = this.binaryIndices[binaryIndexName];\n      var len, idx, rmidx, rmlen, rxo = {};\n      var curr, shift, idxPos;\n\n      if (Array.isArray(dataPosition)) {\n        // when called from chained remove, and only one document in array,\n        // it will be faster to use old algorithm\n        rmlen = dataPosition.length;\n        if (rmlen === 1) {\n          dataPosition = dataPosition[0];\n        }\n        // we were passed an array (batch) of documents so use this 'batch optimized' algorithm\n        else {\n          for(rmidx=0;rmidx<rmlen; rmidx++) {\n            rxo[dataPosition[rmidx]] = true;\n          }\n    \n          // remove document from index (with filter function)\n          bi.values = bi.values.filter(function(di) { return !rxo[di]; });\n    \n          // if we passed this optional flag parameter, we are calling from adaptiveBinaryIndexUpdate,\n          // in which case data positions stay the same.\n          if (removedFromIndexOnly === true) {\n            return;\n          }\n    \n          var sortedPositions = dataPosition.slice();\n          sortedPositions.sort(function (a, b) { return a-b; });\n    \n          // to remove holes, we need to 'shift down' the index's data array positions\n          // we need to adjust array positions -1 for each index data positions greater than removed positions\n          len = bi.values.length;\n          for (idx=0; idx<len; idx++) {\n            curr=bi.values[idx];\n            shift=0;\n            for(rmidx=0; rmidx<rmlen && curr > sortedPositions[rmidx]; rmidx++) {\n                shift++;\n            }\n            bi.values[idx]-=shift;\n          }\n\n          // batch processed, bail out\n          return;\n        }\n\n        // not a batch so continue...\n      }\n\n      idxPos = this.getBinaryIndexPosition(dataPosition, binaryIndexName);\n\n      if (idxPos === null) {\n        // throw new Error('unable to determine binary index position');\n        return null;\n      }\n\n      // remove document from index (with splice)\n      bi.values.splice(idxPos, 1);\n\n      // if we passed this optional flag parameter, we are calling from adaptiveBinaryIndexUpdate,\n      // in which case data positions stay the same.\n      if (removedFromIndexOnly === true) {\n        return;\n      }\n\n      // since index stores data array positions, if we remove a document\n      // we need to adjust array positions -1 for all document positions greater than removed position\n      len = bi.values.length;\n      for (idx = 0; idx < len; idx++) {\n        if (bi.values[idx] > dataPosition) {\n          bi.values[idx]--;\n        }\n      }\n    };\n\n    /**\n     * Internal method used for index maintenance and indexed searching.\n     * Calculates the beginning of an index range for a given value.\n     * For index maintainance (adaptive:true), we will return a valid index position to insert to.\n     * For querying (adaptive:false/undefined), we will :\n     *    return lower bound/index of range of that value (if found)\n     *    return next lower index position if not found (hole)\n     * If index is empty it is assumed to be handled at higher level, so\n     * this method assumes there is at least 1 document in index.\n     *\n     * @param {string} prop - name of property which has binary index\n     * @param {any} val - value to find within index\n     * @param {bool?} adaptive - if true, we will return insert position\n     */\n    Collection.prototype.calculateRangeStart = function (prop, val, adaptive, usingDotNotation) {\n      var rcd = this.data;\n      var index = this.binaryIndices[prop].values;\n      var min = 0;\n      var max = index.length - 1;\n      var mid = 0;\n\n      if (index.length === 0) {\n        return -1;\n      }\n\n      var minVal = Utils.getIn(rcd[index[min]], prop, usingDotNotation);\n      var maxVal = Utils.getIn(rcd[index[max]], prop, usingDotNotation);\n\n      // hone in on start position of value\n      while (min < max) {\n        mid = (min + max) >> 1;\n\n        if (Comparators.lt(Utils.getIn(rcd[index[mid]], prop, usingDotNotation), val, false)) {\n          min = mid + 1;\n        } else {\n          max = mid;\n        }\n      }\n\n      var lbound = min;\n\n      // found it... return it\n      if (Comparators.aeq(val, Utils.getIn(rcd[index[lbound]], prop, usingDotNotation))) {\n        return lbound;\n      }\n\n      // if not in index and our value is less than the found one\n      if (Comparators.lt(val, Utils.getIn(rcd[index[lbound]], prop, usingDotNotation), false)) {\n        return adaptive?lbound:lbound-1;\n      }\n\n      // not in index and our value is greater than the found one\n      return adaptive?lbound+1:lbound;\n    };\n\n    /**\n     * Internal method used for indexed $between.  Given a prop (index name), and a value\n     * (which may or may not yet exist) this will find the final position of that upper range value.\n     */\n    Collection.prototype.calculateRangeEnd = function (prop, val, usingDotNotation) {\n      var rcd = this.data;\n      var index = this.binaryIndices[prop].values;\n      var min = 0;\n      var max = index.length - 1;\n      var mid = 0;\n\n      if (index.length === 0) {\n        return -1;\n      }\n\n      var minVal = Utils.getIn(rcd[index[min]], prop, usingDotNotation);\n      var maxVal = Utils.getIn(rcd[index[max]], prop, usingDotNotation);\n\n      // hone in on start position of value\n      while (min < max) {\n        mid = (min + max) >> 1;\n\n        if (Comparators.lt(val, Utils.getIn(rcd[index[mid]], prop, usingDotNotation), false)) {\n          max = mid;\n        } else {\n          min = mid + 1;\n        }\n      }\n\n      var ubound = max;\n\n      // only eq if last element in array is our val\n      if (Comparators.aeq(val, Utils.getIn(rcd[index[ubound]], prop, usingDotNotation))) {\n        return ubound;\n      }\n\n       // if not in index and our value is less than the found one\n      if (Comparators.gt(val, Utils.getIn(rcd[index[ubound]], prop, usingDotNotation), false)) {\n        return ubound+1;\n      }\n\n      // either hole or first nonmatch\n      if (Comparators.aeq(val, Utils.getIn(rcd[index[ubound-1]], prop, usingDotNotation))) {\n        return ubound-1;\n      }\n\n      // hole, so ubound if nearest gt than the val we were looking for\n      return ubound;\n    };\n\n    /**\n     * calculateRange() - Binary Search utility method to find range/segment of values matching criteria.\n     *    this is used for collection.find() and first find filter of resultset/dynview\n     *    slightly different than get() binary search in that get() hones in on 1 value,\n     *    but we have to hone in on many (range)\n     * @param {string} op - operation, such as $eq\n     * @param {string} prop - name of property to calculate range for\n     * @param {object} val - value to use for range calculation.\n     * @returns {array} [start, end] index array positions\n     */\n    Collection.prototype.calculateRange = function (op, prop, val) {\n      var rcd = this.data;\n      var index = this.binaryIndices[prop].values;\n      var min = 0;\n      var max = index.length - 1;\n      var mid = 0;\n      var lbound, lval;\n      var ubound, uval;\n\n      // when no documents are in collection, return empty range condition\n      if (rcd.length === 0) {\n        return [0, -1];\n      }\n\n      var usingDotNotation = (prop.indexOf('.') !== -1);\n\n      var minVal = Utils.getIn(rcd[index[min]], prop, usingDotNotation);\n      var maxVal = Utils.getIn(rcd[index[max]], prop, usingDotNotation);\n\n      // if value falls outside of our range return [0, -1] to designate no results\n      switch (op) {\n      case '$eq':\n      case '$aeq':\n        if (Comparators.lt(val, minVal, false) || Comparators.gt(val, maxVal, false)) {\n          return [0, -1];\n        }\n        break;\n      case '$dteq':\n        if (Comparators.lt(val, minVal, false) || Comparators.gt(val, maxVal, false)) {\n          return [0, -1];\n        }\n        break;\n      case '$gt':\n        // none are within range\n        if (Comparators.gt(val, maxVal, true)) {\n          return [0, -1];\n        }\n        // all are within range\n        if (Comparators.gt(minVal, val, false)) {\n          return [min, max];\n        }\n        break;\n      case '$gte':\n        // none are within range\n        if (Comparators.gt(val, maxVal, false)) {\n          return [0, -1];\n        }\n        // all are within range\n        if (Comparators.gt(minVal, val, true)) {\n            return [min, max];\n        }\n        break;\n      case '$lt':\n        // none are within range\n        if (Comparators.lt(val, minVal, true)) {\n          return [0, -1];\n        }\n        // all are within range\n        if (Comparators.lt(maxVal, val, false)) {\n          return [min, max];\n        }\n        break;\n      case '$lte':\n        // none are within range\n        if (Comparators.lt(val, minVal, false)) {\n          return [0, -1];\n        }\n        // all are within range\n        if (Comparators.lt(maxVal, val, true)) {\n          return [min, max];\n        }\n        break;\n      case '$between':\n        // none are within range (low range is greater)\n        if (Comparators.gt(val[0], maxVal, false)) {\n          return [0, -1];\n        }\n        // none are within range (high range lower)\n        if (Comparators.lt(val[1], minVal, false)) {\n          return [0, -1];\n        }\n\n        lbound = this.calculateRangeStart(prop, val[0], false, usingDotNotation);\n        ubound = this.calculateRangeEnd(prop, val[1], usingDotNotation);\n\n        if (lbound < 0) lbound++;\n        if (ubound > max) ubound--;\n\n        if (!Comparators.gt(Utils.getIn(rcd[index[lbound]], prop, usingDotNotation), val[0], true)) lbound++;\n        if (!Comparators.lt(Utils.getIn(rcd[index[ubound]], prop, usingDotNotation), val[1], true)) ubound--;\n\n        if (ubound < lbound) return [0, -1];\n\n        return ([lbound, ubound]);\n      case '$in':\n        var idxset = [],\n          segResult = [];\n        // query each value '$eq' operator and merge the seqment results.\n        for (var j = 0, len = val.length; j < len; j++) {\n            var seg = this.calculateRange('$eq', prop, val[j]);\n\n            for (var i = seg[0]; i <= seg[1]; i++) {\n                if (idxset[i] === undefined) {\n                    idxset[i] = true;\n                    segResult.push(i);\n                }\n            }\n        }\n        return segResult;\n      }\n\n      // determine lbound where needed\n      switch (op) {\n        case '$eq':\n        case '$aeq':\n        case '$dteq':\n        case '$gte':\n        case '$lt':\n        lbound = this.calculateRangeStart(prop, val, false, usingDotNotation);\n        lval = Utils.getIn(rcd[index[lbound]], prop, usingDotNotation);\n          break;\n        default: break;\n      }\n\n      // determine ubound where needed\n      switch (op) {\n        case '$eq':\n        case '$aeq':\n        case '$dteq':\n        case '$lte':\n        case '$gt':\n          ubound = this.calculateRangeEnd(prop, val, usingDotNotation);\n          uval = Utils.getIn(rcd[index[ubound]], prop, usingDotNotation);\n          break;\n        default: break;\n      }\n\n\n      switch (op) {\n      case '$eq':\n      case '$aeq':\n      case '$dteq':\n        // if hole (not found)\n        if (!Comparators.aeq(lval, val)) {\n          return [0, -1];\n        }\n\n        return [lbound, ubound];\n\n      case '$gt':\n        // if hole (not found) ub position is already greater\n        if (!Comparators.aeq(Utils.getIn(rcd[index[ubound]], prop, usingDotNotation), val)) {\n          return [ubound, max];\n        }\n        // otherwise (found) so ubound is still equal, get next\n        return [ubound+1, max];\n\n      case '$gte':\n        // if hole (not found) lb position marks left outside of range\n        if (!Comparators.aeq(Utils.getIn(rcd[index[lbound]], prop, usingDotNotation), val)) {\n          return [lbound+1, max];\n        }\n        // otherwise (found) so lb is first position where its equal\n        return [lbound, max];\n\n      case '$lt':\n        // if hole (not found) position already is less than\n        if (!Comparators.aeq(Utils.getIn(rcd[index[lbound]], prop, usingDotNotation), val)) {\n          return [min, lbound];\n        }\n        // otherwise (found) so lb marks left inside of eq range, get previous\n        return [min, lbound-1];\n\n      case '$lte':\n        // if hole (not found) ub position marks right outside so get previous\n        if (!Comparators.aeq(Utils.getIn(rcd[index[ubound]], prop, usingDotNotation), val)) {\n          return [min, ubound-1];\n        }\n        // otherwise (found) so ub is last position where its still equal\n        return [min, ubound];\n\n      default:\n        return [0, rcd.length - 1];\n      }\n    };\n\n    /**\n     * Retrieve doc by Unique index\n     * @param {string} field - name of uniquely indexed property to use when doing lookup\n     * @param {value} value - unique value to search for\n     * @returns {object} document matching the value passed\n     * @memberof Collection\n     */\n    Collection.prototype.by = function (field, value) {\n      var self;\n      if (value === undefined) {\n        self = this;\n        return function (value) {\n          return self.by(field, value);\n        };\n      }\n\n      var result = this.constraints.unique[field].get(value);\n      if (!this.cloneObjects) {\n        return result;\n      } else {\n        return clone(result, this.cloneMethod);\n      }\n    };\n\n    /**\n     * Find one object by index property, by property equal to value\n     * @param {object} query - query object used to perform search with\n     * @returns {(object|null)} First matching document, or null if none\n     * @memberof Collection\n     */\n    Collection.prototype.findOne = function (query) {\n      query = query || {};\n\n      // Instantiate Resultset and exec find op passing firstOnly = true param\n      var result = this.chain().find(query,true).data();\n\n      if (Array.isArray(result) && result.length === 0) {\n        return null;\n      } else {\n        if (!this.cloneObjects) {\n          return result[0];\n        } else {\n          return clone(result[0], this.cloneMethod);\n        }\n      }\n    };\n\n    /**\n     * Chain method, used for beginning a series of chained find() and/or view() operations\n     * on a collection.\n     *\n     * @param {string|array=} transform - named transform or array of transform steps\n     * @param {object=} parameters - Object containing properties representing parameters to substitute\n     * @returns {Resultset} (this) resultset, or data array if any map or join functions where called\n     * @memberof Collection\n     */\n    Collection.prototype.chain = function (transform, parameters) {\n      var rs = new Resultset(this);\n\n      if (typeof transform === 'undefined') {\n        return rs;\n      }\n\n      return rs.transform(transform, parameters);\n    };\n\n    /**\n     * Find method, api is similar to mongodb.\n     * for more complex queries use [chain()]{@link Collection#chain} or [where()]{@link Collection#where}.\n     * @example {@tutorial Query Examples}\n     * @param {object} query - 'mongo-like' query object\n     * @returns {array} Array of matching documents\n     * @memberof Collection\n     */\n    Collection.prototype.find = function (query) {\n      return this.chain().find(query).data();\n    };\n\n    /**\n     * Find object by unindexed field by property equal to value,\n     * simply iterates and returns the first element matching the query\n     */\n    Collection.prototype.findOneUnindexed = function (prop, value) {\n      var i = this.data.length,\n        doc;\n      while (i--) {\n        if (Utils.getIn(this.data[i], prop, true) === value) {\n          doc = this.data[i];\n          return doc;\n        }\n      }\n      return null;\n    };\n\n    /**\n     * Transaction methods\n     */\n\n    /** start the transation */\n    Collection.prototype.startTransaction = function () {\n      if (this.transactional) {\n        this.cachedData = clone(this.data, this.cloneMethod);\n        this.cachedIndex = this.idIndex;\n        this.cachedBinaryIndex = this.binaryIndices;\n\n        // propagate startTransaction to dynamic views\n        for (var idx = 0; idx < this.DynamicViews.length; idx++) {\n          this.DynamicViews[idx].startTransaction();\n        }\n      }\n    };\n\n    /** commit the transation */\n    Collection.prototype.commit = function () {\n      if (this.transactional) {\n        this.cachedData = null;\n        this.cachedIndex = null;\n        this.cachedBinaryIndex = null;\n\n        // propagate commit to dynamic views\n        for (var idx = 0; idx < this.DynamicViews.length; idx++) {\n          this.DynamicViews[idx].commit();\n        }\n      }\n    };\n\n    /** roll back the transation */\n    Collection.prototype.rollback = function () {\n      if (this.transactional) {\n        if (this.cachedData !== null && this.cachedIndex !== null) {\n          this.data = this.cachedData;\n          this.idIndex = this.cachedIndex;\n          this.binaryIndices = this.cachedBinaryIndex;\n        }\n\n        // propagate rollback to dynamic views\n        for (var idx = 0; idx < this.DynamicViews.length; idx++) {\n          this.DynamicViews[idx].rollback();\n        }\n      }\n    };\n\n    // async executor. This is only to enable callbacks at the end of the execution.\n    Collection.prototype.async = function (fun, callback) {\n      setTimeout(function () {\n        if (typeof fun === 'function') {\n          fun();\n          callback();\n        } else {\n          throw new TypeError('Argument passed for async execution is not a function');\n        }\n      }, 0);\n    };\n\n    /**\n     * Query the collection by supplying a javascript filter function.\n     * @example\n     * var results = coll.where(function(obj) {\n     *   return obj.legs === 8;\n     * });\n     *\n     * @param {function} fun - filter function to run against all collection docs\n     * @returns {array} all documents which pass your filter function\n     * @memberof Collection\n     */\n    Collection.prototype.where = function (fun) {\n      return this.chain().where(fun).data();\n    };\n\n    /**\n     * Map Reduce operation\n     *\n     * @param {function} mapFunction - function to use as map function\n     * @param {function} reduceFunction - function to use as reduce function\n     * @returns {data} The result of your mapReduce operation\n     * @memberof Collection\n     */\n    Collection.prototype.mapReduce = function (mapFunction, reduceFunction) {\n      try {\n        return reduceFunction(this.data.map(mapFunction));\n      } catch (err) {\n        throw err;\n      }\n    };\n\n    /**\n     * Join two collections on specified properties\n     *\n     * @param {array|Resultset|Collection} joinData - array of documents to 'join' to this collection\n     * @param {string} leftJoinProp - property name in collection\n     * @param {string} rightJoinProp - property name in joinData\n     * @param {function=} mapFun - (Optional) map function to use\n     * @param {object=} dataOptions - options to data() before input to your map function\n     * @param {bool} dataOptions.removeMeta - allows removing meta before calling mapFun\n     * @param {boolean} dataOptions.forceClones - forcing the return of cloned objects to your map object\n     * @param {string} dataOptions.forceCloneMethod - Allows overriding the default or collection specified cloning method.\n     * @returns {Resultset} Result of the mapping operation\n     * @memberof Collection\n     */\n    Collection.prototype.eqJoin = function (joinData, leftJoinProp, rightJoinProp, mapFun, dataOptions) {\n      // logic in Resultset class\n      return new Resultset(this).eqJoin(joinData, leftJoinProp, rightJoinProp, mapFun, dataOptions);\n    };\n\n    /* ------ STAGING API -------- */\n    /**\n     * stages: a map of uniquely identified 'stages', which hold copies of objects to be\n     * manipulated without affecting the data in the original collection\n     */\n    Collection.prototype.stages = {};\n\n    /**\n     * (Staging API) create a stage and/or retrieve it\n     * @memberof Collection\n     */\n    Collection.prototype.getStage = function (name) {\n      if (!this.stages[name]) {\n        this.stages[name] = {};\n      }\n      return this.stages[name];\n    };\n    /**\n     * a collection of objects recording the changes applied through a commmitStage\n     */\n    Collection.prototype.commitLog = [];\n\n    /**\n     * (Staging API) create a copy of an object and insert it into a stage\n     * @memberof Collection\n     */\n    Collection.prototype.stage = function (stageName, obj) {\n      var copy = JSON.parse(JSON.stringify(obj));\n      this.getStage(stageName)[obj.$loki] = copy;\n      return copy;\n    };\n\n    /**\n     * (Staging API) re-attach all objects to the original collection, so indexes and views can be rebuilt\n     * then create a message to be inserted in the commitlog\n     * @param {string} stageName - name of stage\n     * @param {string} message\n     * @memberof Collection\n     */\n    Collection.prototype.commitStage = function (stageName, message) {\n      var stage = this.getStage(stageName),\n        prop,\n        timestamp = new Date().getTime();\n\n      for (prop in stage) {\n\n        this.update(stage[prop]);\n        this.commitLog.push({\n          timestamp: timestamp,\n          message: message,\n          data: JSON.parse(JSON.stringify(stage[prop]))\n        });\n      }\n      this.stages[stageName] = {};\n    };\n\n    Collection.prototype.no_op = function () {\n      return;\n    };\n\n    /**\n     * @memberof Collection\n     */\n    Collection.prototype.extract = function (field) {\n      var i = 0,\n        len = this.data.length,\n        isDotNotation = isDeepProperty(field),\n        result = [];\n      for (i; i < len; i += 1) {\n        result.push(deepProperty(this.data[i], field, isDotNotation));\n      }\n      return result;\n    };\n\n    /**\n     * @memberof Collection\n     */\n    Collection.prototype.max = function (field) {\n      return Math.max.apply(null, this.extract(field));\n    };\n\n    /**\n     * @memberof Collection\n     */\n    Collection.prototype.min = function (field) {\n      return Math.min.apply(null, this.extract(field));\n    };\n\n    /**\n     * @memberof Collection\n     */\n    Collection.prototype.maxRecord = function (field) {\n      var i = 0,\n        len = this.data.length,\n        deep = isDeepProperty(field),\n        result = {\n          index: 0,\n          value: undefined\n        },\n        max;\n\n      for (i; i < len; i += 1) {\n        if (max !== undefined) {\n          if (max < deepProperty(this.data[i], field, deep)) {\n            max = deepProperty(this.data[i], field, deep);\n            result.index = this.data[i].$loki;\n          }\n        } else {\n          max = deepProperty(this.data[i], field, deep);\n          result.index = this.data[i].$loki;\n        }\n      }\n      result.value = max;\n      return result;\n    };\n\n    /**\n     * @memberof Collection\n     */\n    Collection.prototype.minRecord = function (field) {\n      var i = 0,\n        len = this.data.length,\n        deep = isDeepProperty(field),\n        result = {\n          index: 0,\n          value: undefined\n        },\n        min;\n\n      for (i; i < len; i += 1) {\n        if (min !== undefined) {\n          if (min > deepProperty(this.data[i], field, deep)) {\n            min = deepProperty(this.data[i], field, deep);\n            result.index = this.data[i].$loki;\n          }\n        } else {\n          min = deepProperty(this.data[i], field, deep);\n          result.index = this.data[i].$loki;\n        }\n      }\n      result.value = min;\n      return result;\n    };\n\n    /**\n     * @memberof Collection\n     */\n    Collection.prototype.extractNumerical = function (field) {\n      return this.extract(field).map(parseBase10).filter(Number).filter(function (n) {\n        return !(isNaN(n));\n      });\n    };\n\n    /**\n     * Calculates the average numerical value of a property\n     *\n     * @param {string} field - name of property in docs to average\n     * @returns {number} average of property in all docs in the collection\n     * @memberof Collection\n     */\n    Collection.prototype.avg = function (field) {\n      return average(this.extractNumerical(field));\n    };\n\n    /**\n     * Calculate standard deviation of a field\n     * @memberof Collection\n     * @param {string} field\n     */\n    Collection.prototype.stdDev = function (field) {\n      return standardDeviation(this.extractNumerical(field));\n    };\n\n    /**\n     * @memberof Collection\n     * @param {string} field\n     */\n    Collection.prototype.mode = function (field) {\n      var dict = {},\n        data = this.extract(field);\n      data.forEach(function (obj) {\n        if (dict[obj]) {\n          dict[obj] += 1;\n        } else {\n          dict[obj] = 1;\n        }\n      });\n      var max,\n        prop, mode;\n      for (prop in dict) {\n        if (max) {\n          if (max < dict[prop]) {\n            mode = prop;\n          }\n        } else {\n          mode = prop;\n          max = dict[prop];\n        }\n      }\n      return mode;\n    };\n\n    /**\n     * @memberof Collection\n     * @param {string} field - property name\n     */\n    Collection.prototype.median = function (field) {\n      var values = this.extractNumerical(field);\n      values.sort(sub);\n\n      var half = Math.floor(values.length / 2);\n\n      if (values.length % 2) {\n        return values[half];\n      } else {\n        return (values[half - 1] + values[half]) / 2.0;\n      }\n    };\n\n    /**\n     * General utils, including statistical functions\n     */\n    function isDeepProperty(field) {\n      return field.indexOf('.') !== -1;\n    }\n\n    function parseBase10(num) {\n      return parseFloat(num, 10);\n    }\n\n    function isNotUndefined(obj) {\n      return obj !== undefined;\n    }\n\n    function add(a, b) {\n      return a + b;\n    }\n\n    function sub(a, b) {\n      return a - b;\n    }\n\n    function median(values) {\n      values.sort(sub);\n      var half = Math.floor(values.length / 2);\n      return (values.length % 2) ? values[half] : ((values[half - 1] + values[half]) / 2.0);\n    }\n\n    function average(array) {\n      return (array.reduce(add, 0)) / array.length;\n    }\n\n    function standardDeviation(values) {\n      var avg = average(values);\n      var squareDiffs = values.map(function (value) {\n        var diff = value - avg;\n        var sqrDiff = diff * diff;\n        return sqrDiff;\n      });\n\n      var avgSquareDiff = average(squareDiffs);\n\n      var stdDev = Math.sqrt(avgSquareDiff);\n      return stdDev;\n    }\n\n    function deepProperty(obj, property, isDeep) {\n      if (isDeep === false) {\n        // pass without processing\n        return obj[property];\n      }\n      var pieces = property.split('.'),\n        root = obj;\n      while (pieces.length > 0) {\n        root = root[pieces.shift()];\n      }\n      return root;\n    }\n\n    function binarySearch(array, item, fun) {\n      var lo = 0,\n        hi = array.length,\n        compared,\n        mid;\n      while (lo < hi) {\n        mid = (lo + hi) >> 1;\n        compared = fun.apply(null, [item, array[mid]]);\n        if (compared === 0) {\n          return {\n            found: true,\n            index: mid\n          };\n        } else if (compared < 0) {\n          hi = mid;\n        } else {\n          lo = mid + 1;\n        }\n      }\n      return {\n        found: false,\n        index: hi\n      };\n    }\n\n    function BSonSort(fun) {\n      return function (array, item) {\n        return binarySearch(array, item, fun);\n      };\n    }\n\n    function KeyValueStore() {}\n\n    KeyValueStore.prototype = {\n      keys: [],\n      values: [],\n      sort: function (a, b) {\n        return (a < b) ? -1 : ((a > b) ? 1 : 0);\n      },\n      setSort: function (fun) {\n        this.bs = new BSonSort(fun);\n      },\n      bs: function () {\n        return new BSonSort(this.sort);\n      },\n      set: function (key, value) {\n        var pos = this.bs(this.keys, key);\n        if (pos.found) {\n          this.values[pos.index] = value;\n        } else {\n          this.keys.splice(pos.index, 0, key);\n          this.values.splice(pos.index, 0, value);\n        }\n      },\n      get: function (key) {\n        return this.values[binarySearch(this.keys, key, this.sort).index];\n      }\n    };\n\n    function UniqueIndex(uniqueField) {\n      this.field = uniqueField;\n      this.keyMap = {};\n      this.lokiMap = {};\n    }\n    UniqueIndex.prototype.keyMap = {};\n    UniqueIndex.prototype.lokiMap = {};\n    UniqueIndex.prototype.set = function (obj) {\n      var fieldValue = obj[this.field];\n      if (fieldValue !== null && typeof (fieldValue) !== 'undefined') {\n        if (this.keyMap[fieldValue]) {\n          throw new Error('Duplicate key for property ' + this.field + ': ' + fieldValue);\n        } else {\n          this.keyMap[fieldValue] = obj;\n          this.lokiMap[obj.$loki] = fieldValue;\n        }\n      }\n    };\n    UniqueIndex.prototype.get = function (key) {\n      return this.keyMap[key];\n    };\n\n    UniqueIndex.prototype.byId = function (id) {\n      return this.keyMap[this.lokiMap[id]];\n    };\n    /**\n     * Updates a document's unique index given an updated object.\n     * @param  {Object} obj Original document object\n     * @param  {Object} doc New document object (likely the same as obj)\n     */\n    UniqueIndex.prototype.update = function (obj, doc) {\n      if (this.lokiMap[obj.$loki] !== doc[this.field]) {\n        var old = this.lokiMap[obj.$loki];\n        this.set(doc);\n        // make the old key fail bool test, while avoiding the use of delete (mem-leak prone)\n        this.keyMap[old] = undefined;\n      } else {\n        this.keyMap[obj[this.field]] = doc;\n      }\n    };\n    UniqueIndex.prototype.remove = function (key) {\n      var obj = this.keyMap[key];\n      if (obj !== null && typeof obj !== 'undefined') {\n        this.keyMap[key] = undefined;\n        this.lokiMap[obj.$loki] = undefined;\n      } else {\n        throw new Error('Key is not in unique index: ' + this.field);\n      }\n    };\n    UniqueIndex.prototype.clear = function () {\n      this.keyMap = {};\n      this.lokiMap = {};\n    };\n\n    function ExactIndex(exactField) {\n      this.index = {};\n      this.field = exactField;\n    }\n\n    // add the value you want returned to the key in the index\n    ExactIndex.prototype = {\n      set: function add(key, val) {\n        if (this.index[key]) {\n          this.index[key].push(val);\n        } else {\n          this.index[key] = [val];\n        }\n      },\n\n      // remove the value from the index, if the value was the last one, remove the key\n      remove: function remove(key, val) {\n        var idxSet = this.index[key];\n        for (var i in idxSet) {\n          if (idxSet[i] == val) {\n            idxSet.splice(i, 1);\n          }\n        }\n        if (idxSet.length < 1) {\n          this.index[key] = undefined;\n        }\n      },\n\n      // get the values related to the key, could be more than one\n      get: function get(key) {\n        return this.index[key];\n      },\n\n      // clear will zap the index\n      clear: function clear(key) {\n        this.index = {};\n      }\n    };\n\n    function SortedIndex(sortedField) {\n      this.field = sortedField;\n    }\n\n    SortedIndex.prototype = {\n      keys: [],\n      values: [],\n      // set the default sort\n      sort: function (a, b) {\n        return (a < b) ? -1 : ((a > b) ? 1 : 0);\n      },\n      bs: function () {\n        return new BSonSort(this.sort);\n      },\n      // and allow override of the default sort\n      setSort: function (fun) {\n        this.bs = new BSonSort(fun);\n      },\n      // add the value you want returned  to the key in the index\n      set: function (key, value) {\n        var pos = binarySearch(this.keys, key, this.sort);\n        if (pos.found) {\n          this.values[pos.index].push(value);\n        } else {\n          this.keys.splice(pos.index, 0, key);\n          this.values.splice(pos.index, 0, [value]);\n        }\n      },\n      // get all values which have a key == the given key\n      get: function (key) {\n        var bsr = binarySearch(this.keys, key, this.sort);\n        if (bsr.found) {\n          return this.values[bsr.index];\n        } else {\n          return [];\n        }\n      },\n      // get all values which have a key < the given key\n      getLt: function (key) {\n        var bsr = binarySearch(this.keys, key, this.sort);\n        var pos = bsr.index;\n        if (bsr.found) pos--;\n        return this.getAll(key, 0, pos);\n      },\n      // get all values which have a key > the given key\n      getGt: function (key) {\n        var bsr = binarySearch(this.keys, key, this.sort);\n        var pos = bsr.index;\n        if (bsr.found) pos++;\n        return this.getAll(key, pos, this.keys.length);\n      },\n\n      // get all vals from start to end\n      getAll: function (key, start, end) {\n        var results = [];\n        for (var i = start; i < end; i++) {\n          results = results.concat(this.values[i]);\n        }\n        return results;\n      },\n      // just in case someone wants to do something smart with ranges\n      getPos: function (key) {\n        return binarySearch(this.keys, key, this.sort);\n      },\n      // remove the value from the index, if the value was the last one, remove the key\n      remove: function (key, value) {\n        var pos = binarySearch(this.keys, key, this.sort).index;\n        var idxSet = this.values[pos];\n        for (var i in idxSet) {\n          if (idxSet[i] == value) idxSet.splice(i, 1);\n        }\n        if (idxSet.length < 1) {\n          this.keys.splice(pos, 1);\n          this.values.splice(pos, 1);\n        }\n      },\n      // clear will zap the index\n      clear: function () {\n        this.keys = [];\n        this.values = [];\n      }\n    };\n\n\n    Loki.LokiOps = LokiOps;\n    Loki.Collection = Collection;\n    Loki.KeyValueStore = KeyValueStore;\n    Loki.LokiMemoryAdapter = LokiMemoryAdapter;\n    Loki.LokiPartitioningAdapter = LokiPartitioningAdapter;\n    Loki.LokiLocalStorageAdapter = LokiLocalStorageAdapter;\n    Loki.LokiFsAdapter = LokiFsAdapter;\n    Loki.persistenceAdapters = {\n      fs: LokiFsAdapter,\n      localStorage: LokiLocalStorageAdapter\n    };\n    Loki.aeq = aeqHelper;\n    Loki.lt = ltHelper;\n    Loki.gt = gtHelper;\n    Loki.Comparators = Comparators;\n    return Loki;\n  }());\n\n}));\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(0), __webpack_require__(6)))\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/* eslint-disable no-unused-vars */\nvar Utilities = function () {\n  /**\n   * Deep clones a JS object using JSON.parse\n   * This function will not clone object\n   * functions\n   * @param {Object} object\n   */\n  var cloneDeep = function cloneDeep(object) {\n    return JSON.parse(JSON.stringify(object));\n  };\n  /**\n   * Given an Object and its path, if exisits it will\n   * return the value of it, if not the default\n   * @param {Object} obj\n   * @param {String} path\n   * @param {*} def\n   */\n  var get = function get(fn, def) {\n    try {\n      return fn();\n    } catch (e) {\n      return def;\n    }\n  };\n  /**\n   *\n   * @param {*} obj\n   * @param {*} path\n   * @param {*} def\n   */\n  var getFromPath = function getFromPath(obj, path, def) {\n    var _path = path;\n\n    if (path.includes(' as ')) {\n      path = path.split(' as ');\n      _path = path[0];\n    }\n\n    var assignedName = get(function () {\n      return Array.isArray(path) && path[1].trim();\n    }, undefined);\n\n    var fullPath = _path.replace(/\\[/g, '.').replace(/]/g, '').split('.').filter(Boolean).map(function (e) {\n      return e.trim();\n    });\n\n    function everyFunc(step) {\n      return !(step && (obj = obj[step]) === undefined);\n    }\n\n    var result = fullPath.every(everyFunc) ? obj : def;\n\n    return { label: assignedName || _path, value: result };\n  };\n  /**\n   *\n   * @param {*} arr\n   * @param {*} predicate\n   */\n  var uniqBy = function uniqBy(arr, predicate) {\n    var cb = typeof predicate === 'function' ? predicate : function (o) {\n      return o[predicate];\n    };\n\n    return [].concat(_toConsumableArray(arr.reduce(function (map, item) {\n      var key = cb(item);\n\n      map.has(key) || map.set(key, item);\n\n      return map;\n    }, new Map()).values()));\n  };\n  /**\n   *\n   */\n  var orderBy = function orderBy() {};\n  /**\n   *\n   * @param {*} value\n   */\n  var isEmpty = function isEmpty(value) {\n    if (!value) {\n      return true;\n    }\n    if (Array.isArray(value) || typeof value === 'string') {\n      return !value.length;\n    }\n    for (var key in value) {\n      if (hasOwnProperty.call(value, key)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  /**\n   *\n   * @param {*} fn\n   * @param {*} time\n   */\n  var debounce = function debounce(fn, time) {\n    var timeout = void 0;\n\n    return function () {\n      var _this = this,\n          _arguments = arguments;\n\n      var functionCall = function functionCall() {\n        return fn.apply(_this, _arguments);\n      };\n\n      clearTimeout(timeout);\n      timeout = setTimeout(functionCall, time);\n    };\n  };\n  /**\n   * Recursively removes all NULL values\n   * from an Object or an Array\n   *\n   * @static\n   * @param {Array|Object} object Array, Object to clean\n   * @returns {Array|Object} returns the cleaned value\n   */\n  var deleteNulls = function deleteNulls(object) {\n    var obj = object;\n    var isArray = obj instanceof Array;\n\n    for (var k in obj) {\n      if (obj[k] === null) isArray ? obj.splice(k, 1) : delete obj[k];else if (_typeof(obj[k]) === 'object') deleteNulls(obj[k]);\n    }\n    return obj;\n  };\n\n  var eachComponent = function eachComponent(components, fn, includeAll, path, parent) {\n    if (!components) return;\n    path = path || '';\n    components.forEach(function (component) {\n      if (!component) {\n        return;\n      }\n      var hasColumns = component.columns && Array.isArray(component.columns);\n      var hasRows = component.rows && Array.isArray(component.rows);\n      var hasComps = component.components && Array.isArray(component.components);\n      var noRecurse = false;\n      var newPath = component.key ? path ? path + '.' + component.key : component.key : '';\n\n      // Keep track of parent references.\n      if (parent) {\n        // Ensure we don't create infinite JSON structures.\n        component.parent = _extends({}, parent);\n        delete component.parent.components;\n        delete component.parent.componentMap;\n        delete component.parent.columns;\n        delete component.parent.rows;\n      }\n\n      if (includeAll || component.tree || !hasColumns && !hasRows && !hasComps) {\n        noRecurse = fn(component, newPath);\n      }\n\n      var subPath = function subPath() {\n        if (component.key && !['panel', 'table', 'well', 'columns', 'fieldset', 'tabs', 'form'].includes(component.type) && (['datagrid', 'container', 'editgrid'].includes(component.type) || component.tree)) {\n          return newPath;\n        } else if (component.key && component.type === 'form') {\n          return newPath + '.data';\n        }\n        return path;\n      };\n\n      if (!noRecurse) {\n        if (hasColumns) {\n          component.columns.forEach(function (column) {\n            return eachComponent(column.components, fn, includeAll, subPath(), parent ? component : null);\n          });\n        } else if (hasRows) {\n          component.rows.forEach(function (row) {\n            if (Array.isArray(row)) {\n              row.forEach(function (column) {\n                return eachComponent(column.components, fn, includeAll, subPath(), parent ? component : null);\n              });\n            }\n          });\n        } else if (hasComps) {\n          eachComponent(component.components, fn, includeAll, subPath(), parent ? component : null);\n        }\n      }\n    });\n  };\n\n  var matchComponent = function matchComponent(component, query) {\n    if (typeof query === 'string') {\n      return component.key === query;\n    }\n    var matches = false;\n\n    Object.keys(query).forEach(function (path) {\n      matches = getFromPath(component, path).value === query[path];\n      if (!matches) {\n        return false;\n      }\n    });\n    return matches;\n  };\n\n  var findComponents = function findComponents(components, query) {\n    var results = [];\n\n    eachComponent(components, function (component, path) {\n      if (matchComponent(component, query)) {\n        component.path = path;\n        results.push(component);\n      }\n    }, true);\n    return results;\n  };\n\n  var unixDate = function unixDate() {\n    return Math.round(+new Date() / 1000);\n  };\n\n  return Object.freeze({\n    cloneDeep: cloneDeep,\n    get: get,\n    orderBy: orderBy,\n    isEmpty: isEmpty,\n    debounce: debounce,\n    getFromPath: getFromPath,\n    deleteNulls: deleteNulls,\n    eachComponent: eachComponent,\n    findComponents: findComponents,\n    unixDate: unixDate\n  });\n}();\n\nexports.default = Utilities;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar rng = __webpack_require__(10);\nvar bytesToUuid = __webpack_require__(11);\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (( false ? undefined : _typeof2(exports)) === 'object' && ( false ? undefined : _typeof2(module)) === 'object') module.exports = factory();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else {}\n})(undefined, function () {\n  return (/******/function (modules) {\n      // webpackBootstrap\n      /******/ // The module cache\n      /******/var installedModules = {};\n      /******/\n      /******/ // The require function\n      /******/function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/if (installedModules[moduleId]) {\n          /******/return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/ // Create a new module (and put it into the cache)\n        /******/var module = installedModules[moduleId] = {\n          /******/i: moduleId,\n          /******/l: false,\n          /******/exports: {}\n          /******/ };\n        /******/\n        /******/ // Execute the module function\n        /******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/module.l = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/return module.exports;\n        /******/\n      }\n      /******/\n      /******/\n      /******/ // expose the modules object (__webpack_modules__)\n      /******/__webpack_require__.m = modules;\n      /******/\n      /******/ // expose the module cache\n      /******/__webpack_require__.c = installedModules;\n      /******/\n      /******/ // define getter function for harmony exports\n      /******/__webpack_require__.d = function (exports, name, getter) {\n        /******/if (!__webpack_require__.o(exports, name)) {\n          /******/Object.defineProperty(exports, name, { enumerable: true, get: getter });\n          /******/\n        }\n        /******/\n      };\n      /******/\n      /******/ // define __esModule on exports\n      /******/__webpack_require__.r = function (exports) {\n        /******/if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n          /******/\n        }\n        /******/Object.defineProperty(exports, '__esModule', { value: true });\n        /******/\n      };\n      /******/\n      /******/ // create a fake namespace object\n      /******/ // mode & 1: value is a module id, require it\n      /******/ // mode & 2: merge all properties of value into the ns\n      /******/ // mode & 4: return value when already ns object\n      /******/ // mode & 8|1: behave like require\n      /******/__webpack_require__.t = function (value, mode) {\n        /******/if (mode & 1) value = __webpack_require__(value);\n        /******/if (mode & 8) return value;\n        /******/if (mode & 4 && (typeof value === 'undefined' ? 'undefined' : _typeof2(value)) === 'object' && value && value.__esModule) return value;\n        /******/var ns = Object.create(null);\n        /******/__webpack_require__.r(ns);\n        /******/Object.defineProperty(ns, 'default', { enumerable: true, value: value });\n        /******/if (mode & 2 && typeof value != 'string') for (var key in value) {\n          __webpack_require__.d(ns, key, function (key) {\n            return value[key];\n          }.bind(null, key));\n        } /******/return ns;\n        /******/\n      };\n      /******/\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\n      /******/__webpack_require__.n = function (module) {\n        /******/var getter = module && module.__esModule ?\n        /******/function getDefault() {\n          return module['default'];\n        } :\n        /******/function getModuleExports() {\n          return module;\n        };\n        /******/__webpack_require__.d(getter, 'a', getter);\n        /******/return getter;\n        /******/\n      };\n      /******/\n      /******/ // Object.prototype.hasOwnProperty.call\n      /******/__webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n      /******/ // __webpack_public_path__\n      /******/__webpack_require__.p = \"\";\n      /******/\n      /******/\n      /******/ // Load entry module and return exports\n      /******/return __webpack_require__(__webpack_require__.s = 13);\n      /******/\n    }(\n    /************************************************************************/\n    /******/[\n    /* 0 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var compose = __webpack_require__(2);\n      var Shortcut = __webpack_require__(17);\n      var isStamp = __webpack_require__(6);\n      var isString = __webpack_require__(18);\n      var isObject = __webpack_require__(1);\n      var isFunction = __webpack_require__(3);\n      var merge = __webpack_require__(8);\n      var assign = __webpack_require__(7);\n\n      var concat = Array.prototype.concat;\n      function extractFunctions() {\n        var fns = concat.apply([], arguments).filter(isFunction);\n        return fns.length === 0 ? undefined : fns;\n      }\n\n      function standardiseDescriptor(descr) {\n        if (!isObject(descr)) return descr;\n\n        var methods = descr.methods;\n        var properties = descr.properties;\n        var props = descr.props;\n        var initializers = descr.initializers;\n        var init = descr.init;\n        var composers = descr.composers;\n        var deepProperties = descr.deepProperties;\n        var deepProps = descr.deepProps;\n        var pd = descr.propertyDescriptors;\n        var staticProperties = descr.staticProperties;\n        var statics = descr.statics;\n        var staticDeepProperties = descr.staticDeepProperties;\n        var deepStatics = descr.deepStatics;\n        var configuration = descr.configuration;\n        var conf = descr.conf;\n        var deepConfiguration = descr.deepConfiguration;\n        var deepConf = descr.deepConf;\n\n        var p = isObject(props) || isObject(properties) ? assign({}, props, properties) : undefined;\n\n        var dp = isObject(deepProps) ? merge({}, deepProps) : undefined;\n        dp = isObject(deepProperties) ? merge(dp, deepProperties) : dp;\n\n        var sp = isObject(statics) || isObject(staticProperties) ? assign({}, statics, staticProperties) : undefined;\n\n        var sdp = isObject(deepStatics) ? merge({}, deepStatics) : undefined;\n        sdp = isObject(staticDeepProperties) ? merge(sdp, staticDeepProperties) : sdp;\n\n        var spd = descr.staticPropertyDescriptors;\n        if (isString(descr.name)) spd = assign({}, spd || {}, { name: { value: descr.name } });\n\n        var c = isObject(conf) || isObject(configuration) ? assign({}, conf, configuration) : undefined;\n\n        var dc = isObject(deepConf) ? merge({}, deepConf) : undefined;\n        dc = isObject(deepConfiguration) ? merge(dc, deepConfiguration) : dc;\n\n        var ii = extractFunctions(init, initializers);\n\n        var cc = extractFunctions(composers);\n\n        var descriptor = {};\n        if (methods) descriptor.methods = methods;\n        if (p) descriptor.properties = p;\n        if (ii) descriptor.initializers = ii;\n        if (cc) descriptor.composers = cc;\n        if (dp) descriptor.deepProperties = dp;\n        if (sp) descriptor.staticProperties = sp;\n        if (sdp) descriptor.staticDeepProperties = sdp;\n        if (pd) descriptor.propertyDescriptors = pd;\n        if (spd) descriptor.staticPropertyDescriptors = spd;\n        if (c) descriptor.configuration = c;\n        if (dc) descriptor.deepConfiguration = dc;\n\n        return descriptor;\n      }\n\n      function stampit() {\n        'use strict'; // to make sure `this` is not pointing to `global` or `window`\n\n        var length = arguments.length,\n            args = [];\n        for (var i = 0; i < length; i += 1) {\n          var arg = arguments[i];\n          args.push(isStamp(arg) ? arg : standardiseDescriptor(arg));\n        }\n\n        return compose.apply(this || baseStampit, args); // jshint ignore:line\n      }\n\n      var baseStampit = Shortcut.compose({\n        staticProperties: {\n          create: function create() {\n            return this.apply(this, arguments);\n          },\n          compose: stampit // infecting\n        }\n      });\n\n      var shortcuts = Shortcut.compose.staticProperties;\n      for (var prop in shortcuts) {\n        stampit[prop] = shortcuts[prop].bind(baseStampit);\n      }stampit.compose = stampit.bind();\n\n      module.exports = stampit;\n\n      /***/\n    },\n    /* 1 */\n    /***/function (module, exports) {\n\n      module.exports = function isObject(arg) {\n        var type = typeof arg === 'undefined' ? 'undefined' : _typeof2(arg);\n        return Boolean(arg) && (type === 'object' || type === 'function');\n      };\n\n      /***/\n    },\n    /* 2 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var isArray = __webpack_require__(5);\n      var isFunction = __webpack_require__(3);\n      var isObject = __webpack_require__(1);\n      var isStamp = __webpack_require__(6);\n      var isComposable = __webpack_require__(15);\n\n      var assign = __webpack_require__(7);\n      var merge = __webpack_require__(8);\n\n      var slice = Array.prototype.slice;\n\n      /**\n       * Creates new factory instance.\n       * @returns {Function} The new factory function.\n       */\n      function createFactory() {\n        return function Stamp(options) {\n          var descriptor = Stamp.compose || {};\n          // Next line was optimized for most JS VMs. Please, be careful here!\n          var obj = { __proto__: descriptor.methods }; // jshint ignore:line\n\n          merge(obj, descriptor.deepProperties);\n          assign(obj, descriptor.properties);\n          Object.defineProperties(obj, descriptor.propertyDescriptors || {});\n\n          if (!descriptor.initializers || descriptor.initializers.length === 0) return obj;\n\n          if (options === undefined) options = {};\n          var inits = descriptor.initializers;\n          var length = inits.length;\n          for (var i = 0; i < length; i += 1) {\n            var initializer = inits[i];\n            if (isFunction(initializer)) {\n              var returnedValue = initializer.call(obj, options, { instance: obj, stamp: Stamp, args: slice.apply(arguments) });\n              obj = returnedValue === undefined ? obj : returnedValue;\n            }\n          }\n\n          return obj;\n        };\n      }\n\n      /**\n       * Returns a new stamp given a descriptor and a compose function implementation.\n       * @param {Descriptor} [descriptor={}] The information about the object the stamp will be creating.\n       * @param {Compose} composeFunction The \"compose\" function implementation.\n       * @returns {Stamp}\n       */\n      function createStamp(descriptor, composeFunction) {\n        var Stamp = createFactory();\n\n        if (descriptor.staticDeepProperties) {\n          merge(Stamp, descriptor.staticDeepProperties);\n        }\n        if (descriptor.staticProperties) {\n          assign(Stamp, descriptor.staticProperties);\n        }\n        if (descriptor.staticPropertyDescriptors) {\n          Object.defineProperties(Stamp, descriptor.staticPropertyDescriptors);\n        }\n\n        var composeImplementation = isFunction(Stamp.compose) ? Stamp.compose : composeFunction;\n        Stamp.compose = function _compose() {\n          'use strict'; // to make sure `this` is not pointing to `global` or `window`\n\n          return composeImplementation.apply(this, arguments);\n        };\n        assign(Stamp.compose, descriptor);\n\n        return Stamp;\n      }\n\n      function concatAssignFunctions(dstObject, srcArray, propName) {\n        if (!isArray(srcArray)) return;\n\n        var length = srcArray.length;\n        var dstArray = dstObject[propName] || [];\n        dstObject[propName] = dstArray;\n        for (var i = 0; i < length; i += 1) {\n          var fn = srcArray[i];\n          if (isFunction(fn) && dstArray.indexOf(fn) < 0) {\n            dstArray.push(fn);\n          }\n        }\n      }\n\n      function combineProperties(dstObject, srcObject, propName, action) {\n        if (!isObject(srcObject[propName])) return;\n        if (!isObject(dstObject[propName])) dstObject[propName] = {};\n        action(dstObject[propName], srcObject[propName]);\n      }\n\n      function deepMergeAssign(dstObject, srcObject, propName) {\n        combineProperties(dstObject, srcObject, propName, merge);\n      }\n      function mergeAssign(dstObject, srcObject, propName) {\n        combineProperties(dstObject, srcObject, propName, assign);\n      }\n\n      /**\n       * Mutates the dstDescriptor by merging the srcComposable data into it.\n       * @param {Descriptor} dstDescriptor The descriptor object to merge into.\n       * @param {Composable} [srcComposable] The composable\n       * (either descriptor or stamp) to merge data form.\n       */\n      function mergeComposable(dstDescriptor, srcComposable) {\n        var srcDescriptor = srcComposable && srcComposable.compose || srcComposable;\n\n        mergeAssign(dstDescriptor, srcDescriptor, 'methods');\n        mergeAssign(dstDescriptor, srcDescriptor, 'properties');\n        deepMergeAssign(dstDescriptor, srcDescriptor, 'deepProperties');\n        mergeAssign(dstDescriptor, srcDescriptor, 'propertyDescriptors');\n        mergeAssign(dstDescriptor, srcDescriptor, 'staticProperties');\n        deepMergeAssign(dstDescriptor, srcDescriptor, 'staticDeepProperties');\n        mergeAssign(dstDescriptor, srcDescriptor, 'staticPropertyDescriptors');\n        mergeAssign(dstDescriptor, srcDescriptor, 'configuration');\n        deepMergeAssign(dstDescriptor, srcDescriptor, 'deepConfiguration');\n        concatAssignFunctions(dstDescriptor, srcDescriptor.initializers, 'initializers');\n        concatAssignFunctions(dstDescriptor, srcDescriptor.composers, 'composers');\n      }\n\n      /**\n       * Given the list of composables (stamp descriptors and stamps) returns\n       * a new stamp (composable factory function).\n       * @typedef {Function} Compose\n       * @param {...(Composable)} [arguments] The list of composables.\n       * @returns {Stamp} A new stamp (aka composable factory function)\n       */\n      module.exports = function compose() {\n        'use strict'; // to make sure `this` is not pointing to `global` or `window`\n\n        var descriptor = {};\n        var composables = [];\n        if (isComposable(this)) {\n          mergeComposable(descriptor, this);\n          composables.push(this);\n        }\n\n        for (var i = 0; i < arguments.length; i++) {\n          var arg = arguments[i];\n          if (isComposable(arg)) {\n            mergeComposable(descriptor, arg);\n            composables.push(arg);\n          }\n        }\n\n        var stamp = createStamp(descriptor, compose);\n\n        var composers = descriptor.composers;\n        if (isArray(composers) && composers.length > 0) {\n          for (var j = 0; j < composers.length; j += 1) {\n            var composer = composers[j];\n            var returnedValue = composer({ stamp: stamp, composables: composables });\n            stamp = isStamp(returnedValue) ? returnedValue : stamp;\n          }\n        }\n\n        return stamp;\n      };\n\n      /**\n       * The Stamp Descriptor\n       * @typedef {Function|Object} Descriptor\n       * @returns {Stamp} A new stamp based on this Stamp\n       * @property {Object} [methods] Methods or other data used as object instances' prototype\n       * @property {Array<Function>} [initializers] List of initializers called for each object instance\n       * @property {Array<Function>} [composers] List of callbacks called each time a composition happens\n       * @property {Object} [properties] Shallow assigned properties of object instances\n       * @property {Object} [deepProperties] Deeply merged properties of object instances\n       * @property {Object} [staticProperties] Shallow assigned properties of Stamps\n       * @property {Object} [staticDeepProperties] Deeply merged properties of Stamps\n       * @property {Object} [configuration] Shallow assigned properties of Stamp arbitrary metadata\n       * @property {Object} [deepConfiguration] Deeply merged properties of Stamp arbitrary metadata\n       * @property {Object} [propertyDescriptors] ES5 Property Descriptors applied to object instances\n       * @property {Object} [staticPropertyDescriptors] ES5 Property Descriptors applied to Stamps\n       */\n\n      /**\n       * The Stamp factory function\n       * @typedef {Function} Stamp\n       * @returns {*} Instantiated object\n       * @property {Descriptor} compose - The Stamp descriptor and composition function\n       */\n\n      /**\n       * A composable object - stamp or descriptor\n       * @typedef {Stamp|Descriptor} Composable\n       */\n\n      /***/\n    },\n    /* 3 */\n    /***/function (module, exports) {\n\n      module.exports = function isFunction(arg) {\n        return typeof arg === 'function';\n      };\n\n      /***/\n    },\n    /* 4 */\n    /***/function (module, exports) {\n\n      var g;\n\n      // This works in non-strict mode\n      g = function () {\n        return this;\n      }();\n\n      try {\n        // This works if eval is allowed (see CSP)\n        g = g || new Function(\"return this\")();\n      } catch (e) {\n        // This works if the window reference is available\n        if ((typeof window === 'undefined' ? 'undefined' : _typeof2(window)) === \"object\") g = window;\n      }\n\n      // g can still be undefined, but nothing to do about it...\n      // We return undefined, instead of nothing here, so it's\n      // easier to handle this case. if(!global) { ...}\n\n      module.exports = g;\n\n      /***/\n    },\n    /* 5 */\n    /***/function (module, exports) {\n\n      module.exports = Array.isArray;\n\n      /***/\n    },\n    /* 6 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var isFunction = __webpack_require__(3);\n\n      module.exports = function isStamp(arg) {\n        return isFunction(arg) && isFunction(arg.compose);\n      };\n\n      /***/\n    },\n    /* 7 */\n    /***/function (module, exports) {\n\n      module.exports = Object.assign;\n\n      /***/\n    },\n    /* 8 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var isPlainObject = __webpack_require__(16);\n      var isObject = __webpack_require__(1);\n      var isArray = __webpack_require__(5);\n\n      /**\n       * The 'src' argument plays the command role.\n       * The returned values is always of the same type as the 'src'.\n       * @param dst The object to merge into\n       * @param src The object to merge from\n       * @returns {*}\n       */\n      function mergeOne(dst, src) {\n        if (src === undefined) return dst;\n\n        // According to specification arrays must be concatenated.\n        // Also, the '.concat' creates a new array instance. Overrides the 'dst'.\n        if (isArray(src)) return (isArray(dst) ? dst : []).concat(src);\n\n        // Now deal with non plain 'src' object. 'src' overrides 'dst'\n        // Note that functions are also assigned! We do not deep merge functions.\n        if (!isPlainObject(src)) return src;\n\n        // See if 'dst' is allowed to be mutated.\n        // If not - it's overridden with a new plain object.\n        var returnValue = isObject(dst) ? dst : {};\n\n        var keys = Object.keys(src);\n        for (var i = 0; i < keys.length; i += 1) {\n          var key = keys[i];\n\n          var srcValue = src[key];\n          // Do not merge properties with the 'undefined' value.\n          if (srcValue !== undefined) {\n            var dstValue = returnValue[key];\n            // Recursive calls to mergeOne() must allow only plain objects or arrays in dst\n            var newDst = isPlainObject(dstValue) || isArray(srcValue) ? dstValue : {};\n\n            // deep merge each property. Recursion!\n            returnValue[key] = mergeOne(newDst, srcValue);\n          }\n        }\n\n        return returnValue;\n      }\n\n      module.exports = function (dst) {\n        for (var i = 1; i < arguments.length; i++) {\n          dst = mergeOne(dst, arguments[i]);\n        }\n        return dst;\n      };\n\n      /***/\n    },\n    /* 9 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n      /* WEBPACK VAR INJECTION */\n      (function (global) {\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _it = __webpack_require__(0);\n\n        var _it2 = _interopRequireDefault(_it);\n\n        var _privatize = __webpack_require__(19);\n\n        var _privatize2 = _interopRequireDefault(_privatize);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : { default: obj };\n        }\n\n        exports.default = (0, _it2.default)({\n          properties: {\n            name: \"baseModel\",\n            config: {\n              remote: {\n                path: undefined,\n                token: undefined,\n                pullForm: false\n              },\n              local: {\n                connector: \"loki\"\n              },\n              merge: {\n                connector: \"formio-loki\"\n              }\n            }\n          },\n          methods: {\n            /**\n             *\n             */\n            getModelName: function getModelName() {\n              return this.name;\n            },\n\n            /**\n             *\n             */\n            getFluentConfig: function getFluentConfig() {\n              var FLUENT = void 0;\n              if (typeof window !== \"undefined\" && window && window._FLUENT_) {\n                FLUENT = window._FLUENT_;\n              } else if (global && global._FLUENT_) {\n                FLUENT = global._FLUENT_;\n              }\n\n              return FLUENT;\n            },\n\n            /**\n             *\n             * @param {*} connectors\n             * @param {*} type\n             */\n            getConnector: function getConnector(connectors, type) {\n              var connectorName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              if (Array.isArray(connectors)) {\n                return this.getConnectorFromArray(connectors, type, connectorName);\n              }\n\n              if (connectors instanceof Object) {\n                return connectors;\n              }\n\n              return undefined;\n            },\n\n            /**\n             *\n             * @param {*} connectors\n             * @param {*} type\n             */\n            getConnectorFromArray: function getConnectorFromArray(connectors, type) {\n              var _this = this;\n\n              var connectorName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              // Default case\n              if (connectors.length === 1) return connectors[0];\n\n              // If the model assigns specific one\n              if (this.config && this.config[type] && this.config[type].connector) {\n                var Lcon = connectors.find(function (c) {\n                  return c.name === _this.config[type].connector;\n                });\n\n                if (Lcon instanceof Object) return Lcon;\n              }\n\n              // If connectorName is specified\n              if (connectorName) {\n                var _Lcon = connectors.find(function (c) {\n                  return c.name === connectorName;\n                });\n\n                if (_Lcon instanceof Object) return _Lcon;\n              }\n\n              var base = connectors.find(function (c) {\n                return c.default;\n              });\n\n              if (base instanceof Object) return base;\n\n              return undefined;\n            },\n\n            /**\n             * [remote description]\n             * @return {[type]} [description]\n             */\n            remote: function remote() {\n              var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  _ref$token = _ref.token,\n                  token = _ref$token === undefined ? undefined : _ref$token,\n                  _ref$pullForm = _ref.pullForm,\n                  pullForm = _ref$pullForm === undefined ? undefined : _ref$pullForm,\n                  _ref$connectorName = _ref.connectorName,\n                  connectorName = _ref$connectorName === undefined ? undefined : _ref$connectorName,\n                  _ref$path = _ref.path,\n                  path = _ref$path === undefined ? undefined : _ref$path;\n\n              var FLUENT = this.getFluentConfig();\n              var connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.remote;\n\n              if (!connectors) {\n                throw new Error(\"No remote connector was defined. Please define it using Fluent.config()\");\n              }\n\n              var remoteConnector = this.getConnector(connectors, \"remote\", connectorName || false);\n\n              this.config.remote.token = token || this.config.remote.token;\n              this.config.remote.path = path || this.config.remote.path;\n\n              if (pullForm) {\n                this.config.remote.pullForm = pullForm || this.config.remote.pullForm;\n              }\n\n              if (remoteConnector) {\n                return remoteConnector.connector({\n                  remoteConnection: this.config.remote,\n                  connector: remoteConnector\n                });\n              }\n\n              throw new Error(\"No default remote connector found. Please assign one as your default in Fluent.config\");\n            },\n\n            /**\n             * [local description]\n             * @return {[type]} [description]\n             */\n            local: function local() {\n              var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  _ref2$connectorName = _ref2.connectorName,\n                  connectorName = _ref2$connectorName === undefined ? undefined : _ref2$connectorName;\n\n              var FLUENT = this.getFluentConfig();\n              var connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.local;\n\n              if (!connectors) throw new Error(\"No local connector was defined. Please define it using Fluent.config()\");\n\n              var localConnector = this.getConnector(connectors, \"local\", connectorName || false);\n\n              if (localConnector) return localConnector.connector({\n                name: this.name,\n                connector: localConnector\n              });\n\n              throw new Error(\"No default local connector found. Please assign one as your default in Fluent.config\");\n            },\n\n            /**\n             * [local description]\n             * @return {[type]} [description]\n             */\n            merged: function merged() {\n              var local = this.local();\n              var remote = this.remote();\n\n              var FLUENT = this.getFluentConfig();\n              var connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.merge;\n\n              if (!connectors) {\n                throw new Error(\"No merge connector was defined. Please define it using Fluent.config()\");\n              }\n\n              var mergeConnector = this.getConnector(connectors, \"merge\");\n\n              if (mergeConnector) {\n                return mergeConnector.connector({\n                  local: local,\n                  remote: remote,\n                  name: this.name,\n                  connector: mergeConnector\n                });\n              }\n\n              throw new Error(\"No default merge connector found. Please assign one as your default in Fluent.config\");\n            }\n          }\n        }).compose(_privatize2.default);\n        /* WEBPACK VAR INJECTION */\n      }).call(this, __webpack_require__(4));\n\n      /***/\n    },\n    /* 10 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }return target;\n      };\n\n      var _it = __webpack_require__(0);\n\n      var _it2 = _interopRequireDefault(_it);\n\n      var _utilities = __webpack_require__(11);\n\n      var _utilities2 = _interopRequireDefault(_utilities);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      function _asyncToGenerator(fn) {\n        return function () {\n          var gen = fn.apply(this, arguments);return new Promise(function (resolve, reject) {\n            function step(key, arg) {\n              try {\n                var info = gen[key](arg);var value = info.value;\n              } catch (error) {\n                reject(error);return;\n              }if (info.done) {\n                resolve(value);\n              } else {\n                return Promise.resolve(value).then(function (value) {\n                  step(\"next\", value);\n                }, function (err) {\n                  step(\"throw\", err);\n                });\n              }\n            }return step(\"next\");\n          });\n        };\n      }\n\n      function _toConsumableArray(arr) {\n        if (Array.isArray(arr)) {\n          for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n          }return arr2;\n        } else {\n          return Array.from(arr);\n        }\n      }\n\n      exports.default = (0, _it2.default)({\n        init: function init(data) {\n          if (!Array.isArray(data)) {\n            throw new Error('Collect method only accepts arrays of data');\n          }\n          this.data = data;\n        },\n\n        properties: {\n          data: []\n        },\n        methods: {\n          /**\n           * \n           */\n          get: function get() {\n            return this.data;\n          },\n\n          /**\n           * Alias for the \"get\" method\n           * @return function\n           */\n          all: function all() {\n            return this.get();\n          },\n\n          /**\n           * Alias for the \"average\" method.\n           *\n           * @param  {String}  path Path of the key\n           * @return function\n           */\n          avg: function avg(path) {\n            return this.average(path);\n          },\n\n          /**\n           * Get the average value of a given key.\n           *\n           * @param  {String}  path Path of the key\n           * @return static\n           */\n          average: function average() {\n            var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n            var data = [].concat(_toConsumableArray(this.data));\n            var sum = data.reduce(function (acc, element) {\n              var value = element;\n\n              if (element instanceof Object) {\n                var extract = _utilities2.default.getFromPath(element, path, undefined);\n                if (typeof extract !== 'undefined' && extract.value) {\n                  value = extract.value;\n                }\n              }\n              return acc + value;\n            }, 0);\n\n            try {\n              var avg = sum / data.length;\n              return avg;\n            } catch (e) {\n              throw new Error('Division between \"' + sum + '\" and \"' + data.length + '\" is not valid.');\n            }\n          },\n          chunkApply: function chunkApply(size, callback) {\n            var _this = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var totalSize, count, reducer, promiseChain;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      if (!(callback === undefined)) {\n                        _context.next = 2;\n                        break;\n                      }\n\n                      throw new Error('Callback function not defined.');\n\n                    case 2:\n                      totalSize = _this.data.length;\n                      count = 0;\n\n                      _this.chunks(size);\n\n                      // console.log(`Processed ${count}/${totalSize} elements...`);\n\n                      /* for (const chunk of this.data) {\n                        const promises = [];\n                         chunk.forEach((element) => {\n                          promises.push(callback(element, count));\n                          count = count + 1;\n                        });\n                         await Promise.all(promises);\n                         // count = (count + size) > totalSize ? totalSize : count + size;\n                        console.log(`Processed ${count}/${totalSize} elements...`);\n                      } */\n\n                      reducer = function reducer(chain, batch) {\n                        return chain.then(function () {\n                          return Promise.all(batch.map(function (d) {\n                            return callback(d);\n                          }));\n                        }).then(function () {\n                          count = count + size > totalSize ? totalSize : count + size;\n                          console.log('Processed ' + count + '/' + totalSize + ' elements...');\n                        });\n                      };\n\n                      console.log('Processed ' + count + '/' + totalSize + ' elements...');\n                      promiseChain = _this.data.reduce(reducer, Promise.resolve());\n                      return _context.abrupt('return', promiseChain);\n\n                    case 9:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this);\n            }))();\n          },\n\n          /**\n           * Chunks the given array\n           *\n           * @param {Int} size\n           * @return static\n           */\n          chunks: function chunks(size) {\n            var data = [].concat(_toConsumableArray(this.data));\n            var results = [];\n\n            while (data.length) {\n              results.push(data.splice(0, size));\n            }\n\n            this.data = results;\n            return this;\n          },\n\n          /**\n           * \n           */\n          collapse: function collapse() {\n            var data = [].concat(_toConsumableArray(this.data));\n            var results = [];\n\n            data.forEach(function (chunk) {\n              if (Array.isArray(chunk)) {\n                chunk.forEach(function (element) {\n                  results.push(element);\n                });\n              } else {\n                results.push(chunk);\n              }\n            });\n            this.data = results;\n\n            return this;\n          },\n          unChunk: function unChunk() {\n            return this.collapse();\n          },\n          combine: function combine(array) {\n            var data = [].concat(_toConsumableArray(this.data));\n            var result = void 0;\n            data.forEach(function (e, index) {\n              if (!(e instanceof Object)) {\n                if (!result) {\n                  result = {};\n                }\n                result[e] = array[index];\n              } else {\n                if (!result) {\n                  result = [];\n                }\n                result[index] = _extends({}, e, { _value: array[index] });\n              }\n            });\n\n            this.data = result;\n            return this;\n          },\n          concat: function concat(array) {\n            this.data = [].concat(_toConsumableArray(this.data), _toConsumableArray(array));\n            return this;\n          },\n          contains: function contains() {\n            var value = void 0;\n            var path = void 0;\n            var Fx = void 0;\n            if (arguments.length === 1) {\n              if (this.isFunction(arguments.length <= 0 ? undefined : arguments[0])) {\n                Fx = arguments.length <= 0 ? undefined : arguments[0];\n              }\n              value = arguments.length <= 0 ? undefined : arguments[0];\n            } else {\n              value = arguments.length <= 1 ? undefined : arguments[1];\n              path = arguments.length <= 0 ? undefined : arguments[0];\n            }\n            var data = [].concat(_toConsumableArray(this.data));\n\n            return data.some(function (e, index) {\n              if (Fx) {\n                return !!Fx(e, index);\n              }\n              var val = e;\n              if (e instanceof Object) {\n                var extract = _utilities2.default.getFromPath(e, path, undefined);\n                if (extract.value) {\n                  val = extract.value;\n                }\n              }\n              return val === value;\n            });\n          },\n\n          /**\n           * Returns an array of duplicate submissions, based on an array of keys.\n           * @param {Array} keys - Keys where the function compares an object to evaluate its similarity. \n           */\n          duplicatesBy: function duplicatesBy(keys) {\n            var data = [].concat(_toConsumableArray(this.data));\n            var duplicates = [];\n\n            data.reduce(function (object, submission) {\n              var finalKey = keys.reduce(function (string, key) {\n                return string + _utilities2.default.getFromPath(submission, key, '').value;\n              }, '');\n\n              if (object.hasOwnProperty(finalKey)) {\n                duplicates.push(submission);\n              } else {\n                object[finalKey] = true;\n              }\n\n              return object;\n            }, {});\n\n            this.data = duplicates;\n\n            return this;\n          },\n          count: function count() {\n            return this.data.length;\n          },\n          isFunction: function isFunction(functionToCheck) {\n            return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\n          }\n        }\n      });\n\n      /***/\n    },\n    /* 11 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      /* eslint-disable no-unused-vars */\n      var Utilities = function () {\n        /**\n         * Given an Object and its path, if exisits it will\n         * return the value of it, if not the default\n         * @param {Object} obj\n         * @param {String} path\n         * @param {*} def\n         */\n        var get = function get(fn, def) {\n          try {\n            return fn();\n          } catch (e) {\n            return def;\n          }\n        };\n        /**\n         *\n         * @param {*} obj\n         * @param {*} path\n         * @param {*} def\n         */\n        var getFromPath = function getFromPath(obj, path, def) {\n          var _path = path;\n\n          if (path.includes(' as ')) {\n            path = path.split(' as ');\n            _path = path[0];\n          }\n\n          var assignedName = get(function () {\n            return Array.isArray(path) && path[1].trim();\n          }, undefined);\n\n          var fullPath = _path.replace(/\\[/g, '.').replace(/]/g, '').split('.').filter(Boolean).map(function (e) {\n            return e.trim();\n          });\n\n          function everyFunc(step) {\n            return !(step && (obj = obj[step]) === undefined);\n          }\n\n          var result = fullPath.every(everyFunc) ? obj : def;\n\n          return { label: assignedName || _path, value: result };\n        };\n\n        return Object.freeze({\n          get: get,\n          getFromPath: getFromPath\n        });\n      }();\n\n      exports.default = Utilities;\n\n      /***/\n    },\n    /* 12 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n        return typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      };\n\n      var _it = __webpack_require__(0);\n\n      var _it2 = _interopRequireDefault(_it);\n\n      var _utilities = __webpack_require__(11);\n\n      var _utilities2 = _interopRequireDefault(_utilities);\n\n      var _Collection = __webpack_require__(10);\n\n      var _Collection2 = _interopRequireDefault(_Collection);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      function _toConsumableArray(arr) {\n        if (Array.isArray(arr)) {\n          for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n          }return arr2;\n        } else {\n          return Array.from(arr);\n        }\n      }\n\n      function _asyncToGenerator(fn) {\n        return function () {\n          var gen = fn.apply(this, arguments);return new Promise(function (resolve, reject) {\n            function step(key, arg) {\n              try {\n                var info = gen[key](arg);var value = info.value;\n              } catch (error) {\n                reject(error);return;\n              }if (info.done) {\n                resolve(value);\n              } else {\n                return Promise.resolve(value).then(function (value) {\n                  step(\"next\", value);\n                }, function (err) {\n                  step(\"throw\", err);\n                });\n              }\n            }return step(\"next\");\n          });\n        };\n      }\n\n      exports.default = (0, _it2.default)({\n        init: function init(_ref) {\n          var name = _ref.name,\n              remoteConnection = _ref.remoteConnection,\n              connector = _ref.connector;\n\n          if (!name && !remoteConnection) {\n            throw new Error(\"Model must have a name or path\");\n          }\n\n          if (!connector) {\n            throw new Error(\"Model must have a connector. Please register one using Fluent.config\");\n          }\n          this.name = name || this.name;\n          this.remoteConnection = remoteConnection || this.remoteConnection;\n          this.connector = connector || this.connector;\n          this.chainReference = [];\n          this.whereArray = [];\n          this.orWhereArray = [];\n          this.selectArray = [];\n          this.orderByArray = [];\n          this.limitNumber = undefined;\n          this.offsetNumber = undefined;\n          this.populateArray = [];\n          this.chunk = null;\n          this.pullSize = null;\n          this.ownerId = undefined;\n          this.paginator = undefined;\n          this.rawQuery = undefined;\n        },\n\n        properties: {\n          operators: [\"=\", \"<\", \">\", \"<=\", \">=\", \"<>\", \"!=\", \"in\", \"nin\", \"like\", \"regexp\", \"startsWith\", \"endsWith\", \"contains\"]\n        },\n        methods: {\n          /**\n           *\n           */\n          get: function get() {\n            throw new Error(\"get() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          all: function all() {\n            throw new Error(\"all() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          find: function find(id) {\n            throw new Error(\"find() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          findOne: function findOne() {\n            throw new Error(\"findOne() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          remove: function remove() {\n            throw new Error(\"remove() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          softDelete: function softDelete() {\n            throw new Error(\"softDelete() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          insert: function insert() {\n            throw new Error(\"insert() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          update: function update() {\n            throw new Error(\"update() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          clear: function clear() {\n            throw new Error(\"clear() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          updateOrCreate: function updateOrCreate() {\n            throw new Error(\"updateOrCreate() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          findAndRemove: function findAndRemove() {\n            throw new Error(\"findAndRemove() method not implemented\");\n          },\n\n          /**\n           *\n           * @param {*} paginator\n           */\n          paginate: function paginate() {\n            throw new Error(\"paginate() method not implemented\");\n          },\n\n          /**\n           * @param {*} tableView\n           */\n          tableView: function tableView() {\n            throw new Error(\"tableView() method not implemented\");\n          },\n\n          /**\n           * @param {*} raw\n           */\n          raw: function raw() {\n            throw new Error(\"raw() method not implemented\");\n          },\n          owner: function owner(user) {\n            this.chainReference.push({ method: \"owner\", args: user });\n            this.ownerId = user;\n            return this;\n          },\n          own: function own(user) {\n            return this.owner(user);\n          },\n\n          /**\n           * Executes the Get() method and\n           * returns the its first result\n           *\n           * @return {Object} First result\n           */\n          first: function first() {\n            var _this = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var data;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.next = 2;\n                      return _this.get();\n\n                    case 2:\n                      data = _context.sent;\n                      return _context.abrupt(\"return\", _utilities2.default.get(function () {\n                        return data[0];\n                      }, []));\n\n                    case 4:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this);\n            }))();\n          },\n\n          /**\n           *\n           * Gets the data in the current query and\n           * transforms it into a collection\n           * @returns {Collection} Fluent Collection\n           */\n          collect: function collect() {\n            var _this2 = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n              var data;\n              return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                while (1) {\n                  switch (_context2.prev = _context2.next) {\n                    case 0:\n                      _context2.next = 2;\n                      return _this2.get();\n\n                    case 2:\n                      data = _context2.sent;\n\n                      if (Array.isArray(data)) {\n                        _context2.next = 5;\n                        break;\n                      }\n\n                      throw new Error(\"Collect method only accepts arrays of data\");\n\n                    case 5:\n                      return _context2.abrupt(\"return\", (0, _Collection2.default)(data));\n\n                    case 6:\n                    case \"end\":\n                      return _context2.stop();\n                  }\n                }\n              }, _callee2, _this2);\n            }))();\n          },\n\n          /**\n           * Adds the given columns to the SelectArray\n           * to use as column filter for the data\n           *\n           * @param {Array|String} columns The columns to select\n           * @returns {Model} Fluent Model\n           */\n          select: function select() {\n            for (var _len = arguments.length, columns = Array(_len), _key = 0; _key < _len; _key++) {\n              columns[_key] = arguments[_key];\n            }\n\n            columns = this.prepareInput(columns);\n            this.chainReference.push({ method: \"select\", args: columns });\n            this.selectArray = this.selectArray.concat(columns).filter(function (elem, pos, arr) {\n              return arr.indexOf(elem) === pos;\n            });\n\n            return this;\n          },\n\n          /**\n           * Maps the given Data to show only those fields\n           * explicitly detailed on the Select function\n           *\n           * @param {Array} data Data from local or remote DB\n           * @returns {Array} Formatted data with the selected columns\n           */\n          jsApplySelect: function jsApplySelect(data) {\n            var _this3 = this;\n\n            var _data = Array.isArray(data) ? [].concat(_toConsumableArray(data)) : [data];\n\n            if (this.selectArray.length > 0) {\n              _data = _data.map(function (element) {\n                var newElement = {};\n\n                _this3.selectArray.forEach(function (attribute) {\n                  var extract = _utilities2.default.getFromPath(element, attribute, undefined);\n\n                  var value = _utilities2.default.get(function () {\n                    return extract.value;\n                  }, undefined);\n\n                  if (typeof value !== \"undefined\") {\n                    if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\" && value.hasOwnProperty(\"data\") && value.data.hasOwnProperty(\"name\")) {\n                      newElement[extract.label] = value.data.name;\n                    } else {\n                      newElement[extract.label] = value;\n                    }\n                  }\n                });\n\n                return newElement;\n              });\n            }\n\n            return _data;\n          },\n\n          /**\n           *  Sets the offset number for\n           *  the given query\n           *\n           * @param {int} offset The given offset\n           * @returns {Model} Fluent Model\n           */\n          offset: function offset(_offset) {\n            this.chainReference.push({ method: \"offset\", args: _offset });\n            this.offsetNumber = _offset;\n            return this;\n          },\n\n          /**\n           *  Sets the relations to be\n           *  loded with the query\n           *\n           * @param {int} offset The given offset\n           * @returns {Model} Fluent Model\n           */\n          populate: function populate() {\n            for (var _len2 = arguments.length, relations = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              relations[_key2] = arguments[_key2];\n            }\n\n            this.chainReference.push({ method: \"relations\", args: relations });\n            this.populateArray = relations;\n            return this;\n          },\n\n          /**\n           *  Alias for the offset methods\n           *\n           * @param {int} offset the given offset\n           */\n          skip: function skip(offset) {\n            return this.offset(offset);\n          },\n\n          /**\n           *  Adds where filters to the query\n           *  whereArray\n           * @param {String|Array} args Where filters\n           * @returns {Model} Fluent Model\n           */\n          where: function where() {\n            var _this4 = this;\n\n            for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n              args[_key3] = arguments[_key3];\n            }\n\n            this.chainReference.push({ method: \"where\", args: args });\n            this.whereArray = [];\n            args = Array.isArray(args[0]) ? args : [args];\n            args.forEach(function (arg) {\n              if (arg.length !== 3) {\n                throw new Error('There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' + JSON.stringify(arg) + '\" ');\n              }\n              _this4.whereArray.push(arg);\n            });\n            return this;\n          },\n\n          /**\n           * Pushes where filters with AND condition\n           * to the whereArray\n           *\n           * @param {String|Array} args Where filters\n           * @returns {Model} Fluent Model\n           */\n          andWhere: function andWhere() {\n            var _this5 = this;\n\n            for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n              args[_key4] = arguments[_key4];\n            }\n\n            this.chainReference.push({ method: \"andWhere\", args: args });\n            args = Array.isArray(args[0]) ? args : [args];\n            args.forEach(function (arg) {\n              if (arg.length !== 3) {\n                throw new Error('There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' + JSON.stringify(arg) + '\" ');\n              }\n              _this5.whereArray.push(arg);\n            });\n            return this;\n          },\n\n          /**\n           * Pushes where filter with OR condition\n           * to the orWhereArray\n           *\n           * @param {String|Array} args OR where filters\n           * @returns {Model} Fluent Model\n           */\n          orWhere: function orWhere() {\n            var _this6 = this;\n\n            for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n              args[_key5] = arguments[_key5];\n            }\n\n            this.chainReference.push({ method: \"orWhere\", args: args });\n            args = Array.isArray(args[0]) ? args : [args];\n            args.forEach(function (arg) {\n              if (arg.length !== 3) {\n                throw new Error('There orWhere clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' + JSON.stringify(arg) + '\" ');\n              }\n              _this6.orWhereArray.push(arg);\n            });\n            return this;\n          },\n\n          /**\n           * Limits the number of results for the\n           * given query\n           * @param {int} limit limit number\n           * @returns {Model} Fluent Model\n           */\n          limit: function limit(_limit) {\n            this.chainReference.push({ method: \"limit\", args: _limit });\n            this.limitNumber = _limit;\n            return this;\n          },\n\n          /**\n           * Alias for the limit method\n           *\n           * @param {*} limit limit number\n           * @returns {Model} Fluent Model\n           */\n          take: function take(limit) {\n            return this.limit(limit);\n          },\n\n          /**\n           * Gets all values for a given KEY\n           * @param {String} keyPath The path to the key\n           * @returns {Array}\n           */\n          pluck: function pluck(keyPath) {\n            var _this7 = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n              var data;\n              return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                while (1) {\n                  switch (_context3.prev = _context3.next) {\n                    case 0:\n                      _this7.chainReference.push({ method: \"pluck\", args: keyPath });\n                      _context3.next = 3;\n                      return _this7.get();\n\n                    case 3:\n                      data = _context3.sent;\n\n                      data = data.map(function (e) {\n                        var extracted = _utilities2.default.getFromPath(e, keyPath, undefined);\n\n                        if (typeof extracted.value !== \"undefined\") {\n                          return extracted.value;\n                        }\n                      });\n                      return _context3.abrupt(\"return\", data);\n\n                    case 6:\n                    case \"end\":\n                      return _context3.stop();\n                  }\n                }\n              }, _callee3, _this7);\n            }))();\n          },\n\n          /**\n           *\n           * @param {*} args\n           */\n          orderBy: function orderBy() {\n            for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n              args[_key6] = arguments[_key6];\n            }\n\n            this.chainReference.push({ method: \"orderBy\", args: args });\n            this.orderByArray = args;\n            return this;\n          },\n\n          /**\n           *\n           * @param {*} data\n           */\n          jsApplyOrderBy: function jsApplyOrderBy(data) {\n            var _data = [].concat(_toConsumableArray(data));\n\n            if (this.orderByArray.length === 0) {\n              return _data;\n            }\n            var field = this.orderByArray[0];\n\n            if (this.selectArray.length > 0 && (field.includes(\".\") || field.includes(\"[\"))) {\n              throw new Error('Cannot orderBy nested attribute \"' + field + '\" when using Select. You must rename the attribute');\n            }\n\n            var order = this.orderByArray[1];\n            var type = this.orderByArray[2];\n\n            if (!type) {\n              type = \"string\";\n            }\n\n            _data = _data.sort(function (a, b) {\n              var A = _utilities2.default.getFromPath(a, field, undefined).value;\n              var B = _utilities2.default.getFromPath(b, field, undefined).value;\n\n              if (typeof A === \"undefined\" || typeof B === \"undefined\") {\n                throw new Error('Cannot order by property \"' + field + '\" not all values have this property');\n              }\n              // For default order and numbers\n              if (type.includes(\"string\") || type.includes(\"number\")) {\n                if (order === \"asc\") {\n                  return A > B ? 1 : A < B ? -1 : 0;\n                }\n                return A > B ? -1 : A < B ? 1 : 0;\n              } else if (type.includes(\"date\")) {\n                if (order === \"asc\") {\n                  return new Date(A) - new Date(B);\n                }\n                return new Date(B) - new Date(A);\n              }\n            });\n            return _data;\n          },\n\n          /**\n           *\n           * @param {*} input\n           */\n          prepareInput: function prepareInput(input) {\n            var cols = [];\n\n            input.forEach(function (item) {\n              var value = Array.isArray(item) ? item : item.split(\",\");\n\n              value = value.map(function (e) {\n                return e.trim();\n              });\n              cols = cols.concat(value);\n            });\n\n            cols.filter(function (elem, pos, arr) {\n              return arr.indexOf(elem) === pos;\n            });\n\n            return cols;\n          },\n          ArrayInsert: function ArrayInsert(dataArray, options) {\n            var _this8 = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n              var initial, length, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, element, a;\n\n              return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                while (1) {\n                  switch (_context4.prev = _context4.next) {\n                    case 0:\n                      initial = 1;\n                      length = dataArray.length;\n                      _iteratorNormalCompletion = true;\n                      _didIteratorError = false;\n                      _iteratorError = undefined;\n                      _context4.prev = 5;\n                      _iterator = dataArray[Symbol.iterator]();\n\n                    case 7:\n                      if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n                        _context4.next = 26;\n                        break;\n                      }\n\n                      element = _step.value;\n\n                      if (options && options.showProgress) {\n                        console.log(\"Inserting \" + initial + \" of \" + length);\n                      }\n                      _context4.prev = 10;\n                      _context4.next = 13;\n                      return _this8.insert(element, options);\n\n                    case 13:\n                      a = _context4.sent;\n\n                      if (options && options.showProgress) {\n                        console.log(\"Element \" + initial + \" inserted\");\n                      }\n                      initial++;\n                      _context4.next = 23;\n                      break;\n\n                    case 18:\n                      _context4.prev = 18;\n                      _context4.t0 = _context4[\"catch\"](10);\n\n                      console.log(\"ERROR - Element \" + initial + \" - \" + JSON.stringify(element) + \" could not be inserted\");\n                      console.log(_context4.t0);\n                      initial++;\n\n                    case 23:\n                      _iteratorNormalCompletion = true;\n                      _context4.next = 7;\n                      break;\n\n                    case 26:\n                      _context4.next = 32;\n                      break;\n\n                    case 28:\n                      _context4.prev = 28;\n                      _context4.t1 = _context4[\"catch\"](5);\n                      _didIteratorError = true;\n                      _iteratorError = _context4.t1;\n\n                    case 32:\n                      _context4.prev = 32;\n                      _context4.prev = 33;\n\n                      if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                      }\n\n                    case 35:\n                      _context4.prev = 35;\n\n                      if (!_didIteratorError) {\n                        _context4.next = 38;\n                        break;\n                      }\n\n                      throw _iteratorError;\n\n                    case 38:\n                      return _context4.finish(35);\n\n                    case 39:\n                      return _context4.finish(32);\n\n                    case 40:\n                    case \"end\":\n                      return _context4.stop();\n                  }\n                }\n              }, _callee4, _this8, [[5, 28, 32, 40], [10, 18], [33,, 35, 39]]);\n            }))();\n          }\n        }\n      });\n\n      /***/\n    },\n    /* 13 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Event = exports.MergeConnector = exports.Interface = exports.Fluent = exports.Model = undefined;\n\n      var _Fluent = __webpack_require__(14);\n\n      var _Fluent2 = _interopRequireDefault(_Fluent);\n\n      var _Model = __webpack_require__(9);\n\n      var _Model2 = _interopRequireDefault(_Model);\n\n      var _Interface = __webpack_require__(12);\n\n      var _Interface2 = _interopRequireDefault(_Interface);\n\n      var _MergeConnector = __webpack_require__(20);\n\n      var _MergeConnector2 = _interopRequireDefault(_MergeConnector);\n\n      var _Event = __webpack_require__(21);\n\n      var _Event2 = _interopRequireDefault(_Event);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      exports.Model = _Model2.default;\n      exports.Fluent = _Fluent2.default;\n      exports.Interface = _Interface2.default;\n      exports.MergeConnector = _MergeConnector2.default;\n      exports.Event = _Event2.default;\n\n      /***/\n    },\n    /* 14 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n      /* WEBPACK VAR INJECTION */\n      (function (global) {\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _extends = Object.assign || function (target) {\n          for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];for (var key in source) {\n              if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n              }\n            }\n          }return target;\n        };\n\n        var _it = __webpack_require__(0);\n\n        var _it2 = _interopRequireDefault(_it);\n\n        var _Model = __webpack_require__(9);\n\n        var _Model2 = _interopRequireDefault(_Model);\n\n        var _Collection = __webpack_require__(10);\n\n        var _Collection2 = _interopRequireDefault(_Collection);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : { default: obj };\n        }\n\n        function _toConsumableArray(arr) {\n          if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n              arr2[i] = arr[i];\n            }return arr2;\n          } else {\n            return Array.from(arr);\n          }\n        }\n\n        var Fluent = (0, _it2.default)({\n          init: function init() {\n            this.registerGlobalVariable();\n          },\n\n          properties: {},\n          methods: {\n            model: function model() {\n              for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n\n              this.registerModel(args);\n              return _Model2.default.compose.apply(_Model2.default, _toConsumableArray(args));\n            },\n            extend: function extend() {\n              for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n\n              this.registerModel(args);\n              return _Model2.default.compose.apply(_Model2.default, _toConsumableArray(args));\n            },\n            compose: function compose() {\n              for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                args[_key3] = arguments[_key3];\n              }\n\n              this.registerModel(args);\n              return _Model2.default.compose.apply(_Model2.default, _toConsumableArray(args));\n            },\n            collect: function collect(args) {\n              return (0, _Collection2.default)(args);\n            },\n            registerGlobalVariable: function registerGlobalVariable() {\n              if (typeof window !== \"undefined\" && window && !window._FLUENT_) {\n                window._FLUENT_ = {\n                  connectors: {},\n                  models: {}\n                };\n              }\n\n              if (global && !global._FLUENT_) {\n                global._FLUENT_ = {\n                  connectors: {},\n                  models: {}\n                };\n              }\n            },\n            registerModel: function registerModel(args) {\n              var name = args && args[0] && args[0].properties && args[0].properties.name ? args[0].properties.name : undefined;\n\n              if (!name || name === \"baseModel\") {\n                return;\n              }\n\n              if (!(typeof name === \"string\")) {\n                throw new Error(\"You must assign a name to your Model when using Fluent.compose\");\n              }\n\n              if (typeof window !== \"undefined\") {\n                window._FLUENT_.models[name] = true;\n                return;\n              }\n              global._FLUENT_.models[name] = true;\n            },\n            config: function config(_ref) {\n              var _ref$REMOTE_CONNECTOR = _ref.REMOTE_CONNECTORS,\n                  REMOTE_CONNECTORS = _ref$REMOTE_CONNECTOR === undefined ? undefined : _ref$REMOTE_CONNECTOR,\n                  _ref$LOCAL_CONNECTORS = _ref.LOCAL_CONNECTORS,\n                  LOCAL_CONNECTORS = _ref$LOCAL_CONNECTORS === undefined ? undefined : _ref$LOCAL_CONNECTORS,\n                  _ref$MERGE_CONNECTORS = _ref.MERGE_CONNECTORS,\n                  MERGE_CONNECTORS = _ref$MERGE_CONNECTORS === undefined ? undefined : _ref$MERGE_CONNECTORS;\n\n              if (typeof window !== \"undefined\" && window) {\n                window._FLUENT_.connectors = {\n                  local: LOCAL_CONNECTORS,\n                  remote: REMOTE_CONNECTORS,\n                  merge: MERGE_CONNECTORS\n                };\n              }\n\n              if (typeof global !== \"undefined\" && global) {\n                global._FLUENT_.connectors = {\n                  local: LOCAL_CONNECTORS,\n                  remote: REMOTE_CONNECTORS,\n                  merge: MERGE_CONNECTORS\n                };\n              }\n            },\n            getConfig: function getConfig() {\n              if (typeof window !== \"undefined\" && window) {\n                return window._FLUENT_;\n              }\n\n              if (typeof global !== \"undefined\" && global) {\n                return global._FLUENT_;\n              }\n            },\n            registerConnector: function registerConnector(_ref2) {\n              var type = _ref2.type,\n                  connector = _ref2.connector;\n\n              if (!type || !connector) throw new Error(\"type and connector must be defined\");\n              if (![\"local\", \"remote\", \"merge\"].includes(type)) throw new Error(\"type must be either local, remote or merge\");\n\n              var ctx = typeof window !== \"undefined\" && window ? window._FLUENT_ : global._FLUENT_;\n              var connectors = ctx.connectors.hasOwnProperty(type) ? ctx.connectors[type] : [];\n\n              if (connectors.length === 0) {\n                connector = _extends({}, connector, {\n                  default: true\n                });\n\n                connectors.push(connector);\n                ctx.connectors[type] = connectors;\n                return;\n              }\n\n              if (connectors.find(function (o) {\n                return o.name === connector.name;\n              })) {\n                console.log(\"A \" + type + \" connector with the name '\" + connector.name + \"' already exists\");\n                return;\n              }\n\n              connectors.push(connector);\n              ctx.connectors[type] = connectors;\n            },\n            deregisterConnector: function deregisterConnector(_ref3) {\n              var type = _ref3.type,\n                  name = _ref3.name;\n\n              if (!type || !name) throw new Error(\"type and name must be defined\");\n              if (![\"local\", \"remote\", \"merge\"].includes(type)) throw new Error(\"type must be either local, remote or merge\");\n\n              var ctx = typeof window !== \"undefined\" && window ? window._FLUENT_ : global._FLUENT_;\n              var connectors = ctx.connectors.hasOwnProperty(type) ? ctx.connectors[type] : [];\n\n              if (connectors.length === 0) return;\n\n              var filteredConnectors = connectors.filter(function (o) {\n                return o.name !== name;\n              });\n              ctx.connectors[type] = filteredConnectors;\n            }\n          }\n        })();\n\n        exports.default = Fluent;\n        /* WEBPACK VAR INJECTION */\n      }).call(this, __webpack_require__(4));\n\n      /***/\n    },\n    /* 15 */\n    /***/function (module, exports, __webpack_require__) {\n\n      // More proper implementation would be\n      // isDescriptor(obj) || isStamp(obj)\n      // but there is no sense since stamp is function and function is object.\n      module.exports = __webpack_require__(1);\n\n      /***/\n    },\n    /* 16 */\n    /***/function (module, exports) {\n\n      module.exports = function isPlainObject(value) {\n        return Boolean(value) && (typeof value === 'undefined' ? 'undefined' : _typeof2(value)) === 'object' && Object.getPrototypeOf(value) === Object.prototype;\n      };\n\n      /***/\n    },\n    /* 17 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var compose = __webpack_require__(2);\n\n      function createShortcut(propName) {\n        return function (arg) {\n          'use strict';\n\n          var param = {};\n          param[propName] = arg;\n          return this && this.compose ? this.compose(param) : compose(param);\n        };\n      }\n\n      var properties = createShortcut('properties');\n      var staticProperties = createShortcut('staticProperties');\n      var configuration = createShortcut('configuration');\n      var deepProperties = createShortcut('deepProperties');\n      var staticDeepProperties = createShortcut('staticDeepProperties');\n      var deepConfiguration = createShortcut('deepConfiguration');\n      var initializers = createShortcut('initializers');\n\n      module.exports = compose({\n        staticProperties: {\n          methods: createShortcut('methods'),\n\n          props: properties,\n          properties: properties,\n\n          statics: staticProperties,\n          staticProperties: staticProperties,\n\n          conf: configuration,\n          configuration: configuration,\n\n          deepProps: deepProperties,\n          deepProperties: deepProperties,\n\n          deepStatics: staticDeepProperties,\n          staticDeepProperties: staticDeepProperties,\n\n          deepConf: deepConfiguration,\n          deepConfiguration: deepConfiguration,\n\n          init: initializers,\n          initializers: initializers,\n\n          composers: createShortcut('composers'),\n\n          propertyDescriptors: createShortcut('propertyDescriptors'),\n\n          staticPropertyDescriptors: createShortcut('staticPropertyDescriptors')\n        }\n      });\n\n      /***/\n    },\n    /* 18 */\n    /***/function (module, exports) {\n\n      module.exports = function isString(arg) {\n        return typeof arg === 'string';\n      };\n\n      /***/\n    },\n    /* 19 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var compose = __webpack_require__(2);\n      var privates = new WeakMap(); // WeakMap works in IE11, node 0.12\n\n      var makeProxyFunction = function makeProxyFunction(fn, name) {\n        function proxiedFn() {\n          'use strict';\n\n          var fields = privates.get(this); // jshint ignore:line\n          return fn.apply(fields, arguments);\n        }\n\n        Object.defineProperty(proxiedFn, 'name', {\n          value: name,\n          configurable: true\n        });\n\n        return proxiedFn;\n      };\n\n      function initializer(_, opts) {\n        var descriptor = opts.stamp.compose;\n        var privateMethodNames = descriptor.deepConfiguration.Privatize.methods;\n\n        var newObject = {}; // our proxy object\n        privates.set(newObject, this);\n\n        var methods = descriptor.methods;\n        if (!methods) {\n          return newObject;\n        }\n\n        var methodNames = Object.keys(methods);\n        for (var i = 0; i < methodNames.length; i++) {\n          var name = methodNames[i];\n          if (privateMethodNames.indexOf(name) < 0) {\n            // not private, thus wrap\n            newObject[name] = makeProxyFunction(methods[name], name);\n          }\n        }\n\n        // Integration with @stamp/instanceof\n        if (typeof Symbol !== \"undefined\") {\n          var stampSymbol = Symbol.for('stamp');\n          if (methods[stampSymbol]) {\n            newObject[stampSymbol] = opts.stamp;\n          }\n        }\n\n        return newObject;\n      }\n\n      var Privatize = compose({\n        initializers: [initializer],\n        deepConfiguration: { Privatize: { methods: [] } },\n        staticProperties: {\n          privatizeMethods: function privatizeMethods() {\n            'use strict';\n\n            var methodNames = [];\n            for (var i = 0; i < arguments.length; i++) {\n              var arg = arguments[i];\n              if (typeof arg === 'string' && arg.length > 0) {\n                methodNames.push(arg);\n              }\n            }\n            var Stamp = this && this.compose ? this : Privatize;\n            return Stamp.compose({\n              deepConfiguration: {\n                Privatize: {\n                  methods: methodNames\n                }\n              }\n            });\n          }\n        },\n        composers: [function (opts) {\n          var initializers = opts.stamp.compose.initializers;\n          // Keep our initializer the last to return proxy object\n          initializers.splice(initializers.indexOf(initializer), 1);\n          initializers.push(initializer);\n        }]\n      });\n\n      module.exports = Privatize;\n\n      /***/\n    },\n    /* 20 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _Interface = __webpack_require__(12);\n\n      var _Interface2 = _interopRequireDefault(_Interface);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      function _asyncToGenerator(fn) {\n        return function () {\n          var gen = fn.apply(this, arguments);return new Promise(function (resolve, reject) {\n            function step(key, arg) {\n              try {\n                var info = gen[key](arg);var value = info.value;\n              } catch (error) {\n                reject(error);return;\n              }if (info.done) {\n                resolve(value);\n              } else {\n                return Promise.resolve(value).then(function (value) {\n                  step(\"next\", value);\n                }, function (err) {\n                  step(\"throw\", err);\n                });\n              }\n            }return step(\"next\");\n          });\n        };\n      }\n\n      exports.default = _Interface2.default.compose({\n        properties: {\n          localFx: undefined,\n          remoteFx: undefined\n        },\n        init: function init(connectors) {\n          this.connectors = connectors;\n        },\n\n        methods: {\n          get: function get() {\n            var _this = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var localData, remoteData;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _this.prepareMergedFunctions();\n                      _context.next = 3;\n                      return _this.localFx.get();\n\n                    case 3:\n                      localData = _context.sent;\n                      _context.next = 6;\n                      return _this.remoteFx.get();\n\n                    case 6:\n                      remoteData = _context.sent;\n                      return _context.abrupt(\"return\", localData.concat(remoteData));\n\n                    case 8:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this);\n            }))();\n          },\n          prepareMergedFunctions: function prepareMergedFunctions() {\n            var _this2 = this;\n\n            this.localFx = this.connectors.local;\n            this.remoteFx = this.connectors.remote;\n\n            this.chainReference.forEach(function (chain) {\n              var method = chain.method;\n              var args = chain.args;\n\n              _this2.localFx = _this2.localFx[method](args);\n              _this2.remoteFx = _this2.remoteFx[method](args);\n            });\n          }\n        }\n      });\n\n      /***/\n    },\n    /* 21 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var Event = function () {\n        var CustomEvent = function CustomEvent(event, params) {\n          var evt = document.createEvent(\"CustomEvent\");\n\n          params = params || { bubbles: false, cancelable: false, detail: undefined };\n\n          evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n          return evt;\n        };\n\n        function emit(_ref) {\n          var name = _ref.name,\n              data = _ref.data,\n              text = _ref.text;\n\n          if (!name) throw new Error(\"Event must have a name.\");\n          if (!data) throw new Error(\"Event must have data.\");\n          if (!text) throw new Error(\"Event must have a text.\");\n          var customEvent = CustomEvent(name, {\n            detail: {\n              data: data,\n              text: text\n            }\n          });\n\n          window.dispatchEvent(customEvent);\n        }\n        function listen(_ref2) {\n          var name = _ref2.name,\n              callback = _ref2.callback;\n\n          if (!name) throw new Error(\"Listener must have a name.\");\n          if (!callback) throw new Error(\"Listener must have a callback.\");\n          window.addEventListener(name, callback);\n        }\n\n        function remove(_ref3) {\n          var name = _ref3.name,\n              callback = _ref3.callback;\n\n          if (!name) throw new Error(\"Listener must have a name to detach\");\n          if (!callback) throw new Error(\"Listener must have a callback to detach\");\n          window.removeEventListener(name, callback);\n        }\n        return Object.freeze({\n          emit: emit,\n          listen: listen,\n          remove: remove\n        });\n      }();\n\n      exports.default = Event;\n\n      /***/\n    }]\n    /******/)\n  );\n});\n//# sourceMappingURL=goat-fluent.min.js.map\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(13)(module)))\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=fluent-loki.min.js.map","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"@goatlab/fluent-formio\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@goatlab/fluent-formio\"] = factory();\n\telse\n\t\troot[\"@goatlab/fluent-formio\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 8);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar bind = __webpack_require__(3);\nvar isBuffer = __webpack_require__(18);\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\n\nvar utils = __webpack_require__(0);\nvar normalizeHeaderName = __webpack_require__(21);\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = __webpack_require__(4);\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = __webpack_require__(4);\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(20)))\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(17);\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\nvar settle = __webpack_require__(22);\nvar buildURL = __webpack_require__(24);\nvar parseHeaders = __webpack_require__(25);\nvar isURLSameOrigin = __webpack_require__(26);\nvar createError = __webpack_require__(5);\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || __webpack_require__(27);\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if ( true &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = __webpack_require__(28);\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar enhanceError = __webpack_require__(23);\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _FluentConnector = __webpack_require__(9);\n\nvar _FluentConnector2 = _interopRequireDefault(_FluentConnector);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _FluentConnector2.default;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _awaitToJs = __webpack_require__(10);\n\nvar _awaitToJs2 = _interopRequireDefault(_awaitToJs);\n\nvar _dayjs = __webpack_require__(11);\n\nvar _dayjs2 = _interopRequireDefault(_dayjs);\n\nvar _isSameOrAfter = __webpack_require__(12);\n\nvar _isSameOrAfter2 = _interopRequireDefault(_isSameOrAfter);\n\nvar _jwtDecode = __webpack_require__(13);\n\nvar _jwtDecode2 = _interopRequireDefault(_jwtDecode);\n\nvar _Utilities = __webpack_require__(16);\n\nvar _Utilities2 = _interopRequireDefault(_Utilities);\n\nvar _axios = __webpack_require__(2);\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _goatFluent = __webpack_require__(36);\n\nvar _Connection = __webpack_require__(38);\n\nvar _Connection2 = _interopRequireDefault(_Connection);\n\nvar _AuthenticationError = __webpack_require__(40);\n\nvar _AuthenticationError2 = _interopRequireDefault(_AuthenticationError);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n_dayjs2.default.extend(_isSameOrAfter2.default);\n\nexports.default = _goatFluent.Interface.compose({\n  methods: {\n    getToken: function getToken() {\n      if (typeof localStorage === \"undefined\") return;\n      var token = localStorage.getItem(\"formioToken\");\n      if (!token || this.getTokenType(token) === \"x-token\") return token;\n\n      var decodedToken = (0, _jwtDecode2.default)(token);\n      var expDate = _dayjs2.default.unix(decodedToken.exp);\n      if ((0, _dayjs2.default)().isSameOrAfter(expDate)) {\n        _goatFluent.Event.emit({\n          name: \"GOAT:SESSION:EXPIRED\",\n          data: expDate,\n          text: \"Session expired\"\n        });\n        throw new _AuthenticationError2.default(\"Token has expired.\");\n      }\n      return token;\n    },\n    baseUrl: function baseUrl() {\n      var _connector = this.connector,\n          baseUrl = _connector.baseUrl,\n          name = _connector.name;\n\n\n      if (!baseUrl) {\n        throw new Error(\"You did not provide a baseUrl for the \\\"\" + name + \"\\\" connector\");\n      }\n      return baseUrl.replace(/\\/+$/, \"\");\n    },\n    get: function get() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var error, result, _ref, _ref2;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.ownerId) {\n                  _this.andWhere(\"owner\", \"=\", _this.ownerId);\n                }\n                error = void 0;\n                result = void 0;\n                _context.next = 5;\n                return (0, _awaitToJs2.default)(_this.httpGET());\n\n              case 5:\n                _ref = _context.sent;\n                _ref2 = _slicedToArray(_ref, 2);\n                error = _ref2[0];\n                result = _ref2[1];\n\n                if (!error) {\n                  _context.next = 12;\n                  break;\n                }\n\n                console.log(error);\n                throw new Error(\"Error while getting submissions\");\n\n              case 12:\n\n                result = _this.jsApplySelect(result && result.data);\n                result = _this.jsApplyOrderBy(result);\n\n                return _context.abrupt(\"return\", result);\n\n              case 15:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, _this);\n      }))();\n    },\n    all: function all() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", _this2.get());\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this2);\n      }))();\n    },\n    numberOfRows: function numberOfRows() {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var url, headers, filters, limit, skip, order, select, spacer, isOnline, response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                url = _this3.getUrl();\n                headers = _this3.getHeaders();\n                filters = _this3.getFilters();\n                limit = \"?limit=1\";\n                skip = _this3.getSkip();\n                order = _this3.getOrder();\n                select = _this3.getSelect();\n                spacer = \"\";\n\n\n                url = url + spacer + limit;\n                url = filters ? url + _this3.getSpacer(url) + filters : url;\n                url = skip ? url + _this3.getSpacer(url) + skip : url;\n                url = order ? url + _this3.getSpacer(url) + order : url;\n                url = select ? url + _this3.getSpacer(url) + select : url;\n\n                _context3.next = 15;\n                return _Connection2.default.isOnline();\n\n              case 15:\n                isOnline = _context3.sent;\n\n                if (isOnline) {\n                  _context3.next = 18;\n                  break;\n                }\n\n                throw new Error(\"Cannot make get request to \" + url + \".You are not online\");\n\n              case 18:\n                _context3.next = 20;\n                return _axios2.default.get(url, { headers: headers });\n\n              case 20:\n                response = _context3.sent;\n                return _context3.abrupt(\"return\", response.headers[\"content-range\"].split(\"/\")[1]);\n\n              case 22:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this3);\n      }))();\n    },\n    paginate: function paginate(paginator) {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        var numberOfRows, results;\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _this4.numberOfRows();\n\n              case 2:\n                numberOfRows = _context4.sent;\n\n\n                _this4.offset((paginator.page - 1) * paginator.rowsPerPage).take(paginator.rowsPerPage);\n\n                results = {};\n                _context4.next = 7;\n                return _this4.get();\n\n              case 7:\n                results.data = _context4.sent;\n\n                results.paginator = {\n                  page: paginator.page,\n                  rowsPerPage: paginator.rowsPerPage,\n                  rowsNumber: numberOfRows\n                };\n\n                console.log(\"paginator\", results);\n\n                return _context4.abrupt(\"return\", results);\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, _this4);\n      }))();\n    },\n    insert: function insert(data, options) {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n        var _ref3, _ref4, error, result;\n\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!Array.isArray(data)) {\n                  _context5.next = 2;\n                  break;\n                }\n\n                return _context5.abrupt(\"return\", _this5.ArrayInsert(data, options));\n\n              case 2:\n                _context5.next = 4;\n                return (0, _awaitToJs2.default)(_this5.httpPOST(data));\n\n              case 4:\n                _ref3 = _context5.sent;\n                _ref4 = _slicedToArray(_ref3, 2);\n                error = _ref4[0];\n                result = _ref4[1];\n\n                if (!error) {\n                  _context5.next = 10;\n                  break;\n                }\n\n                throw new Error(\"Cannot insert data\");\n\n              case 10:\n                return _context5.abrupt(\"return\", result.data);\n\n              case 11:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, _this5);\n      }))();\n    },\n    update: function update(data) {\n      var _this6 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n        var _ref5, _ref6, error, result;\n\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if (data._id) {\n                  _context6.next = 2;\n                  break;\n                }\n\n                throw new Error(\"Formio connector error. Cannot update a Model without _id key\");\n\n              case 2:\n                if (!data._id.includes(\"_local\")) {\n                  _context6.next = 4;\n                  break;\n                }\n\n                throw new Error(\"Formio connector error. Cannot update a local document\");\n\n              case 4:\n                _context6.next = 6;\n                return (0, _awaitToJs2.default)(_this6.httpPUT(data));\n\n              case 6:\n                _ref5 = _context6.sent;\n                _ref6 = _slicedToArray(_ref5, 2);\n                error = _ref6[0];\n                result = _ref6[1];\n\n                if (!error) {\n                  _context6.next = 13;\n                  break;\n                }\n\n                console.log(error);\n                throw new Error(\"Cannot insert data\");\n\n              case 13:\n                return _context6.abrupt(\"return\", result.data);\n\n              case 14:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, _this6);\n      }))();\n    },\n    clear: function clear() {\n      var _this7 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n        var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n            sure = _ref7.sure;\n\n        var promises, _ref8, _ref9, error, data;\n\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                if (!(!sure || sure !== true)) {\n                  _context7.next = 2;\n                  break;\n                }\n\n                throw new Error('Clear() method will delete everything!, you must set the \"sure\" parameter \"clear({sure:true})\" to continue');\n\n              case 2:\n                promises = [];\n                _context7.next = 5;\n                return (0, _awaitToJs2.default)(_this7.select(\"_id\").pluck(\"_id\"));\n\n              case 5:\n                _ref8 = _context7.sent;\n                _ref9 = _slicedToArray(_ref8, 2);\n                error = _ref9[0];\n                data = _ref9[1];\n\n                if (!error) {\n                  _context7.next = 12;\n                  break;\n                }\n\n                console.log(error);\n                throw new Error(\"Cannot get remote Model\");\n\n              case 12:\n\n                data.forEach(function (_id) {\n                  promises.push(_this7.httpDelete(_id));\n                });\n\n                return _context7.abrupt(\"return\", _axios2.default.all(promises));\n\n              case 14:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, _this7);\n      }))();\n    },\n    remove: function remove(_id) {\n      var _this8 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n        var _ref10, _ref11, error, removed;\n\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                _context8.next = 2;\n                return (0, _awaitToJs2.default)(_this8.httpDelete(_id));\n\n              case 2:\n                _ref10 = _context8.sent;\n                _ref11 = _slicedToArray(_ref10, 2);\n                error = _ref11[0];\n                removed = _ref11[1];\n\n                if (!error) {\n                  _context8.next = 9;\n                  break;\n                }\n\n                console.log(error);\n                throw new Error(\"FormioConnector: Could not delete \" + _id);\n\n              case 9:\n                return _context8.abrupt(\"return\", removed);\n\n              case 10:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, _this8);\n      }))();\n    },\n    find: function find(_id) {\n      var _this9 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9() {\n        var _ref12, _ref13, error, data;\n\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                if (!(typeof _id !== \"string\")) {\n                  _context9.next = 2;\n                  break;\n                }\n\n                throw new Error('Formio connector find() method only accepts strings \"' + (typeof _id === \"undefined\" ? \"undefined\" : _typeof(_id)) + '\" given \"' + _id + '\"');\n\n              case 2:\n                _context9.next = 4;\n                return (0, _awaitToJs2.default)(_this9.where(\"_id\", \"=\", _id).first());\n\n              case 4:\n                _ref12 = _context9.sent;\n                _ref13 = _slicedToArray(_ref12, 2);\n                error = _ref13[0];\n                data = _ref13[1];\n\n                if (!error) {\n                  _context9.next = 11;\n                  break;\n                }\n\n                console.log(error);\n                throw new Error(\"Find() could not get remote data\");\n\n              case 11:\n                return _context9.abrupt(\"return\", data);\n\n              case 12:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, _this9);\n      }))();\n    },\n    getUrl: function getUrl() {\n      var _this10 = this;\n\n      var baseUrl = this && this.baseUrl() ? this.baseUrl() : undefined;\n      var path = _Utilities2.default.get(function () {\n        return _this10.remoteConnection.path;\n      }, undefined);\n      var id = _Utilities2.default.get(function () {\n        return _this10.remoteConnection.id;\n      }, undefined);\n      var pullForm = _Utilities2.default.get(function () {\n        return _this10.remoteConnection.pullForm;\n      }, undefined);\n\n      if (!pullForm && path) {\n        path = !id ? path + \"/submission\" : path + \"/submission/\" + id;\n      }\n\n      if (!baseUrl) {\n        throw new Error(\"Cannot get remote model. baseUrl not defined\");\n      }\n\n      if (path) {\n        return baseUrl + \"/\" + path;\n      }\n      return baseUrl;\n    },\n    getHeaders: function getHeaders() {\n      var headers = {};\n      var token = {};\n      if (typeof localStorage !== \"undefined\") {\n        token = this.getToken();\n      }\n\n      if (this.remoteConnection.token || this.remoteConnection.token === \"\") {\n        token = this.remoteConnection.token;\n      }\n\n      if (!token) {\n        return headers;\n      }\n\n      var type = this.getTokenType(token);\n      headers[type] = token;\n      return headers;\n    },\n    getSpacer: function getSpacer(url) {\n      return url.substr(url.length - 1) === \"&\" ? \"\" : \"&\";\n    },\n    httpGET: function httpGET() {\n      var _this11 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10() {\n        var url, headers, filters, limit, skip, order, select, spacer, isOnline;\n        return regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                url = _this11.getUrl();\n                headers = _this11.getHeaders();\n                filters = _this11.getFilters();\n                limit = _this11.getLimit();\n                skip = _this11.getSkip();\n                order = _this11.getOrder();\n                select = _this11.getSelect();\n                spacer = \"\";\n\n                // Always limit the amount of requests\n\n                url = url + spacer + limit;\n\n                url = filters ? url + _this11.getSpacer(url) + filters : url;\n\n                url = skip ? url + _this11.getSpacer(url) + skip : url;\n\n                url = order ? url + _this11.getSpacer(url) + order : url;\n\n                url = select ? url + _this11.getSpacer(url) + select : url;\n\n                _context10.next = 15;\n                return _Connection2.default.isOnline();\n\n              case 15:\n                isOnline = _context10.sent;\n\n                if (isOnline) {\n                  _context10.next = 18;\n                  break;\n                }\n\n                throw new Error(\"Cannot make get request to \" + url + \".You are not online\");\n\n              case 18:\n                return _context10.abrupt(\"return\", _axios2.default.get(url, { headers: headers }));\n\n              case 19:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, _this11);\n      }))();\n    },\n    httpPOST: function httpPOST(data) {\n      var _this12 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11() {\n        var url, headers, isOnline;\n        return regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                url = _this12.getUrl();\n                headers = _this12.getHeaders();\n                _context11.next = 4;\n                return _Connection2.default.isOnline();\n\n              case 4:\n                isOnline = _context11.sent;\n\n                if (isOnline) {\n                  _context11.next = 7;\n                  break;\n                }\n\n                throw new Error(\"Cannot make request post to \" + url + \".You are not online\");\n\n              case 7:\n                return _context11.abrupt(\"return\", _axios2.default.post(url, data, { headers: headers }));\n\n              case 8:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, _this12);\n      }))();\n    },\n    httpPUT: function httpPUT(data) {\n      var _this13 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee12() {\n        var isOnline, url, headers;\n        return regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                _context12.next = 2;\n                return _Connection2.default.isOnline();\n\n              case 2:\n                isOnline = _context12.sent;\n                url = _this13.getUrl() + \"/\" + data._id;\n                headers = _this13.getHeaders();\n\n                if (isOnline) {\n                  _context12.next = 7;\n                  break;\n                }\n\n                throw new Error(\"Cannot make request post to \" + url + \".You are not online\");\n\n              case 7:\n                return _context12.abrupt(\"return\", _axios2.default.put(url, data, { headers: headers }));\n\n              case 8:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, _this13);\n      }))();\n    },\n    httpDelete: function httpDelete(_id) {\n      var headers = this.getHeaders();\n      var url = this.getUrl() + \"/\" + _id;\n\n      return _axios2.default.delete(url, { headers: headers });\n    },\n    getTokenType: function getTokenType(token) {\n      if (token.length > 32) {\n        return \"x-jwt-token\";\n      }\n      return \"x-token\";\n    },\n    getFilters: function getFilters() {\n      var filter = this.whereArray;\n\n      if (!filter || filter.length === 0) {\n        return undefined;\n      }\n\n      var filterQuery = \"\";\n\n      filter.forEach(function (condition) {\n        var valueString = \"\";\n        var element = condition[0];\n        var operator = condition[1];\n        var value = condition[2];\n\n        switch (operator) {\n          case \"=\":\n            filterQuery = filterQuery + element + \"=\" + value + \"&\";\n            break;\n          case \"!=\":\n            filterQuery = filterQuery + element + \"__ne=\" + value + \"&\";\n            break;\n          case \">\":\n            filterQuery = filterQuery + element + \"__gt=\" + value + \"&\";\n            break;\n          case \">=\":\n            filterQuery = filterQuery + element + \"__gte=\" + value + \"&\";\n            break;\n          case \"<\":\n            filterQuery = filterQuery + element + \"__lt=\" + value + \"&\";\n            break;\n          case \"<=\":\n            filterQuery = filterQuery + element + \"__lte=\" + value + \"&\";\n            break;\n          case \"in\":\n            valueString = \"\";\n            value.forEach(function (val, index, array) {\n              valueString = index === array.length - 1 ? valueString + val : valueString + val + \",\";\n            });\n            filterQuery = filterQuery + element + \"__in=\" + valueString + \"&\";\n            break;\n          case \"nin\":\n            valueString = \"\";\n            value.forEach(function (val, index, array) {\n              valueString = index === array.length - 1 ? valueString + val : valueString + val + \",\";\n            });\n            filterQuery = filterQuery + element + \"__nin=\" + valueString + \"&\";\n            break;\n          case \"exists\":\n            filterQuery = filterQuery + element + \"__exists=\" + true + \"&\";\n            break;\n          case \"!exists\":\n            filterQuery = filterQuery + element + \"__exists=\" + false + \"&\";\n            break;\n          case \"regex\":\n            filterQuery = filterQuery + element + \"__regex=\" + value + \"&\";\n            break;\n        }\n      });\n      return filterQuery.substring(0, filterQuery.length - 1);\n    },\n    getLimit: function getLimit() {\n      var limit = \"?limit=\";\n\n      if (!this.limitNumber || this.limitNumber === 0) {\n        this.limitNumber = 50;\n      }\n\n      return \"\" + limit + this.limitNumber;\n    },\n    getSkip: function getSkip() {\n      var skip = \"skip=\";\n\n      if (!this.offsetNumber) {\n        this.offsetNumber = 0;\n      }\n\n      return skip + this.offsetNumber;\n    },\n    getOrder: function getOrder() {\n      var order = \"sort=\";\n      var or = this.orderByArray[1] === \"DESC\" ? \"-\" : \"\";\n      return order + or + this.orderByArray[0];\n    },\n    getSelect: function getSelect() {\n      var select = this.selectArray;\n\n      select = select.map(function (e) {\n        return e.split(\" as \")[0];\n      });\n\n      if (!select) {\n        return;\n      }\n\n      return \"select=\" + select.join(\",\");\n    }\n  }\n});\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"to\", function() { return to; });\n/**\n * @param { Promise } promise\n * @param { Object= } errorExt - Additional Information you can pass to the err object\n * @return { Promise }\n */\nfunction to(promise, errorExt) {\n    return promise\n        .then(function (data) { return [null, data]; })\n        .catch(function (err) {\n        if (errorExt) {\n            Object.assign(err, errorExt);\n        }\n        return [err, undefined];\n    });\n}\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (to);\n//# sourceMappingURL=await-to-js.es5.js.map\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(t,e){ true?module.exports=e():undefined}(this,function(){\"use strict\";var t=\"millisecond\",e=\"second\",n=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",a=\"quarter\",o=\"year\",h=/^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,f=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,e,n){var r=String(t);return!r||r.length>=e?t:\"\"+Array(e+1-r.length).join(n)+t},d={s:c,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?\"+\":\"-\")+c(r,2,\"0\")+\":\"+c(i,2,\"0\")},m:function(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,u),i=e-r<0,s=t.clone().add(n+(i?-1:1),u);return Number(-(n+(e-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:o,w:s,d:i,h:r,m:n,s:e,ms:t,Q:a}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},l=\"en\",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,e,n){var r;if(!t)return null;if(\"string\"==typeof t)m[t]&&(r=t),e&&(m[t]=e,r=t);else{var i=t.name;m[i]=t,r=i}return n||(l=r),r},D=function(t,e,n){if(y(t))return t.clone();var r=e?\"string\"==typeof e?{format:e,pl:n}:e:{};return r.date=t,new v(r)},g=d;g.l=M,g.i=y,g.w=function(t,e){return D(t,{locale:e.$L,utc:e.$u})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0)||l,this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(g.u(e))return new Date;if(e instanceof Date)return new Date(e);if(\"string\"==typeof e&&!/Z$/i.test(e)){var r=e.match(h);if(r)return n?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(e)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return g},d.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},d.isSame=function(t,e){var n=D(t);return this.startOf(e)<=n&&n<=this.endOf(e)},d.isAfter=function(t,e){return D(t)<this.startOf(e)},d.isBefore=function(t,e){return this.endOf(e)<D(t)},d.$g=function(t,e,n){return g.u(t)?this[e]:this.set(n,t)},d.year=function(t){return this.$g(t,\"$y\",o)},d.month=function(t){return this.$g(t,\"$M\",u)},d.day=function(t){return this.$g(t,\"$W\",i)},d.date=function(t){return this.$g(t,\"$D\",\"date\")},d.hour=function(t){return this.$g(t,\"$H\",r)},d.minute=function(t){return this.$g(t,\"$m\",n)},d.second=function(t){return this.$g(t,\"$s\",e)},d.millisecond=function(e){return this.$g(e,\"$ms\",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,a){var h=this,f=!!g.u(a)||a,c=g.p(t),d=function(t,e){var n=g.w(h.$u?Date.UTC(h.$y,e,t):new Date(h.$y,e,t),h);return f?n:n.endOf(i)},$=function(t,e){return g.w(h.toDate()[t].apply(h.toDate(),(f?[0,0,0,0]:[23,59,59,999]).slice(e)),h)},l=this.$W,m=this.$M,y=this.$D,M=\"set\"+(this.$u?\"UTC\":\"\");switch(c){case o:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var D=this.$locale().weekStart||0,v=(l<D?l+7:l)-D;return d(f?y-v:y+(6-v),m);case i:case\"date\":return $(M+\"Hours\",0);case r:return $(M+\"Minutes\",1);case n:return $(M+\"Seconds\",2);case e:return $(M+\"Milliseconds\",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,a){var h,f=g.p(s),c=\"set\"+(this.$u?\"UTC\":\"\"),d=(h={},h[i]=c+\"Date\",h.date=c+\"Date\",h[u]=c+\"Month\",h[o]=c+\"FullYear\",h[r]=c+\"Hours\",h[n]=c+\"Minutes\",h[e]=c+\"Seconds\",h[t]=c+\"Milliseconds\",h)[f],$=f===i?this.$D+(a-this.$W):a;if(f===u||f===o){var l=this.clone().set(\"date\",1);l.$d[d]($),l.init(),this.$d=l.set(\"date\",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,e){return this.clone().$set(t,e)},d.get=function(t){return this[g.p(t)]()},d.add=function(t,a){var h,f=this;t=Number(t);var c=g.p(a),d=function(e){var n=new Date(f.$d);return n.setDate(n.getDate()+Math.round(e*t)),g.w(n,f)};if(c===u)return this.set(u,this.$M+t);if(c===o)return this.set(o,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[n]=6e4,h[r]=36e5,h[e]=1e3,h)[c]||1,l=this.valueOf()+t*$;return g.w(l,this)},d.subtract=function(t,e){return this.add(-1*t,e)},d.format=function(t){var e=this;if(!this.isValid())return\"Invalid Date\";var n=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=g.z(this),i=this.$locale(),s=this.$H,u=this.$m,a=this.$M,o=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},d=function(t){return g.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,e,n){var r=t<12?\"AM\":\"PM\";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:g.s(a+1,2,\"0\"),MMM:c(i.monthsShort,a,h,3),MMMM:h[a]||h(this,n),D:this.$D,DD:g.s(this.$D,2,\"0\"),d:this.$W,dd:c(i.weekdaysMin,this.$W,o,2),ddd:c(i.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:s,HH:g.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:u,mm:g.s(u,2,\"0\"),s:this.$s,ss:g.s(this.$s,2,\"0\"),SSS:g.s(this.$ms,3,\"0\"),Z:r};return String(n.replace(f,function(t,e){return e||l[t]||r.replace(\":\",\"\")}))},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=g.p(h),$=D(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=g.m(this,$);return y=(c={},c[o]=y/12,c[u]=y,c[a]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[n]=m/6e4,c[e]=m/1e3,c)[d]||m,f?y:g.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,e){if(!t)return this.$L;var n=this.clone();return n.$L=M(t,e,!0),n},d.clone=function(){return g.w(this.toDate(),this)},d.toDate=function(){return new Date(this.$d)},d.toJSON=function(){return this.toISOString()},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return D.prototype=v.prototype,D.extend=function(t,e){return t(e,v,D),D},D.locale=M,D.isDayjs=y,D.unix=function(t){return D(1e3*t)},D.en=m[l],D.Ls=m,D});\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(e,t){ true?module.exports=t():undefined}(this,function(){\"use strict\";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}});\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar base64_url_decode = __webpack_require__(14);\n\nfunction InvalidTokenError(message) {\n  this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = 'InvalidTokenError';\n\nmodule.exports = function (token,options) {\n  if (typeof token !== 'string') {\n    throw new InvalidTokenError('Invalid token specified');\n  }\n\n  options = options || {};\n  var pos = options.header === true ? 0 : 1;\n  try {\n    return JSON.parse(base64_url_decode(token.split('.')[pos]));\n  } catch (e) {\n    throw new InvalidTokenError('Invalid token specified: ' + e.message);\n  }\n};\n\nmodule.exports.InvalidTokenError = InvalidTokenError;\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar atob = __webpack_require__(15);\n\nfunction b64DecodeUnicode(str) {\n  return decodeURIComponent(atob(str).replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  }));\n}\n\nmodule.exports = function(str) {\n  var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  switch (output.length % 4) {\n    case 0:\n      break;\n    case 2:\n      output += \"==\";\n      break;\n    case 3:\n      output += \"=\";\n      break;\n    default:\n      throw \"Illegal base64url string!\";\n  }\n\n  try{\n    return b64DecodeUnicode(output);\n  } catch (err) {\n    return atob(output);\n  }\n};\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\nfunction polyfill (input) {\n  var str = String(input).replace(/=+$/, '');\n  if (str.length % 4 == 1) {\n    throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0, output = '';\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n      // and if not first of each 4 characters,\n      // convert the first 8 bits to one ascii character\n      bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n  return output;\n}\n\n\nmodule.exports = typeof window !== 'undefined' && window.atob && window.atob.bind(window) || polyfill;\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/* eslint-disable no-unused-vars */\nvar Utilities = function () {\n  /**\n   * Deep clones a JS object using JSON.parse\n   * This function will not clone object\n   * functions\n   * @param {Object} object\n   */\n  var cloneDeep = function cloneDeep(object) {\n    return JSON.parse(JSON.stringify(object));\n  };\n  /**\n   * Given an Object and its path, if exisits it will\n   * return the value of it, if not the default\n   * @param {Object} obj\n   * @param {String} path\n   * @param {*} def\n   */\n  var get = function get(fn, def) {\n    try {\n      return fn();\n    } catch (e) {\n      return def;\n    }\n  };\n  /**\n   *\n   * @param {*} obj\n   * @param {*} path\n   * @param {*} def\n   */\n  var getFromPath = function getFromPath(obj, path, def) {\n    var _path = path;\n\n    if (path.includes(' as ')) {\n      path = path.split(' as ');\n      _path = path[0];\n    }\n\n    var assignedName = get(function () {\n      return Array.isArray(path) && path[1].trim();\n    }, undefined);\n\n    var fullPath = _path.replace(/\\[/g, '.').replace(/]/g, '').split('.').filter(Boolean).map(function (e) {\n      return e.trim();\n    });\n\n    function everyFunc(step) {\n      return !(step && (obj = obj[step]) === undefined);\n    }\n\n    var result = fullPath.every(everyFunc) ? obj : def;\n\n    return { label: assignedName || _path, value: result };\n  };\n  /**\n   *\n   * @param {*} arr\n   * @param {*} predicate\n   */\n  var uniqBy = function uniqBy(arr, predicate) {\n    var cb = typeof predicate === 'function' ? predicate : function (o) {\n      return o[predicate];\n    };\n\n    return [].concat(_toConsumableArray(arr.reduce(function (map, item) {\n      var key = cb(item);\n\n      map.has(key) || map.set(key, item);\n\n      return map;\n    }, new Map()).values()));\n  };\n  /**\n   *\n   */\n  var orderBy = function orderBy() {};\n  /**\n   *\n   * @param {*} value\n   */\n  var isEmpty = function isEmpty(value) {\n    if (!value) {\n      return true;\n    }\n    if (Array.isArray(value) || typeof value === 'string') {\n      return !value.length;\n    }\n    for (var key in value) {\n      if (hasOwnProperty.call(value, key)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  /**\n   *\n   * @param {*} fn\n   * @param {*} time\n   */\n  var debounce = function debounce(fn, time) {\n    var timeout = void 0;\n\n    return function () {\n      var _this = this,\n          _arguments = arguments;\n\n      var functionCall = function functionCall() {\n        return fn.apply(_this, _arguments);\n      };\n\n      clearTimeout(timeout);\n      timeout = setTimeout(functionCall, time);\n    };\n  };\n  /**\n   * Recursively removes all NULL values\n   * from an Object or an Array\n   *\n   * @static\n   * @param {Array|Object} object Array, Object to clean\n   * @returns {Array|Object} returns the cleaned value\n   */\n  var deleteNulls = function deleteNulls(object) {\n    var obj = object;\n    var isArray = obj instanceof Array;\n\n    for (var k in obj) {\n      if (obj[k] === null) isArray ? obj.splice(k, 1) : delete obj[k];else if (_typeof(obj[k]) === 'object') deleteNulls(obj[k]);\n    }\n    return obj;\n  };\n\n  var eachComponent = function eachComponent(components, fn, includeAll, path, parent) {\n    if (!components) return;\n    path = path || '';\n    components.forEach(function (component) {\n      if (!component) {\n        return;\n      }\n      var hasColumns = component.columns && Array.isArray(component.columns);\n      var hasRows = component.rows && Array.isArray(component.rows);\n      var hasComps = component.components && Array.isArray(component.components);\n      var noRecurse = false;\n      var newPath = component.key ? path ? path + '.' + component.key : component.key : '';\n\n      // Keep track of parent references.\n      if (parent) {\n        // Ensure we don't create infinite JSON structures.\n        component.parent = _extends({}, parent);\n        delete component.parent.components;\n        delete component.parent.componentMap;\n        delete component.parent.columns;\n        delete component.parent.rows;\n      }\n\n      if (includeAll || component.tree || !hasColumns && !hasRows && !hasComps) {\n        noRecurse = fn(component, newPath);\n      }\n\n      var subPath = function subPath() {\n        if (component.key && !['panel', 'table', 'well', 'columns', 'fieldset', 'tabs', 'form'].includes(component.type) && (['datagrid', 'container', 'editgrid'].includes(component.type) || component.tree)) {\n          return newPath;\n        } else if (component.key && component.type === 'form') {\n          return newPath + '.data';\n        }\n        return path;\n      };\n\n      if (!noRecurse) {\n        if (hasColumns) {\n          component.columns.forEach(function (column) {\n            return eachComponent(column.components, fn, includeAll, subPath(), parent ? component : null);\n          });\n        } else if (hasRows) {\n          component.rows.forEach(function (row) {\n            if (Array.isArray(row)) {\n              row.forEach(function (column) {\n                return eachComponent(column.components, fn, includeAll, subPath(), parent ? component : null);\n              });\n            }\n          });\n        } else if (hasComps) {\n          eachComponent(component.components, fn, includeAll, subPath(), parent ? component : null);\n        }\n      }\n    });\n  };\n\n  var matchComponent = function matchComponent(component, query) {\n    if (typeof query === 'string') {\n      return component.key === query;\n    }\n    var matches = false;\n\n    Object.keys(query).forEach(function (path) {\n      matches = getFromPath(component, path).value === query[path];\n      if (!matches) {\n        return false;\n      }\n    });\n    return matches;\n  };\n\n  var findComponents = function findComponents(components, query) {\n    var results = [];\n\n    eachComponent(components, function (component, path) {\n      if (matchComponent(component, query)) {\n        component.path = path;\n        results.push(component);\n      }\n    }, true);\n    return results;\n  };\n\n  var unixDate = function unixDate() {\n    return Math.round(+new Date() / 1000);\n  };\n\n  return Object.freeze({\n    cloneDeep: cloneDeep,\n    get: get,\n    orderBy: orderBy,\n    isEmpty: isEmpty,\n    debounce: debounce,\n    getFromPath: getFromPath,\n    deleteNulls: deleteNulls,\n    eachComponent: eachComponent,\n    findComponents: findComponents,\n    unixDate: unixDate\n  });\n}();\n\nexports.default = Utilities;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\nvar bind = __webpack_require__(3);\nvar Axios = __webpack_require__(19);\nvar defaults = __webpack_require__(1);\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = __webpack_require__(7);\naxios.CancelToken = __webpack_require__(34);\naxios.isCancel = __webpack_require__(6);\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = __webpack_require__(35);\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\n/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar defaults = __webpack_require__(1);\nvar utils = __webpack_require__(0);\nvar InterceptorManager = __webpack_require__(29);\nvar dispatchRequest = __webpack_require__(30);\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar createError = __webpack_require__(5);\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\nvar transformData = __webpack_require__(31);\nvar isCancel = __webpack_require__(6);\nvar defaults = __webpack_require__(1);\nvar isAbsoluteURL = __webpack_require__(32);\nvar combineURLs = __webpack_require__(33);\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Cancel = __webpack_require__(7);\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (( false ? undefined : _typeof2(exports)) === 'object' && ( false ? undefined : _typeof2(module)) === 'object') module.exports = factory();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else {}\n})(undefined, function () {\n  return (/******/function (modules) {\n      // webpackBootstrap\n      /******/ // The module cache\n      /******/var installedModules = {};\n      /******/\n      /******/ // The require function\n      /******/function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/if (installedModules[moduleId]) {\n          /******/return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/ // Create a new module (and put it into the cache)\n        /******/var module = installedModules[moduleId] = {\n          /******/i: moduleId,\n          /******/l: false,\n          /******/exports: {}\n          /******/ };\n        /******/\n        /******/ // Execute the module function\n        /******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/module.l = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/return module.exports;\n        /******/\n      }\n      /******/\n      /******/\n      /******/ // expose the modules object (__webpack_modules__)\n      /******/__webpack_require__.m = modules;\n      /******/\n      /******/ // expose the module cache\n      /******/__webpack_require__.c = installedModules;\n      /******/\n      /******/ // define getter function for harmony exports\n      /******/__webpack_require__.d = function (exports, name, getter) {\n        /******/if (!__webpack_require__.o(exports, name)) {\n          /******/Object.defineProperty(exports, name, { enumerable: true, get: getter });\n          /******/\n        }\n        /******/\n      };\n      /******/\n      /******/ // define __esModule on exports\n      /******/__webpack_require__.r = function (exports) {\n        /******/if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n          /******/\n        }\n        /******/Object.defineProperty(exports, '__esModule', { value: true });\n        /******/\n      };\n      /******/\n      /******/ // create a fake namespace object\n      /******/ // mode & 1: value is a module id, require it\n      /******/ // mode & 2: merge all properties of value into the ns\n      /******/ // mode & 4: return value when already ns object\n      /******/ // mode & 8|1: behave like require\n      /******/__webpack_require__.t = function (value, mode) {\n        /******/if (mode & 1) value = __webpack_require__(value);\n        /******/if (mode & 8) return value;\n        /******/if (mode & 4 && (typeof value === 'undefined' ? 'undefined' : _typeof2(value)) === 'object' && value && value.__esModule) return value;\n        /******/var ns = Object.create(null);\n        /******/__webpack_require__.r(ns);\n        /******/Object.defineProperty(ns, 'default', { enumerable: true, value: value });\n        /******/if (mode & 2 && typeof value != 'string') for (var key in value) {\n          __webpack_require__.d(ns, key, function (key) {\n            return value[key];\n          }.bind(null, key));\n        } /******/return ns;\n        /******/\n      };\n      /******/\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\n      /******/__webpack_require__.n = function (module) {\n        /******/var getter = module && module.__esModule ?\n        /******/function getDefault() {\n          return module['default'];\n        } :\n        /******/function getModuleExports() {\n          return module;\n        };\n        /******/__webpack_require__.d(getter, 'a', getter);\n        /******/return getter;\n        /******/\n      };\n      /******/\n      /******/ // Object.prototype.hasOwnProperty.call\n      /******/__webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n      /******/ // __webpack_public_path__\n      /******/__webpack_require__.p = \"\";\n      /******/\n      /******/\n      /******/ // Load entry module and return exports\n      /******/return __webpack_require__(__webpack_require__.s = 13);\n      /******/\n    }(\n    /************************************************************************/\n    /******/[\n    /* 0 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var compose = __webpack_require__(2);\n      var Shortcut = __webpack_require__(17);\n      var isStamp = __webpack_require__(6);\n      var isString = __webpack_require__(18);\n      var isObject = __webpack_require__(1);\n      var isFunction = __webpack_require__(3);\n      var merge = __webpack_require__(8);\n      var assign = __webpack_require__(7);\n\n      var concat = Array.prototype.concat;\n      function extractFunctions() {\n        var fns = concat.apply([], arguments).filter(isFunction);\n        return fns.length === 0 ? undefined : fns;\n      }\n\n      function standardiseDescriptor(descr) {\n        if (!isObject(descr)) return descr;\n\n        var methods = descr.methods;\n        var properties = descr.properties;\n        var props = descr.props;\n        var initializers = descr.initializers;\n        var init = descr.init;\n        var composers = descr.composers;\n        var deepProperties = descr.deepProperties;\n        var deepProps = descr.deepProps;\n        var pd = descr.propertyDescriptors;\n        var staticProperties = descr.staticProperties;\n        var statics = descr.statics;\n        var staticDeepProperties = descr.staticDeepProperties;\n        var deepStatics = descr.deepStatics;\n        var configuration = descr.configuration;\n        var conf = descr.conf;\n        var deepConfiguration = descr.deepConfiguration;\n        var deepConf = descr.deepConf;\n\n        var p = isObject(props) || isObject(properties) ? assign({}, props, properties) : undefined;\n\n        var dp = isObject(deepProps) ? merge({}, deepProps) : undefined;\n        dp = isObject(deepProperties) ? merge(dp, deepProperties) : dp;\n\n        var sp = isObject(statics) || isObject(staticProperties) ? assign({}, statics, staticProperties) : undefined;\n\n        var sdp = isObject(deepStatics) ? merge({}, deepStatics) : undefined;\n        sdp = isObject(staticDeepProperties) ? merge(sdp, staticDeepProperties) : sdp;\n\n        var spd = descr.staticPropertyDescriptors;\n        if (isString(descr.name)) spd = assign({}, spd || {}, { name: { value: descr.name } });\n\n        var c = isObject(conf) || isObject(configuration) ? assign({}, conf, configuration) : undefined;\n\n        var dc = isObject(deepConf) ? merge({}, deepConf) : undefined;\n        dc = isObject(deepConfiguration) ? merge(dc, deepConfiguration) : dc;\n\n        var ii = extractFunctions(init, initializers);\n\n        var cc = extractFunctions(composers);\n\n        var descriptor = {};\n        if (methods) descriptor.methods = methods;\n        if (p) descriptor.properties = p;\n        if (ii) descriptor.initializers = ii;\n        if (cc) descriptor.composers = cc;\n        if (dp) descriptor.deepProperties = dp;\n        if (sp) descriptor.staticProperties = sp;\n        if (sdp) descriptor.staticDeepProperties = sdp;\n        if (pd) descriptor.propertyDescriptors = pd;\n        if (spd) descriptor.staticPropertyDescriptors = spd;\n        if (c) descriptor.configuration = c;\n        if (dc) descriptor.deepConfiguration = dc;\n\n        return descriptor;\n      }\n\n      function stampit() {\n        'use strict'; // to make sure `this` is not pointing to `global` or `window`\n\n        var length = arguments.length,\n            args = [];\n        for (var i = 0; i < length; i += 1) {\n          var arg = arguments[i];\n          args.push(isStamp(arg) ? arg : standardiseDescriptor(arg));\n        }\n\n        return compose.apply(this || baseStampit, args); // jshint ignore:line\n      }\n\n      var baseStampit = Shortcut.compose({\n        staticProperties: {\n          create: function create() {\n            return this.apply(this, arguments);\n          },\n          compose: stampit // infecting\n        }\n      });\n\n      var shortcuts = Shortcut.compose.staticProperties;\n      for (var prop in shortcuts) {\n        stampit[prop] = shortcuts[prop].bind(baseStampit);\n      }stampit.compose = stampit.bind();\n\n      module.exports = stampit;\n\n      /***/\n    },\n    /* 1 */\n    /***/function (module, exports) {\n\n      module.exports = function isObject(arg) {\n        var type = typeof arg === 'undefined' ? 'undefined' : _typeof2(arg);\n        return Boolean(arg) && (type === 'object' || type === 'function');\n      };\n\n      /***/\n    },\n    /* 2 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var isArray = __webpack_require__(5);\n      var isFunction = __webpack_require__(3);\n      var isObject = __webpack_require__(1);\n      var isStamp = __webpack_require__(6);\n      var isComposable = __webpack_require__(15);\n\n      var assign = __webpack_require__(7);\n      var merge = __webpack_require__(8);\n\n      var slice = Array.prototype.slice;\n\n      /**\n       * Creates new factory instance.\n       * @returns {Function} The new factory function.\n       */\n      function createFactory() {\n        return function Stamp(options) {\n          var descriptor = Stamp.compose || {};\n          // Next line was optimized for most JS VMs. Please, be careful here!\n          var obj = { __proto__: descriptor.methods }; // jshint ignore:line\n\n          merge(obj, descriptor.deepProperties);\n          assign(obj, descriptor.properties);\n          Object.defineProperties(obj, descriptor.propertyDescriptors || {});\n\n          if (!descriptor.initializers || descriptor.initializers.length === 0) return obj;\n\n          if (options === undefined) options = {};\n          var inits = descriptor.initializers;\n          var length = inits.length;\n          for (var i = 0; i < length; i += 1) {\n            var initializer = inits[i];\n            if (isFunction(initializer)) {\n              var returnedValue = initializer.call(obj, options, { instance: obj, stamp: Stamp, args: slice.apply(arguments) });\n              obj = returnedValue === undefined ? obj : returnedValue;\n            }\n          }\n\n          return obj;\n        };\n      }\n\n      /**\n       * Returns a new stamp given a descriptor and a compose function implementation.\n       * @param {Descriptor} [descriptor={}] The information about the object the stamp will be creating.\n       * @param {Compose} composeFunction The \"compose\" function implementation.\n       * @returns {Stamp}\n       */\n      function createStamp(descriptor, composeFunction) {\n        var Stamp = createFactory();\n\n        if (descriptor.staticDeepProperties) {\n          merge(Stamp, descriptor.staticDeepProperties);\n        }\n        if (descriptor.staticProperties) {\n          assign(Stamp, descriptor.staticProperties);\n        }\n        if (descriptor.staticPropertyDescriptors) {\n          Object.defineProperties(Stamp, descriptor.staticPropertyDescriptors);\n        }\n\n        var composeImplementation = isFunction(Stamp.compose) ? Stamp.compose : composeFunction;\n        Stamp.compose = function _compose() {\n          'use strict'; // to make sure `this` is not pointing to `global` or `window`\n\n          return composeImplementation.apply(this, arguments);\n        };\n        assign(Stamp.compose, descriptor);\n\n        return Stamp;\n      }\n\n      function concatAssignFunctions(dstObject, srcArray, propName) {\n        if (!isArray(srcArray)) return;\n\n        var length = srcArray.length;\n        var dstArray = dstObject[propName] || [];\n        dstObject[propName] = dstArray;\n        for (var i = 0; i < length; i += 1) {\n          var fn = srcArray[i];\n          if (isFunction(fn) && dstArray.indexOf(fn) < 0) {\n            dstArray.push(fn);\n          }\n        }\n      }\n\n      function combineProperties(dstObject, srcObject, propName, action) {\n        if (!isObject(srcObject[propName])) return;\n        if (!isObject(dstObject[propName])) dstObject[propName] = {};\n        action(dstObject[propName], srcObject[propName]);\n      }\n\n      function deepMergeAssign(dstObject, srcObject, propName) {\n        combineProperties(dstObject, srcObject, propName, merge);\n      }\n      function mergeAssign(dstObject, srcObject, propName) {\n        combineProperties(dstObject, srcObject, propName, assign);\n      }\n\n      /**\n       * Mutates the dstDescriptor by merging the srcComposable data into it.\n       * @param {Descriptor} dstDescriptor The descriptor object to merge into.\n       * @param {Composable} [srcComposable] The composable\n       * (either descriptor or stamp) to merge data form.\n       */\n      function mergeComposable(dstDescriptor, srcComposable) {\n        var srcDescriptor = srcComposable && srcComposable.compose || srcComposable;\n\n        mergeAssign(dstDescriptor, srcDescriptor, 'methods');\n        mergeAssign(dstDescriptor, srcDescriptor, 'properties');\n        deepMergeAssign(dstDescriptor, srcDescriptor, 'deepProperties');\n        mergeAssign(dstDescriptor, srcDescriptor, 'propertyDescriptors');\n        mergeAssign(dstDescriptor, srcDescriptor, 'staticProperties');\n        deepMergeAssign(dstDescriptor, srcDescriptor, 'staticDeepProperties');\n        mergeAssign(dstDescriptor, srcDescriptor, 'staticPropertyDescriptors');\n        mergeAssign(dstDescriptor, srcDescriptor, 'configuration');\n        deepMergeAssign(dstDescriptor, srcDescriptor, 'deepConfiguration');\n        concatAssignFunctions(dstDescriptor, srcDescriptor.initializers, 'initializers');\n        concatAssignFunctions(dstDescriptor, srcDescriptor.composers, 'composers');\n      }\n\n      /**\n       * Given the list of composables (stamp descriptors and stamps) returns\n       * a new stamp (composable factory function).\n       * @typedef {Function} Compose\n       * @param {...(Composable)} [arguments] The list of composables.\n       * @returns {Stamp} A new stamp (aka composable factory function)\n       */\n      module.exports = function compose() {\n        'use strict'; // to make sure `this` is not pointing to `global` or `window`\n\n        var descriptor = {};\n        var composables = [];\n        if (isComposable(this)) {\n          mergeComposable(descriptor, this);\n          composables.push(this);\n        }\n\n        for (var i = 0; i < arguments.length; i++) {\n          var arg = arguments[i];\n          if (isComposable(arg)) {\n            mergeComposable(descriptor, arg);\n            composables.push(arg);\n          }\n        }\n\n        var stamp = createStamp(descriptor, compose);\n\n        var composers = descriptor.composers;\n        if (isArray(composers) && composers.length > 0) {\n          for (var j = 0; j < composers.length; j += 1) {\n            var composer = composers[j];\n            var returnedValue = composer({ stamp: stamp, composables: composables });\n            stamp = isStamp(returnedValue) ? returnedValue : stamp;\n          }\n        }\n\n        return stamp;\n      };\n\n      /**\n       * The Stamp Descriptor\n       * @typedef {Function|Object} Descriptor\n       * @returns {Stamp} A new stamp based on this Stamp\n       * @property {Object} [methods] Methods or other data used as object instances' prototype\n       * @property {Array<Function>} [initializers] List of initializers called for each object instance\n       * @property {Array<Function>} [composers] List of callbacks called each time a composition happens\n       * @property {Object} [properties] Shallow assigned properties of object instances\n       * @property {Object} [deepProperties] Deeply merged properties of object instances\n       * @property {Object} [staticProperties] Shallow assigned properties of Stamps\n       * @property {Object} [staticDeepProperties] Deeply merged properties of Stamps\n       * @property {Object} [configuration] Shallow assigned properties of Stamp arbitrary metadata\n       * @property {Object} [deepConfiguration] Deeply merged properties of Stamp arbitrary metadata\n       * @property {Object} [propertyDescriptors] ES5 Property Descriptors applied to object instances\n       * @property {Object} [staticPropertyDescriptors] ES5 Property Descriptors applied to Stamps\n       */\n\n      /**\n       * The Stamp factory function\n       * @typedef {Function} Stamp\n       * @returns {*} Instantiated object\n       * @property {Descriptor} compose - The Stamp descriptor and composition function\n       */\n\n      /**\n       * A composable object - stamp or descriptor\n       * @typedef {Stamp|Descriptor} Composable\n       */\n\n      /***/\n    },\n    /* 3 */\n    /***/function (module, exports) {\n\n      module.exports = function isFunction(arg) {\n        return typeof arg === 'function';\n      };\n\n      /***/\n    },\n    /* 4 */\n    /***/function (module, exports) {\n\n      var g;\n\n      // This works in non-strict mode\n      g = function () {\n        return this;\n      }();\n\n      try {\n        // This works if eval is allowed (see CSP)\n        g = g || new Function(\"return this\")();\n      } catch (e) {\n        // This works if the window reference is available\n        if ((typeof window === 'undefined' ? 'undefined' : _typeof2(window)) === \"object\") g = window;\n      }\n\n      // g can still be undefined, but nothing to do about it...\n      // We return undefined, instead of nothing here, so it's\n      // easier to handle this case. if(!global) { ...}\n\n      module.exports = g;\n\n      /***/\n    },\n    /* 5 */\n    /***/function (module, exports) {\n\n      module.exports = Array.isArray;\n\n      /***/\n    },\n    /* 6 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var isFunction = __webpack_require__(3);\n\n      module.exports = function isStamp(arg) {\n        return isFunction(arg) && isFunction(arg.compose);\n      };\n\n      /***/\n    },\n    /* 7 */\n    /***/function (module, exports) {\n\n      module.exports = Object.assign;\n\n      /***/\n    },\n    /* 8 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var isPlainObject = __webpack_require__(16);\n      var isObject = __webpack_require__(1);\n      var isArray = __webpack_require__(5);\n\n      /**\n       * The 'src' argument plays the command role.\n       * The returned values is always of the same type as the 'src'.\n       * @param dst The object to merge into\n       * @param src The object to merge from\n       * @returns {*}\n       */\n      function mergeOne(dst, src) {\n        if (src === undefined) return dst;\n\n        // According to specification arrays must be concatenated.\n        // Also, the '.concat' creates a new array instance. Overrides the 'dst'.\n        if (isArray(src)) return (isArray(dst) ? dst : []).concat(src);\n\n        // Now deal with non plain 'src' object. 'src' overrides 'dst'\n        // Note that functions are also assigned! We do not deep merge functions.\n        if (!isPlainObject(src)) return src;\n\n        // See if 'dst' is allowed to be mutated.\n        // If not - it's overridden with a new plain object.\n        var returnValue = isObject(dst) ? dst : {};\n\n        var keys = Object.keys(src);\n        for (var i = 0; i < keys.length; i += 1) {\n          var key = keys[i];\n\n          var srcValue = src[key];\n          // Do not merge properties with the 'undefined' value.\n          if (srcValue !== undefined) {\n            var dstValue = returnValue[key];\n            // Recursive calls to mergeOne() must allow only plain objects or arrays in dst\n            var newDst = isPlainObject(dstValue) || isArray(srcValue) ? dstValue : {};\n\n            // deep merge each property. Recursion!\n            returnValue[key] = mergeOne(newDst, srcValue);\n          }\n        }\n\n        return returnValue;\n      }\n\n      module.exports = function (dst) {\n        for (var i = 1; i < arguments.length; i++) {\n          dst = mergeOne(dst, arguments[i]);\n        }\n        return dst;\n      };\n\n      /***/\n    },\n    /* 9 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n      /* WEBPACK VAR INJECTION */\n      (function (global) {\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _it = __webpack_require__(0);\n\n        var _it2 = _interopRequireDefault(_it);\n\n        var _privatize = __webpack_require__(19);\n\n        var _privatize2 = _interopRequireDefault(_privatize);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : { default: obj };\n        }\n\n        exports.default = (0, _it2.default)({\n          properties: {\n            name: \"baseModel\",\n            config: {\n              remote: {\n                path: undefined,\n                token: undefined,\n                pullForm: false\n              },\n              local: {\n                connector: \"loki\"\n              },\n              merge: {\n                connector: \"formio-loki\"\n              }\n            }\n          },\n          methods: {\n            /**\n             *\n             */\n            getModelName: function getModelName() {\n              return this.name;\n            },\n\n            /**\n             *\n             */\n            getFluentConfig: function getFluentConfig() {\n              var FLUENT = void 0;\n              if (typeof window !== \"undefined\" && window && window._FLUENT_) {\n                FLUENT = window._FLUENT_;\n              } else if (global && global._FLUENT_) {\n                FLUENT = global._FLUENT_;\n              }\n\n              return FLUENT;\n            },\n\n            /**\n             *\n             * @param {*} connectors\n             * @param {*} type\n             */\n            getConnector: function getConnector(connectors, type) {\n              var connectorName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              if (Array.isArray(connectors)) {\n                return this.getConnectorFromArray(connectors, type, connectorName);\n              }\n\n              if (connectors instanceof Object) {\n                return connectors;\n              }\n\n              return undefined;\n            },\n\n            /**\n             *\n             * @param {*} connectors\n             * @param {*} type\n             */\n            getConnectorFromArray: function getConnectorFromArray(connectors, type) {\n              var _this = this;\n\n              var connectorName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              // Default case\n              if (connectors.length === 1) return connectors[0];\n\n              // If the model assigns specific one\n              if (this.config && this.config[type] && this.config[type].connector) {\n                var Lcon = connectors.find(function (c) {\n                  return c.name === _this.config[type].connector;\n                });\n\n                if (Lcon instanceof Object) return Lcon;\n              }\n\n              // If connectorName is specified\n              if (connectorName) {\n                var _Lcon = connectors.find(function (c) {\n                  return c.name === connectorName;\n                });\n\n                if (_Lcon instanceof Object) return _Lcon;\n              }\n\n              var base = connectors.find(function (c) {\n                return c.default;\n              });\n\n              if (base instanceof Object) return base;\n\n              return undefined;\n            },\n\n            /**\n             * [remote description]\n             * @return {[type]} [description]\n             */\n            remote: function remote() {\n              var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  _ref$token = _ref.token,\n                  token = _ref$token === undefined ? undefined : _ref$token,\n                  _ref$pullForm = _ref.pullForm,\n                  pullForm = _ref$pullForm === undefined ? undefined : _ref$pullForm,\n                  _ref$connectorName = _ref.connectorName,\n                  connectorName = _ref$connectorName === undefined ? undefined : _ref$connectorName,\n                  _ref$path = _ref.path,\n                  path = _ref$path === undefined ? undefined : _ref$path;\n\n              var FLUENT = this.getFluentConfig();\n              var connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.remote;\n\n              if (!connectors) {\n                throw new Error(\"No remote connector was defined. Please define it using Fluent.config()\");\n              }\n\n              var remoteConnector = this.getConnector(connectors, \"remote\", connectorName || false);\n\n              this.config.remote.token = token || this.config.remote.token;\n              this.config.remote.path = path || this.config.remote.path;\n\n              if (pullForm) {\n                this.config.remote.pullForm = pullForm || this.config.remote.pullForm;\n              }\n\n              if (remoteConnector) {\n                return remoteConnector.connector({\n                  remoteConnection: this.config.remote,\n                  connector: remoteConnector\n                });\n              }\n\n              throw new Error(\"No default remote connector found. Please assign one as your default in Fluent.config\");\n            },\n\n            /**\n             * [local description]\n             * @return {[type]} [description]\n             */\n            local: function local() {\n              var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  _ref2$connectorName = _ref2.connectorName,\n                  connectorName = _ref2$connectorName === undefined ? undefined : _ref2$connectorName;\n\n              var FLUENT = this.getFluentConfig();\n              var connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.local;\n\n              if (!connectors) throw new Error(\"No local connector was defined. Please define it using Fluent.config()\");\n\n              var localConnector = this.getConnector(connectors, \"local\", connectorName || false);\n\n              if (localConnector) return localConnector.connector({\n                name: this.name,\n                connector: localConnector\n              });\n\n              throw new Error(\"No default local connector found. Please assign one as your default in Fluent.config\");\n            },\n\n            /**\n             * [local description]\n             * @return {[type]} [description]\n             */\n            merged: function merged() {\n              var local = this.local();\n              var remote = this.remote();\n\n              var FLUENT = this.getFluentConfig();\n              var connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.merge;\n\n              if (!connectors) {\n                throw new Error(\"No merge connector was defined. Please define it using Fluent.config()\");\n              }\n\n              var mergeConnector = this.getConnector(connectors, \"merge\");\n\n              if (mergeConnector) {\n                return mergeConnector.connector({\n                  local: local,\n                  remote: remote,\n                  name: this.name,\n                  connector: mergeConnector\n                });\n              }\n\n              throw new Error(\"No default merge connector found. Please assign one as your default in Fluent.config\");\n            }\n          }\n        }).compose(_privatize2.default);\n        /* WEBPACK VAR INJECTION */\n      }).call(this, __webpack_require__(4));\n\n      /***/\n    },\n    /* 10 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }return target;\n      };\n\n      var _it = __webpack_require__(0);\n\n      var _it2 = _interopRequireDefault(_it);\n\n      var _utilities = __webpack_require__(11);\n\n      var _utilities2 = _interopRequireDefault(_utilities);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      function _asyncToGenerator(fn) {\n        return function () {\n          var gen = fn.apply(this, arguments);return new Promise(function (resolve, reject) {\n            function step(key, arg) {\n              try {\n                var info = gen[key](arg);var value = info.value;\n              } catch (error) {\n                reject(error);return;\n              }if (info.done) {\n                resolve(value);\n              } else {\n                return Promise.resolve(value).then(function (value) {\n                  step(\"next\", value);\n                }, function (err) {\n                  step(\"throw\", err);\n                });\n              }\n            }return step(\"next\");\n          });\n        };\n      }\n\n      function _toConsumableArray(arr) {\n        if (Array.isArray(arr)) {\n          for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n          }return arr2;\n        } else {\n          return Array.from(arr);\n        }\n      }\n\n      exports.default = (0, _it2.default)({\n        init: function init(data) {\n          if (!Array.isArray(data)) {\n            throw new Error('Collect method only accepts arrays of data');\n          }\n          this.data = data;\n        },\n\n        properties: {\n          data: []\n        },\n        methods: {\n          /**\n           * \n           */\n          get: function get() {\n            return this.data;\n          },\n\n          /**\n           * Alias for the \"get\" method\n           * @return function\n           */\n          all: function all() {\n            return this.get();\n          },\n\n          /**\n           * Alias for the \"average\" method.\n           *\n           * @param  {String}  path Path of the key\n           * @return function\n           */\n          avg: function avg(path) {\n            return this.average(path);\n          },\n\n          /**\n           * Get the average value of a given key.\n           *\n           * @param  {String}  path Path of the key\n           * @return static\n           */\n          average: function average() {\n            var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n            var data = [].concat(_toConsumableArray(this.data));\n            var sum = data.reduce(function (acc, element) {\n              var value = element;\n\n              if (element instanceof Object) {\n                var extract = _utilities2.default.getFromPath(element, path, undefined);\n                if (typeof extract !== 'undefined' && extract.value) {\n                  value = extract.value;\n                }\n              }\n              return acc + value;\n            }, 0);\n\n            try {\n              var avg = sum / data.length;\n              return avg;\n            } catch (e) {\n              throw new Error('Division between \"' + sum + '\" and \"' + data.length + '\" is not valid.');\n            }\n          },\n          chunkApply: function chunkApply(size, callback) {\n            var _this = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var totalSize, count, reducer, promiseChain;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      if (!(callback === undefined)) {\n                        _context.next = 2;\n                        break;\n                      }\n\n                      throw new Error('Callback function not defined.');\n\n                    case 2:\n                      totalSize = _this.data.length;\n                      count = 0;\n\n                      _this.chunks(size);\n\n                      // console.log(`Processed ${count}/${totalSize} elements...`);\n\n                      /* for (const chunk of this.data) {\n                        const promises = [];\n                         chunk.forEach((element) => {\n                          promises.push(callback(element, count));\n                          count = count + 1;\n                        });\n                         await Promise.all(promises);\n                         // count = (count + size) > totalSize ? totalSize : count + size;\n                        console.log(`Processed ${count}/${totalSize} elements...`);\n                      } */\n\n                      reducer = function reducer(chain, batch) {\n                        return chain.then(function () {\n                          return Promise.all(batch.map(function (d) {\n                            return callback(d);\n                          }));\n                        }).then(function () {\n                          count = count + size > totalSize ? totalSize : count + size;\n                          console.log('Processed ' + count + '/' + totalSize + ' elements...');\n                        });\n                      };\n\n                      console.log('Processed ' + count + '/' + totalSize + ' elements...');\n                      promiseChain = _this.data.reduce(reducer, Promise.resolve());\n                      return _context.abrupt('return', promiseChain);\n\n                    case 9:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this);\n            }))();\n          },\n\n          /**\n           * Chunks the given array\n           *\n           * @param {Int} size\n           * @return static\n           */\n          chunks: function chunks(size) {\n            var data = [].concat(_toConsumableArray(this.data));\n            var results = [];\n\n            while (data.length) {\n              results.push(data.splice(0, size));\n            }\n\n            this.data = results;\n            return this;\n          },\n\n          /**\n           * \n           */\n          collapse: function collapse() {\n            var data = [].concat(_toConsumableArray(this.data));\n            var results = [];\n\n            data.forEach(function (chunk) {\n              if (Array.isArray(chunk)) {\n                chunk.forEach(function (element) {\n                  results.push(element);\n                });\n              } else {\n                results.push(chunk);\n              }\n            });\n            this.data = results;\n\n            return this;\n          },\n          unChunk: function unChunk() {\n            return this.collapse();\n          },\n          combine: function combine(array) {\n            var data = [].concat(_toConsumableArray(this.data));\n            var result = void 0;\n            data.forEach(function (e, index) {\n              if (!(e instanceof Object)) {\n                if (!result) {\n                  result = {};\n                }\n                result[e] = array[index];\n              } else {\n                if (!result) {\n                  result = [];\n                }\n                result[index] = _extends({}, e, { _value: array[index] });\n              }\n            });\n\n            this.data = result;\n            return this;\n          },\n          concat: function concat(array) {\n            this.data = [].concat(_toConsumableArray(this.data), _toConsumableArray(array));\n            return this;\n          },\n          contains: function contains() {\n            var value = void 0;\n            var path = void 0;\n            var Fx = void 0;\n            if (arguments.length === 1) {\n              if (this.isFunction(arguments.length <= 0 ? undefined : arguments[0])) {\n                Fx = arguments.length <= 0 ? undefined : arguments[0];\n              }\n              value = arguments.length <= 0 ? undefined : arguments[0];\n            } else {\n              value = arguments.length <= 1 ? undefined : arguments[1];\n              path = arguments.length <= 0 ? undefined : arguments[0];\n            }\n            var data = [].concat(_toConsumableArray(this.data));\n\n            return data.some(function (e, index) {\n              if (Fx) {\n                return !!Fx(e, index);\n              }\n              var val = e;\n              if (e instanceof Object) {\n                var extract = _utilities2.default.getFromPath(e, path, undefined);\n                if (extract.value) {\n                  val = extract.value;\n                }\n              }\n              return val === value;\n            });\n          },\n\n          /**\n           * Returns an array of duplicate submissions, based on an array of keys.\n           * @param {Array} keys - Keys where the function compares an object to evaluate its similarity. \n           */\n          duplicatesBy: function duplicatesBy(keys) {\n            var data = [].concat(_toConsumableArray(this.data));\n            var duplicates = [];\n\n            data.reduce(function (object, submission) {\n              var finalKey = keys.reduce(function (string, key) {\n                return string + _utilities2.default.getFromPath(submission, key, '').value;\n              }, '');\n\n              if (object.hasOwnProperty(finalKey)) {\n                duplicates.push(submission);\n              } else {\n                object[finalKey] = true;\n              }\n\n              return object;\n            }, {});\n\n            this.data = duplicates;\n\n            return this;\n          },\n          count: function count() {\n            return this.data.length;\n          },\n          isFunction: function isFunction(functionToCheck) {\n            return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\n          }\n        }\n      });\n\n      /***/\n    },\n    /* 11 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      /* eslint-disable no-unused-vars */\n      var Utilities = function () {\n        /**\n         * Given an Object and its path, if exisits it will\n         * return the value of it, if not the default\n         * @param {Object} obj\n         * @param {String} path\n         * @param {*} def\n         */\n        var get = function get(fn, def) {\n          try {\n            return fn();\n          } catch (e) {\n            return def;\n          }\n        };\n        /**\n         *\n         * @param {*} obj\n         * @param {*} path\n         * @param {*} def\n         */\n        var getFromPath = function getFromPath(obj, path, def) {\n          var _path = path;\n\n          if (path.includes(' as ')) {\n            path = path.split(' as ');\n            _path = path[0];\n          }\n\n          var assignedName = get(function () {\n            return Array.isArray(path) && path[1].trim();\n          }, undefined);\n\n          var fullPath = _path.replace(/\\[/g, '.').replace(/]/g, '').split('.').filter(Boolean).map(function (e) {\n            return e.trim();\n          });\n\n          function everyFunc(step) {\n            return !(step && (obj = obj[step]) === undefined);\n          }\n\n          var result = fullPath.every(everyFunc) ? obj : def;\n\n          return { label: assignedName || _path, value: result };\n        };\n\n        return Object.freeze({\n          get: get,\n          getFromPath: getFromPath\n        });\n      }();\n\n      exports.default = Utilities;\n\n      /***/\n    },\n    /* 12 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n        return typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      };\n\n      var _it = __webpack_require__(0);\n\n      var _it2 = _interopRequireDefault(_it);\n\n      var _utilities = __webpack_require__(11);\n\n      var _utilities2 = _interopRequireDefault(_utilities);\n\n      var _Collection = __webpack_require__(10);\n\n      var _Collection2 = _interopRequireDefault(_Collection);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      function _toConsumableArray(arr) {\n        if (Array.isArray(arr)) {\n          for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n          }return arr2;\n        } else {\n          return Array.from(arr);\n        }\n      }\n\n      function _asyncToGenerator(fn) {\n        return function () {\n          var gen = fn.apply(this, arguments);return new Promise(function (resolve, reject) {\n            function step(key, arg) {\n              try {\n                var info = gen[key](arg);var value = info.value;\n              } catch (error) {\n                reject(error);return;\n              }if (info.done) {\n                resolve(value);\n              } else {\n                return Promise.resolve(value).then(function (value) {\n                  step(\"next\", value);\n                }, function (err) {\n                  step(\"throw\", err);\n                });\n              }\n            }return step(\"next\");\n          });\n        };\n      }\n\n      exports.default = (0, _it2.default)({\n        init: function init(_ref) {\n          var name = _ref.name,\n              remoteConnection = _ref.remoteConnection,\n              connector = _ref.connector;\n\n          if (!name && !remoteConnection) {\n            throw new Error(\"Model must have a name or path\");\n          }\n\n          if (!connector) {\n            throw new Error(\"Model must have a connector. Please register one using Fluent.config\");\n          }\n          this.name = name || this.name;\n          this.remoteConnection = remoteConnection || this.remoteConnection;\n          this.connector = connector || this.connector;\n          this.chainReference = [];\n          this.whereArray = [];\n          this.orWhereArray = [];\n          this.selectArray = [];\n          this.orderByArray = [];\n          this.limitNumber = undefined;\n          this.offsetNumber = undefined;\n          this.populateArray = [];\n          this.chunk = null;\n          this.pullSize = null;\n          this.ownerId = undefined;\n          this.paginator = undefined;\n          this.rawQuery = undefined;\n        },\n\n        properties: {\n          operators: [\"=\", \"<\", \">\", \"<=\", \">=\", \"<>\", \"!=\", \"in\", \"nin\", \"like\", \"regexp\", \"startsWith\", \"endsWith\", \"contains\"]\n        },\n        methods: {\n          /**\n           *\n           */\n          get: function get() {\n            throw new Error(\"get() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          all: function all() {\n            throw new Error(\"all() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          find: function find(id) {\n            throw new Error(\"find() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          findOne: function findOne() {\n            throw new Error(\"findOne() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          remove: function remove() {\n            throw new Error(\"remove() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          softDelete: function softDelete() {\n            throw new Error(\"softDelete() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          insert: function insert() {\n            throw new Error(\"insert() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          update: function update() {\n            throw new Error(\"update() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          clear: function clear() {\n            throw new Error(\"clear() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          updateOrCreate: function updateOrCreate() {\n            throw new Error(\"updateOrCreate() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          findAndRemove: function findAndRemove() {\n            throw new Error(\"findAndRemove() method not implemented\");\n          },\n\n          /**\n           *\n           * @param {*} paginator\n           */\n          paginate: function paginate() {\n            throw new Error(\"paginate() method not implemented\");\n          },\n\n          /**\n           * @param {*} tableView\n           */\n          tableView: function tableView() {\n            throw new Error(\"tableView() method not implemented\");\n          },\n\n          /**\n           * @param {*} raw\n           */\n          raw: function raw() {\n            throw new Error(\"raw() method not implemented\");\n          },\n          owner: function owner(user) {\n            this.chainReference.push({ method: \"owner\", args: user });\n            this.ownerId = user;\n            return this;\n          },\n          own: function own(user) {\n            return this.owner(user);\n          },\n\n          /**\n           * Executes the Get() method and\n           * returns the its first result\n           *\n           * @return {Object} First result\n           */\n          first: function first() {\n            var _this = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var data;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.next = 2;\n                      return _this.get();\n\n                    case 2:\n                      data = _context.sent;\n                      return _context.abrupt(\"return\", _utilities2.default.get(function () {\n                        return data[0];\n                      }, []));\n\n                    case 4:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this);\n            }))();\n          },\n\n          /**\n           *\n           * Gets the data in the current query and\n           * transforms it into a collection\n           * @returns {Collection} Fluent Collection\n           */\n          collect: function collect() {\n            var _this2 = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n              var data;\n              return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                while (1) {\n                  switch (_context2.prev = _context2.next) {\n                    case 0:\n                      _context2.next = 2;\n                      return _this2.get();\n\n                    case 2:\n                      data = _context2.sent;\n\n                      if (Array.isArray(data)) {\n                        _context2.next = 5;\n                        break;\n                      }\n\n                      throw new Error(\"Collect method only accepts arrays of data\");\n\n                    case 5:\n                      return _context2.abrupt(\"return\", (0, _Collection2.default)(data));\n\n                    case 6:\n                    case \"end\":\n                      return _context2.stop();\n                  }\n                }\n              }, _callee2, _this2);\n            }))();\n          },\n\n          /**\n           * Adds the given columns to the SelectArray\n           * to use as column filter for the data\n           *\n           * @param {Array|String} columns The columns to select\n           * @returns {Model} Fluent Model\n           */\n          select: function select() {\n            for (var _len = arguments.length, columns = Array(_len), _key = 0; _key < _len; _key++) {\n              columns[_key] = arguments[_key];\n            }\n\n            columns = this.prepareInput(columns);\n            this.chainReference.push({ method: \"select\", args: columns });\n            this.selectArray = this.selectArray.concat(columns).filter(function (elem, pos, arr) {\n              return arr.indexOf(elem) === pos;\n            });\n\n            return this;\n          },\n\n          /**\n           * Maps the given Data to show only those fields\n           * explicitly detailed on the Select function\n           *\n           * @param {Array} data Data from local or remote DB\n           * @returns {Array} Formatted data with the selected columns\n           */\n          jsApplySelect: function jsApplySelect(data) {\n            var _this3 = this;\n\n            var _data = Array.isArray(data) ? [].concat(_toConsumableArray(data)) : [data];\n\n            if (this.selectArray.length > 0) {\n              _data = _data.map(function (element) {\n                var newElement = {};\n\n                _this3.selectArray.forEach(function (attribute) {\n                  var extract = _utilities2.default.getFromPath(element, attribute, undefined);\n\n                  var value = _utilities2.default.get(function () {\n                    return extract.value;\n                  }, undefined);\n\n                  if (typeof value !== \"undefined\") {\n                    if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\" && value.hasOwnProperty(\"data\") && value.data.hasOwnProperty(\"name\")) {\n                      newElement[extract.label] = value.data.name;\n                    } else {\n                      newElement[extract.label] = value;\n                    }\n                  }\n                });\n\n                return newElement;\n              });\n            }\n\n            return _data;\n          },\n\n          /**\n           *  Sets the offset number for\n           *  the given query\n           *\n           * @param {int} offset The given offset\n           * @returns {Model} Fluent Model\n           */\n          offset: function offset(_offset) {\n            this.chainReference.push({ method: \"offset\", args: _offset });\n            this.offsetNumber = _offset;\n            return this;\n          },\n\n          /**\n           *  Sets the relations to be\n           *  loded with the query\n           *\n           * @param {int} offset The given offset\n           * @returns {Model} Fluent Model\n           */\n          populate: function populate() {\n            for (var _len2 = arguments.length, relations = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              relations[_key2] = arguments[_key2];\n            }\n\n            this.chainReference.push({ method: \"relations\", args: relations });\n            this.populateArray = relations;\n            return this;\n          },\n\n          /**\n           *  Alias for the offset methods\n           *\n           * @param {int} offset the given offset\n           */\n          skip: function skip(offset) {\n            return this.offset(offset);\n          },\n\n          /**\n           *  Adds where filters to the query\n           *  whereArray\n           * @param {String|Array} args Where filters\n           * @returns {Model} Fluent Model\n           */\n          where: function where() {\n            var _this4 = this;\n\n            for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n              args[_key3] = arguments[_key3];\n            }\n\n            this.chainReference.push({ method: \"where\", args: args });\n            this.whereArray = [];\n            args = Array.isArray(args[0]) ? args : [args];\n            args.forEach(function (arg) {\n              if (arg.length !== 3) {\n                throw new Error('There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' + JSON.stringify(arg) + '\" ');\n              }\n              _this4.whereArray.push(arg);\n            });\n            return this;\n          },\n\n          /**\n           * Pushes where filters with AND condition\n           * to the whereArray\n           *\n           * @param {String|Array} args Where filters\n           * @returns {Model} Fluent Model\n           */\n          andWhere: function andWhere() {\n            var _this5 = this;\n\n            for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n              args[_key4] = arguments[_key4];\n            }\n\n            this.chainReference.push({ method: \"andWhere\", args: args });\n            args = Array.isArray(args[0]) ? args : [args];\n            args.forEach(function (arg) {\n              if (arg.length !== 3) {\n                throw new Error('There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' + JSON.stringify(arg) + '\" ');\n              }\n              _this5.whereArray.push(arg);\n            });\n            return this;\n          },\n\n          /**\n           * Pushes where filter with OR condition\n           * to the orWhereArray\n           *\n           * @param {String|Array} args OR where filters\n           * @returns {Model} Fluent Model\n           */\n          orWhere: function orWhere() {\n            var _this6 = this;\n\n            for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n              args[_key5] = arguments[_key5];\n            }\n\n            this.chainReference.push({ method: \"orWhere\", args: args });\n            args = Array.isArray(args[0]) ? args : [args];\n            args.forEach(function (arg) {\n              if (arg.length !== 3) {\n                throw new Error('There orWhere clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' + JSON.stringify(arg) + '\" ');\n              }\n              _this6.orWhereArray.push(arg);\n            });\n            return this;\n          },\n\n          /**\n           * Limits the number of results for the\n           * given query\n           * @param {int} limit limit number\n           * @returns {Model} Fluent Model\n           */\n          limit: function limit(_limit) {\n            this.chainReference.push({ method: \"limit\", args: _limit });\n            this.limitNumber = _limit;\n            return this;\n          },\n\n          /**\n           * Alias for the limit method\n           *\n           * @param {*} limit limit number\n           * @returns {Model} Fluent Model\n           */\n          take: function take(limit) {\n            return this.limit(limit);\n          },\n\n          /**\n           * Gets all values for a given KEY\n           * @param {String} keyPath The path to the key\n           * @returns {Array}\n           */\n          pluck: function pluck(keyPath) {\n            var _this7 = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n              var data;\n              return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                while (1) {\n                  switch (_context3.prev = _context3.next) {\n                    case 0:\n                      _this7.chainReference.push({ method: \"pluck\", args: keyPath });\n                      _context3.next = 3;\n                      return _this7.get();\n\n                    case 3:\n                      data = _context3.sent;\n\n                      data = data.map(function (e) {\n                        var extracted = _utilities2.default.getFromPath(e, keyPath, undefined);\n\n                        if (typeof extracted.value !== \"undefined\") {\n                          return extracted.value;\n                        }\n                      });\n                      return _context3.abrupt(\"return\", data);\n\n                    case 6:\n                    case \"end\":\n                      return _context3.stop();\n                  }\n                }\n              }, _callee3, _this7);\n            }))();\n          },\n\n          /**\n           *\n           * @param {*} args\n           */\n          orderBy: function orderBy() {\n            for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n              args[_key6] = arguments[_key6];\n            }\n\n            this.chainReference.push({ method: \"orderBy\", args: args });\n            this.orderByArray = args;\n            return this;\n          },\n\n          /**\n           *\n           * @param {*} data\n           */\n          jsApplyOrderBy: function jsApplyOrderBy(data) {\n            var _data = [].concat(_toConsumableArray(data));\n\n            if (this.orderByArray.length === 0) {\n              return _data;\n            }\n            var field = this.orderByArray[0];\n\n            if (this.selectArray.length > 0 && (field.includes(\".\") || field.includes(\"[\"))) {\n              throw new Error('Cannot orderBy nested attribute \"' + field + '\" when using Select. You must rename the attribute');\n            }\n\n            var order = this.orderByArray[1];\n            var type = this.orderByArray[2];\n\n            if (!type) {\n              type = \"string\";\n            }\n\n            _data = _data.sort(function (a, b) {\n              var A = _utilities2.default.getFromPath(a, field, undefined).value;\n              var B = _utilities2.default.getFromPath(b, field, undefined).value;\n\n              if (typeof A === \"undefined\" || typeof B === \"undefined\") {\n                throw new Error('Cannot order by property \"' + field + '\" not all values have this property');\n              }\n              // For default order and numbers\n              if (type.includes(\"string\") || type.includes(\"number\")) {\n                if (order === \"asc\") {\n                  return A > B ? 1 : A < B ? -1 : 0;\n                }\n                return A > B ? -1 : A < B ? 1 : 0;\n              } else if (type.includes(\"date\")) {\n                if (order === \"asc\") {\n                  return new Date(A) - new Date(B);\n                }\n                return new Date(B) - new Date(A);\n              }\n            });\n            return _data;\n          },\n\n          /**\n           *\n           * @param {*} input\n           */\n          prepareInput: function prepareInput(input) {\n            var cols = [];\n\n            input.forEach(function (item) {\n              var value = Array.isArray(item) ? item : item.split(\",\");\n\n              value = value.map(function (e) {\n                return e.trim();\n              });\n              cols = cols.concat(value);\n            });\n\n            cols.filter(function (elem, pos, arr) {\n              return arr.indexOf(elem) === pos;\n            });\n\n            return cols;\n          },\n          ArrayInsert: function ArrayInsert(dataArray, options) {\n            var _this8 = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n              var initial, length, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, element, a;\n\n              return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                while (1) {\n                  switch (_context4.prev = _context4.next) {\n                    case 0:\n                      initial = 1;\n                      length = dataArray.length;\n                      _iteratorNormalCompletion = true;\n                      _didIteratorError = false;\n                      _iteratorError = undefined;\n                      _context4.prev = 5;\n                      _iterator = dataArray[Symbol.iterator]();\n\n                    case 7:\n                      if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n                        _context4.next = 26;\n                        break;\n                      }\n\n                      element = _step.value;\n\n                      if (options && options.showProgress) {\n                        console.log(\"Inserting \" + initial + \" of \" + length);\n                      }\n                      _context4.prev = 10;\n                      _context4.next = 13;\n                      return _this8.insert(element, options);\n\n                    case 13:\n                      a = _context4.sent;\n\n                      if (options && options.showProgress) {\n                        console.log(\"Element \" + initial + \" inserted\");\n                      }\n                      initial++;\n                      _context4.next = 23;\n                      break;\n\n                    case 18:\n                      _context4.prev = 18;\n                      _context4.t0 = _context4[\"catch\"](10);\n\n                      console.log(\"ERROR - Element \" + initial + \" - \" + JSON.stringify(element) + \" could not be inserted\");\n                      console.log(_context4.t0);\n                      initial++;\n\n                    case 23:\n                      _iteratorNormalCompletion = true;\n                      _context4.next = 7;\n                      break;\n\n                    case 26:\n                      _context4.next = 32;\n                      break;\n\n                    case 28:\n                      _context4.prev = 28;\n                      _context4.t1 = _context4[\"catch\"](5);\n                      _didIteratorError = true;\n                      _iteratorError = _context4.t1;\n\n                    case 32:\n                      _context4.prev = 32;\n                      _context4.prev = 33;\n\n                      if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                      }\n\n                    case 35:\n                      _context4.prev = 35;\n\n                      if (!_didIteratorError) {\n                        _context4.next = 38;\n                        break;\n                      }\n\n                      throw _iteratorError;\n\n                    case 38:\n                      return _context4.finish(35);\n\n                    case 39:\n                      return _context4.finish(32);\n\n                    case 40:\n                    case \"end\":\n                      return _context4.stop();\n                  }\n                }\n              }, _callee4, _this8, [[5, 28, 32, 40], [10, 18], [33,, 35, 39]]);\n            }))();\n          }\n        }\n      });\n\n      /***/\n    },\n    /* 13 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Event = exports.MergeConnector = exports.Interface = exports.Fluent = exports.Model = undefined;\n\n      var _Fluent = __webpack_require__(14);\n\n      var _Fluent2 = _interopRequireDefault(_Fluent);\n\n      var _Model = __webpack_require__(9);\n\n      var _Model2 = _interopRequireDefault(_Model);\n\n      var _Interface = __webpack_require__(12);\n\n      var _Interface2 = _interopRequireDefault(_Interface);\n\n      var _MergeConnector = __webpack_require__(20);\n\n      var _MergeConnector2 = _interopRequireDefault(_MergeConnector);\n\n      var _Event = __webpack_require__(21);\n\n      var _Event2 = _interopRequireDefault(_Event);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      exports.Model = _Model2.default;\n      exports.Fluent = _Fluent2.default;\n      exports.Interface = _Interface2.default;\n      exports.MergeConnector = _MergeConnector2.default;\n      exports.Event = _Event2.default;\n\n      /***/\n    },\n    /* 14 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n      /* WEBPACK VAR INJECTION */\n      (function (global) {\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _extends = Object.assign || function (target) {\n          for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];for (var key in source) {\n              if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n              }\n            }\n          }return target;\n        };\n\n        var _it = __webpack_require__(0);\n\n        var _it2 = _interopRequireDefault(_it);\n\n        var _Model = __webpack_require__(9);\n\n        var _Model2 = _interopRequireDefault(_Model);\n\n        var _Collection = __webpack_require__(10);\n\n        var _Collection2 = _interopRequireDefault(_Collection);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : { default: obj };\n        }\n\n        function _toConsumableArray(arr) {\n          if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n              arr2[i] = arr[i];\n            }return arr2;\n          } else {\n            return Array.from(arr);\n          }\n        }\n\n        var Fluent = (0, _it2.default)({\n          init: function init() {\n            this.registerGlobalVariable();\n          },\n\n          properties: {},\n          methods: {\n            model: function model() {\n              for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n\n              this.registerModel(args);\n              return _Model2.default.compose.apply(_Model2.default, _toConsumableArray(args));\n            },\n            extend: function extend() {\n              for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n\n              this.registerModel(args);\n              return _Model2.default.compose.apply(_Model2.default, _toConsumableArray(args));\n            },\n            compose: function compose() {\n              for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                args[_key3] = arguments[_key3];\n              }\n\n              this.registerModel(args);\n              return _Model2.default.compose.apply(_Model2.default, _toConsumableArray(args));\n            },\n            collect: function collect(args) {\n              return (0, _Collection2.default)(args);\n            },\n            registerGlobalVariable: function registerGlobalVariable() {\n              if (typeof window !== \"undefined\" && window && !window._FLUENT_) {\n                window._FLUENT_ = {\n                  connectors: {},\n                  models: {}\n                };\n              }\n\n              if (global && !global._FLUENT_) {\n                global._FLUENT_ = {\n                  connectors: {},\n                  models: {}\n                };\n              }\n            },\n            registerModel: function registerModel(args) {\n              var name = args && args[0] && args[0].properties && args[0].properties.name ? args[0].properties.name : undefined;\n\n              if (!name || name === \"baseModel\") {\n                return;\n              }\n\n              if (!(typeof name === \"string\")) {\n                throw new Error(\"You must assign a name to your Model when using Fluent.compose\");\n              }\n\n              if (typeof window !== \"undefined\") {\n                window._FLUENT_.models[name] = true;\n                return;\n              }\n              global._FLUENT_.models[name] = true;\n            },\n            config: function config(_ref) {\n              var _ref$REMOTE_CONNECTOR = _ref.REMOTE_CONNECTORS,\n                  REMOTE_CONNECTORS = _ref$REMOTE_CONNECTOR === undefined ? undefined : _ref$REMOTE_CONNECTOR,\n                  _ref$LOCAL_CONNECTORS = _ref.LOCAL_CONNECTORS,\n                  LOCAL_CONNECTORS = _ref$LOCAL_CONNECTORS === undefined ? undefined : _ref$LOCAL_CONNECTORS,\n                  _ref$MERGE_CONNECTORS = _ref.MERGE_CONNECTORS,\n                  MERGE_CONNECTORS = _ref$MERGE_CONNECTORS === undefined ? undefined : _ref$MERGE_CONNECTORS;\n\n              if (typeof window !== \"undefined\" && window) {\n                window._FLUENT_.connectors = {\n                  local: LOCAL_CONNECTORS,\n                  remote: REMOTE_CONNECTORS,\n                  merge: MERGE_CONNECTORS\n                };\n              }\n\n              if (typeof global !== \"undefined\" && global) {\n                global._FLUENT_.connectors = {\n                  local: LOCAL_CONNECTORS,\n                  remote: REMOTE_CONNECTORS,\n                  merge: MERGE_CONNECTORS\n                };\n              }\n            },\n            getConfig: function getConfig() {\n              if (typeof window !== \"undefined\" && window) {\n                return window._FLUENT_;\n              }\n\n              if (typeof global !== \"undefined\" && global) {\n                return global._FLUENT_;\n              }\n            },\n            registerConnector: function registerConnector(_ref2) {\n              var type = _ref2.type,\n                  connector = _ref2.connector;\n\n              if (!type || !connector) throw new Error(\"type and connector must be defined\");\n              if (![\"local\", \"remote\", \"merge\"].includes(type)) throw new Error(\"type must be either local, remote or merge\");\n\n              var ctx = typeof window !== \"undefined\" && window ? window._FLUENT_ : global._FLUENT_;\n              var connectors = ctx.connectors.hasOwnProperty(type) ? ctx.connectors[type] : [];\n\n              if (connectors.length === 0) {\n                connector = _extends({}, connector, {\n                  default: true\n                });\n\n                connectors.push(connector);\n                ctx.connectors[type] = connectors;\n                return;\n              }\n\n              if (connectors.find(function (o) {\n                return o.name === connector.name;\n              })) {\n                console.log(\"A \" + type + \" connector with the name '\" + connector.name + \"' already exists\");\n                return;\n              }\n\n              connectors.push(connector);\n              ctx.connectors[type] = connectors;\n            },\n            deregisterConnector: function deregisterConnector(_ref3) {\n              var type = _ref3.type,\n                  name = _ref3.name;\n\n              if (!type || !name) throw new Error(\"type and name must be defined\");\n              if (![\"local\", \"remote\", \"merge\"].includes(type)) throw new Error(\"type must be either local, remote or merge\");\n\n              var ctx = typeof window !== \"undefined\" && window ? window._FLUENT_ : global._FLUENT_;\n              var connectors = ctx.connectors.hasOwnProperty(type) ? ctx.connectors[type] : [];\n\n              if (connectors.length === 0) return;\n\n              var filteredConnectors = connectors.filter(function (o) {\n                return o.name !== name;\n              });\n              ctx.connectors[type] = filteredConnectors;\n            }\n          }\n        })();\n\n        exports.default = Fluent;\n        /* WEBPACK VAR INJECTION */\n      }).call(this, __webpack_require__(4));\n\n      /***/\n    },\n    /* 15 */\n    /***/function (module, exports, __webpack_require__) {\n\n      // More proper implementation would be\n      // isDescriptor(obj) || isStamp(obj)\n      // but there is no sense since stamp is function and function is object.\n      module.exports = __webpack_require__(1);\n\n      /***/\n    },\n    /* 16 */\n    /***/function (module, exports) {\n\n      module.exports = function isPlainObject(value) {\n        return Boolean(value) && (typeof value === 'undefined' ? 'undefined' : _typeof2(value)) === 'object' && Object.getPrototypeOf(value) === Object.prototype;\n      };\n\n      /***/\n    },\n    /* 17 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var compose = __webpack_require__(2);\n\n      function createShortcut(propName) {\n        return function (arg) {\n          'use strict';\n\n          var param = {};\n          param[propName] = arg;\n          return this && this.compose ? this.compose(param) : compose(param);\n        };\n      }\n\n      var properties = createShortcut('properties');\n      var staticProperties = createShortcut('staticProperties');\n      var configuration = createShortcut('configuration');\n      var deepProperties = createShortcut('deepProperties');\n      var staticDeepProperties = createShortcut('staticDeepProperties');\n      var deepConfiguration = createShortcut('deepConfiguration');\n      var initializers = createShortcut('initializers');\n\n      module.exports = compose({\n        staticProperties: {\n          methods: createShortcut('methods'),\n\n          props: properties,\n          properties: properties,\n\n          statics: staticProperties,\n          staticProperties: staticProperties,\n\n          conf: configuration,\n          configuration: configuration,\n\n          deepProps: deepProperties,\n          deepProperties: deepProperties,\n\n          deepStatics: staticDeepProperties,\n          staticDeepProperties: staticDeepProperties,\n\n          deepConf: deepConfiguration,\n          deepConfiguration: deepConfiguration,\n\n          init: initializers,\n          initializers: initializers,\n\n          composers: createShortcut('composers'),\n\n          propertyDescriptors: createShortcut('propertyDescriptors'),\n\n          staticPropertyDescriptors: createShortcut('staticPropertyDescriptors')\n        }\n      });\n\n      /***/\n    },\n    /* 18 */\n    /***/function (module, exports) {\n\n      module.exports = function isString(arg) {\n        return typeof arg === 'string';\n      };\n\n      /***/\n    },\n    /* 19 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var compose = __webpack_require__(2);\n      var privates = new WeakMap(); // WeakMap works in IE11, node 0.12\n\n      var makeProxyFunction = function makeProxyFunction(fn, name) {\n        function proxiedFn() {\n          'use strict';\n\n          var fields = privates.get(this); // jshint ignore:line\n          return fn.apply(fields, arguments);\n        }\n\n        Object.defineProperty(proxiedFn, 'name', {\n          value: name,\n          configurable: true\n        });\n\n        return proxiedFn;\n      };\n\n      function initializer(_, opts) {\n        var descriptor = opts.stamp.compose;\n        var privateMethodNames = descriptor.deepConfiguration.Privatize.methods;\n\n        var newObject = {}; // our proxy object\n        privates.set(newObject, this);\n\n        var methods = descriptor.methods;\n        if (!methods) {\n          return newObject;\n        }\n\n        var methodNames = Object.keys(methods);\n        for (var i = 0; i < methodNames.length; i++) {\n          var name = methodNames[i];\n          if (privateMethodNames.indexOf(name) < 0) {\n            // not private, thus wrap\n            newObject[name] = makeProxyFunction(methods[name], name);\n          }\n        }\n\n        // Integration with @stamp/instanceof\n        if (typeof Symbol !== \"undefined\") {\n          var stampSymbol = Symbol.for('stamp');\n          if (methods[stampSymbol]) {\n            newObject[stampSymbol] = opts.stamp;\n          }\n        }\n\n        return newObject;\n      }\n\n      var Privatize = compose({\n        initializers: [initializer],\n        deepConfiguration: { Privatize: { methods: [] } },\n        staticProperties: {\n          privatizeMethods: function privatizeMethods() {\n            'use strict';\n\n            var methodNames = [];\n            for (var i = 0; i < arguments.length; i++) {\n              var arg = arguments[i];\n              if (typeof arg === 'string' && arg.length > 0) {\n                methodNames.push(arg);\n              }\n            }\n            var Stamp = this && this.compose ? this : Privatize;\n            return Stamp.compose({\n              deepConfiguration: {\n                Privatize: {\n                  methods: methodNames\n                }\n              }\n            });\n          }\n        },\n        composers: [function (opts) {\n          var initializers = opts.stamp.compose.initializers;\n          // Keep our initializer the last to return proxy object\n          initializers.splice(initializers.indexOf(initializer), 1);\n          initializers.push(initializer);\n        }]\n      });\n\n      module.exports = Privatize;\n\n      /***/\n    },\n    /* 20 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _Interface = __webpack_require__(12);\n\n      var _Interface2 = _interopRequireDefault(_Interface);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      function _asyncToGenerator(fn) {\n        return function () {\n          var gen = fn.apply(this, arguments);return new Promise(function (resolve, reject) {\n            function step(key, arg) {\n              try {\n                var info = gen[key](arg);var value = info.value;\n              } catch (error) {\n                reject(error);return;\n              }if (info.done) {\n                resolve(value);\n              } else {\n                return Promise.resolve(value).then(function (value) {\n                  step(\"next\", value);\n                }, function (err) {\n                  step(\"throw\", err);\n                });\n              }\n            }return step(\"next\");\n          });\n        };\n      }\n\n      exports.default = _Interface2.default.compose({\n        properties: {\n          localFx: undefined,\n          remoteFx: undefined\n        },\n        init: function init(connectors) {\n          this.connectors = connectors;\n        },\n\n        methods: {\n          get: function get() {\n            var _this = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var localData, remoteData;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _this.prepareMergedFunctions();\n                      _context.next = 3;\n                      return _this.localFx.get();\n\n                    case 3:\n                      localData = _context.sent;\n                      _context.next = 6;\n                      return _this.remoteFx.get();\n\n                    case 6:\n                      remoteData = _context.sent;\n                      return _context.abrupt(\"return\", localData.concat(remoteData));\n\n                    case 8:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this);\n            }))();\n          },\n          prepareMergedFunctions: function prepareMergedFunctions() {\n            var _this2 = this;\n\n            this.localFx = this.connectors.local;\n            this.remoteFx = this.connectors.remote;\n\n            this.chainReference.forEach(function (chain) {\n              var method = chain.method;\n              var args = chain.args;\n\n              _this2.localFx = _this2.localFx[method](args);\n              _this2.remoteFx = _this2.remoteFx[method](args);\n            });\n          }\n        }\n      });\n\n      /***/\n    },\n    /* 21 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var Event = function () {\n        var CustomEvent = function CustomEvent(event, params) {\n          var evt = document.createEvent(\"CustomEvent\");\n\n          params = params || { bubbles: false, cancelable: false, detail: undefined };\n\n          evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n          return evt;\n        };\n\n        function emit(_ref) {\n          var name = _ref.name,\n              data = _ref.data,\n              text = _ref.text;\n\n          if (!name) throw new Error(\"Event must have a name.\");\n          if (!data) throw new Error(\"Event must have data.\");\n          if (!text) throw new Error(\"Event must have a text.\");\n          var customEvent = CustomEvent(name, {\n            detail: {\n              data: data,\n              text: text\n            }\n          });\n\n          window.dispatchEvent(customEvent);\n        }\n        function listen(_ref2) {\n          var name = _ref2.name,\n              callback = _ref2.callback;\n\n          if (!name) throw new Error(\"Listener must have a name.\");\n          if (!callback) throw new Error(\"Listener must have a callback.\");\n          window.addEventListener(name, callback);\n        }\n\n        function remove(_ref3) {\n          var name = _ref3.name,\n              callback = _ref3.callback;\n\n          if (!name) throw new Error(\"Listener must have a name to detach\");\n          if (!callback) throw new Error(\"Listener must have a callback to detach\");\n          window.removeEventListener(name, callback);\n        }\n        return Object.freeze({\n          emit: emit,\n          listen: listen,\n          remove: remove\n        });\n      }();\n\n      exports.default = Event;\n\n      /***/\n    }]\n    /******/)\n  );\n});\n//# sourceMappingURL=goat-fluent.min.js.map\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(37)(module)))\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Event = __webpack_require__(39);\n\nvar _Event2 = _interopRequireDefault(_Event);\n\nvar _axios = __webpack_require__(2);\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable no-unused-vars */\nvar Connection = function () {\n  var online = typeof window !== \"undefined\" && window && window.navigator ? window.navigator.onLine : true;\n\n  function setOnline() {\n    if (!online) {\n      online = true;\n      _Event2.default.emit({\n        name: \"FAST:CONNECTION:ONLINE\",\n        data: online,\n        text: \"Application is now online\"\n      });\n    }\n  }\n\n  function setOffline() {\n    if (online) {\n      online = false;\n      _Event2.default.emit({\n        name: \"FAST:CONNECTION:OFFLINE\",\n        data: online,\n        text: \"Application is now offline\"\n      });\n    }\n  }\n\n  /**\n   * [status description]\n   * @return {Promise} [description]\n   */\n  function initEventListeners() {\n    _Event2.default.listen({\n      name: \"online\",\n      callback: function callback() {\n        console.log(\"App is now online\");\n        setOnline();\n      }\n    });\n    _Event2.default.listen({\n      name: \"offline\",\n      callback: function callback() {\n        console.log(\"App is now offline\");\n        setOffline();\n      }\n    });\n  }\n\n  function isOnline() {\n    return new Promise(function (resolve, reject) {\n      _axios2.default.get(\"https://yesno.wtf/api\").then(function (res) {\n        resolve(true);\n      }).catch(function (err) {\n        resolve(false);\n      });\n    });\n  }\n\n  return Object.freeze({\n    isOnline: isOnline,\n    initEventListeners: initEventListeners\n  });\n}();\n// import Promise from 'bluebird';\nexports.default = Connection;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Event = function () {\n  var CustomEvent = function CustomEvent(event, params) {\n    var evt = document.createEvent('CustomEvent');\n\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  };\n\n  function emit(_ref) {\n    var name = _ref.name,\n        data = _ref.data,\n        text = _ref.text;\n\n    if (!name) throw new Error('Event must have a name.');\n    if (!data) throw new Error('Event must have data.');\n    if (!text) throw new Error('Event must have a text.');\n    var customEvent = CustomEvent(name, {\n      detail: {\n        data: data,\n        text: text\n      }\n    });\n\n    window.dispatchEvent(customEvent);\n  }\n  function listen(_ref2) {\n    var name = _ref2.name,\n        callback = _ref2.callback;\n\n    if (!name) throw new Error('Listener must have a name.');\n    if (!callback) throw new Error('Listener must have a callback.');\n    window.addEventListener(name, callback);\n  }\n\n  function remove(_ref3) {\n    var name = _ref3.name,\n        callback = _ref3.callback;\n\n    if (!name) throw new Error('Listener must have a name to detach');\n    if (!callback) throw new Error('Listener must have a callback to detach');\n    window.removeEventListener(name, callback);\n  }\n  return Object.freeze({\n    emit: emit,\n    listen: listen,\n    remove: remove\n  });\n}();\n\nexports.default = Event;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AuthenticationError = function (_Error) {\n  _inherits(AuthenticationError, _Error);\n\n  function AuthenticationError(message) {\n    _classCallCheck(this, AuthenticationError);\n\n    var _this = _possibleConstructorReturn(this, (AuthenticationError.__proto__ || Object.getPrototypeOf(AuthenticationError)).call(this, message));\n\n    _this.name = \"AuthenticationError\";\n    return _this;\n  }\n\n  return AuthenticationError;\n}(Error);\n\nexports.default = AuthenticationError;\n;\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=fluent-formio.min.js.map","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"@goatlab/fluent-loopback\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@goatlab/fluent-loopback\"] = factory();\n\telse\n\t\troot[\"@goatlab/fluent-loopback\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 8);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar bind = __webpack_require__(3);\nvar isBuffer = __webpack_require__(13);\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && navigator.product === 'ReactNative') {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (typeof result[key] === 'object' && typeof val === 'object') {\n      result[key] = merge(result[key], val);\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim\n};\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(process) {\n\nvar utils = __webpack_require__(0);\nvar normalizeHeaderName = __webpack_require__(16);\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = __webpack_require__(4);\n  } else if (typeof process !== 'undefined') {\n    // For node use HTTP adapter\n    adapter = __webpack_require__(4);\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(15)))\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(12);\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\nvar settle = __webpack_require__(17);\nvar buildURL = __webpack_require__(19);\nvar parseHeaders = __webpack_require__(20);\nvar isURLSameOrigin = __webpack_require__(21);\nvar createError = __webpack_require__(5);\nvar btoa = (typeof window !== 'undefined' && window.btoa && window.btoa.bind(window)) || __webpack_require__(22);\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n    var loadEvent = 'onreadystatechange';\n    var xDomain = false;\n\n    // For IE 8/9 CORS support\n    // Only supports POST and GET calls and doesn't returns the response headers.\n    // DON'T do this for testing b/c XMLHttpRequest is mocked, not XDomainRequest.\n    if ( true &&\n        typeof window !== 'undefined' &&\n        window.XDomainRequest && !('withCredentials' in request) &&\n        !isURLSameOrigin(config.url)) {\n      request = new window.XDomainRequest();\n      loadEvent = 'onload';\n      xDomain = true;\n      request.onprogress = function handleProgress() {};\n      request.ontimeout = function handleTimeout() {};\n    }\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password || '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    request.open(config.method.toUpperCase(), buildURL(config.url, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request[loadEvent] = function handleLoad() {\n      if (!request || (request.readyState !== 4 && !xDomain)) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        // IE sends 1223 instead of 204 (https://github.com/axios/axios/issues/201)\n        status: request.status === 1223 ? 204 : request.status,\n        statusText: request.status === 1223 ? 'No Content' : request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      reject(createError('timeout of ' + config.timeout + 'ms exceeded', config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      var cookies = __webpack_require__(23);\n\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(config.url)) && config.xsrfCookieName ?\n          cookies.read(config.xsrfCookieName) :\n          undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (config.withCredentials) {\n      request.withCredentials = true;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (requestData === undefined) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar enhanceError = __webpack_require__(18);\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _LoopbackConnector = __webpack_require__(9);\n\nvar _LoopbackConnector2 = _interopRequireDefault(_LoopbackConnector);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _LoopbackConnector2.default;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _awaitToJs = __webpack_require__(10);\n\nvar _awaitToJs2 = _interopRequireDefault(_awaitToJs);\n\nvar _Utilities = __webpack_require__(11);\n\nvar _Utilities2 = _interopRequireDefault(_Utilities);\n\nvar _axios = __webpack_require__(2);\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nvar _goatFluent = __webpack_require__(31);\n\nvar _Connection = __webpack_require__(33);\n\nvar _Connection2 = _interopRequireDefault(_Connection);\n\nvar _dayjs = __webpack_require__(35);\n\nvar _dayjs2 = _interopRequireDefault(_dayjs);\n\nvar _isSameOrAfter = __webpack_require__(36);\n\nvar _isSameOrAfter2 = _interopRequireDefault(_isSameOrAfter);\n\nvar _jwtDecode = __webpack_require__(37);\n\nvar _jwtDecode2 = _interopRequireDefault(_jwtDecode);\n\nvar _pluralize = __webpack_require__(40);\n\nvar _pluralize2 = _interopRequireDefault(_pluralize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n_dayjs2.default.extend(_isSameOrAfter2.default);\n\nexports.default = _goatFluent.Interface.compose({\n  methods: {\n    getToken: function getToken() {\n      if (typeof localStorage === \"undefined\") return;\n      var token = localStorage.getItem(\"formioToken\");\n      return token;\n      if (!token || this.getTokenType(token) === \"x-token\") return token;\n      /*\n      const decodedToken = jwtDecode(token);\n      const expDate = dayjs.unix(decodedToken.exp);\n      if (dayjs().isSameOrAfter(expDate)) {\n        Event.emit({\n          name: \"GOAT:SESSION:EXPIRED\",\n          data: expDate,\n          text: \"Session expired\"\n        });\n        throw new Error(\"Token has expired.\");\n      }\n      */\n      return token;\n    },\n    baseUrl: function baseUrl() {\n      var _connector = this.connector,\n          baseUrl = _connector.baseUrl,\n          name = _connector.name;\n\n\n      if (!baseUrl) {\n        throw new Error(\"You did not provide a baseUrl for the \\\"\" + name + \"\\\" connector\");\n      }\n      return baseUrl.replace(/\\/+$/, \"\");\n    },\n    get: function get() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var error, result, _ref, _ref2;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (_this.ownerId) {\n                  _this.andWhere(\"owner\", \"=\", _this.ownerId);\n                }\n                error = void 0;\n                result = void 0;\n                _context.next = 5;\n                return (0, _awaitToJs2.default)(_this.httpGET());\n\n              case 5:\n                _ref = _context.sent;\n                _ref2 = _slicedToArray(_ref, 2);\n                error = _ref2[0];\n                result = _ref2[1];\n\n                if (!error) {\n                  _context.next = 15;\n                  break;\n                }\n\n                console.log(\"error\", error);\n\n                if (!(error.response.status === 440)) {\n                  _context.next = 14;\n                  break;\n                }\n\n                _goatFluent.Event.emit({\n                  name: \"GOAT:SESSION:EXPIRED\",\n                  data: error,\n                  text: \"Session expired\"\n                });\n                throw new Error(\"Session has expired.\");\n\n              case 14:\n                throw new Error(\"Error while getting submissions\");\n\n              case 15:\n                if (!(result && result.data && result.data.hasOwnProperty(\"meta\") && _this.selectArray.length > 0)) {\n                  _context.next = 18;\n                  break;\n                }\n\n                result.data.data = _this.jsApplySelect(result.data.data);\n                return _context.abrupt(\"return\", [result.data]);\n\n              case 18:\n                return _context.abrupt(\"return\", _this.jsApplySelect(result && result.data));\n\n              case 19:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, _this);\n      }))();\n    },\n    all: function all() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", _this2.get());\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this2);\n      }))();\n    },\n    paginate: function paginate(paginator) {\n      var _this3 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var results, response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (paginator) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                throw new Error(\"Paginator cannot be empty\");\n\n              case 2:\n                _this3.paginator = paginator;\n                results = {};\n                _context3.next = 6;\n                return _this3.get();\n\n              case 6:\n                response = _context3.sent;\n\n                if (response[0]) {\n                  _context3.next = 9;\n                  break;\n                }\n\n                throw new Error(\"The query was not paginated\");\n\n              case 9:\n                results.data = response[0].data;\n                results.paginator = {\n                  page: response[0].meta.currentPage,\n                  rowsPerPage: response[0].meta.itemsPerPage,\n                  rowsNumber: response[0].meta.totalItemCount\n                };\n\n                return _context3.abrupt(\"return\", results);\n\n              case 12:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this3);\n      }))();\n    },\n    raw: function raw(query) {\n      if (!query) throw new Error(\"No query was received\");\n      this.rawQuery = query;\n      return this;\n    },\n    insert: function insert(data) {\n      var _this4 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        var _ref3, _ref4, error, result;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return (0, _awaitToJs2.default)(_this4.httpPOST(data));\n\n              case 2:\n                _ref3 = _context4.sent;\n                _ref4 = _slicedToArray(_ref3, 2);\n                error = _ref4[0];\n                result = _ref4[1];\n\n                if (!error) {\n                  _context4.next = 8;\n                  break;\n                }\n\n                throw new Error(\"Cannot insert data\");\n\n              case 8:\n                return _context4.abrupt(\"return\", result.data);\n\n              case 9:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, _this4);\n      }))();\n    },\n    tableView: function tableView(paginator) {\n      var _this5 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5() {\n        var baseUrl, remotePath, form, components, finalComponents;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                baseUrl = _this5 && _this5.baseUrl() ? _this5.baseUrl() : undefined;\n                remotePath = _Utilities2.default.get(function () {\n                  return _this5.remoteConnection.path;\n                }, undefined);\n                _context5.next = 4;\n                return _this5.getForm(baseUrl, remotePath);\n\n              case 4:\n                form = _context5.sent;\n\n                if (form) {\n                  _context5.next = 7;\n                  break;\n                }\n\n                throw new Error(\"Could not find form\");\n\n              case 7:\n                components = form.components;\n                finalComponents = _this5.getTableViewComponents(components);\n\n                finalComponents = [].concat(_toConsumableArray(finalComponents), [\"_id as _id\", \"modified as HumanUpdated\", \"related\"]);\n                _this5.select(finalComponents);\n\n                return _context5.abrupt(\"return\", _this5.paginate(paginator));\n\n              case 12:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, _this5);\n      }))();\n    },\n    getTableViewComponents: function getTableViewComponents(components) {\n      return _Utilities2.default.findComponents(components, {\n        input: true,\n        tableView: true\n      }).filter(function (c) {\n        return !!(c.label !== \"\");\n      }).map(function (c) {\n        return \"data.\" + c.key + \" as \" + c.key;\n      });\n    },\n    update: function update(data) {\n      var _this6 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee6() {\n        var _ref5, _ref6, error, result;\n\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                if (data._id) {\n                  _context6.next = 2;\n                  break;\n                }\n\n                throw new Error(\"Formio connector error. Cannot update a Model without _id key\");\n\n              case 2:\n                if (!data._id.includes(\"_local\")) {\n                  _context6.next = 4;\n                  break;\n                }\n\n                throw new Error(\"Formio connector error. Cannot update a local document\");\n\n              case 4:\n                _context6.next = 6;\n                return (0, _awaitToJs2.default)(_this6.httpPUT(data));\n\n              case 6:\n                _ref5 = _context6.sent;\n                _ref6 = _slicedToArray(_ref5, 2);\n                error = _ref6[0];\n                result = _ref6[1];\n\n                if (!error) {\n                  _context6.next = 13;\n                  break;\n                }\n\n                console.log(error);\n                throw new Error(\"Cannot insert data\");\n\n              case 13:\n                return _context6.abrupt(\"return\", result.data);\n\n              case 14:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, _this6);\n      }))();\n    },\n\n    /* async clear({ sure } = {}) {\n      if (!sure || sure !== true) {\n        throw new Error(\n          'Clear() method will delete everything!, you must set the \"sure\" parameter \"clear({sure:true})\" to continue'\n        );\n      }\n      let promises = [];\n       let [error, data] = await to(this.select(\"_id\").pluck(\"_id\"));\n       if (error) {\n        console.log(error);\n        throw new Error(\"Cannot get remote Model\");\n      }\n       data.forEach(_id => {\n        promises.push(this.httpDelete(_id));\n      });\n       return axios.all(promises);\n    }, */\n    remove: function remove(_id) {\n      var _this7 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee7() {\n        var _ref7, _ref8, error, removed;\n\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return (0, _awaitToJs2.default)(_this7.httpDelete(_id));\n\n              case 2:\n                _ref7 = _context7.sent;\n                _ref8 = _slicedToArray(_ref7, 2);\n                error = _ref8[0];\n                removed = _ref8[1];\n\n                if (!error) {\n                  _context7.next = 9;\n                  break;\n                }\n\n                console.log(error);\n                throw new Error(\"FormioConnector: Could not delete \" + _id);\n\n              case 9:\n                return _context7.abrupt(\"return\", removed);\n\n              case 10:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, _this7);\n      }))();\n    },\n\n    /* async find(_id) {\n      if (typeof _id !== \"string\") {\n        throw new Error(\n          'Formio connector find() method only accepts strings \"' +\n            typeof _id +\n            '\" given \"' +\n            _id +\n            '\"'\n        );\n      }\n      let [error, data] = await to(this.where(\"_id\", \"=\", _id).first());\n       if (error) {\n        console.log(error);\n        throw new Error(\"Find() could not get remote data\");\n      }\n       return data;\n    }, */\n    getForm: function getForm(baseUrl, path) {\n      var _this8 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee8() {\n        var Config, form;\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                Config = _goatFluent.Fluent.model({\n                  properties: {\n                    name: \"Form\",\n                    config: {\n                      remote: {\n                        path: \"form\",\n                        pullForm: true\n                      }\n                    }\n                  }\n                })();\n                _context8.next = 3;\n                return Config.local().where(\"data.path\", \"=\", path).first();\n\n              case 3:\n                form = _context8.sent;\n                return _context8.abrupt(\"return\", form.data);\n\n              case 5:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, _this8);\n      }))();\n    },\n    getUrl: function getUrl() {\n      var _this9 = this;\n\n      var baseUrl = this && this.baseUrl() ? this.baseUrl() : undefined;\n      var path = _Utilities2.default.get(function () {\n        return _this9.path;\n      }, undefined) || _Utilities2.default.get(function () {\n        return _this9.remoteConnection.path;\n      }, undefined);\n\n      if (!baseUrl) {\n        throw new Error(\"Cannot get remote model. baseUrl was not found\");\n      }\n      if (!path) {\n        throw new Error(\"Cannot get remote model. Path was not found\");\n      }\n\n      return baseUrl + \"/\" + path;\n    },\n    getHeaders: function getHeaders() {\n      var headers = {};\n      var token = {};\n      // Get token from local storage\n      token = this.getToken();\n\n      // Overwrite if a token is given in the connector\n      if (this.remoteConnection.token || this.remoteConnection.token === \"\") {\n        token = this.remoteConnection.token;\n      }\n\n      if (!token) {\n        return headers;\n      }\n\n      var type = this.getTokenType(token);\n      headers[type] = token;\n      headers[\"Authorization\"] = \"Bearer \" + token;\n      return headers;\n    },\n    getPage: function getPage() {\n      var page = \"page=\";\n      if (this.paginator && this.paginator.page) {\n        return page + this.paginator.page + \"&\";\n      }\n\n      return \"\";\n    },\n    getPaginatorLimit: function getPaginatorLimit(filter) {\n      if (this.paginator && this.paginator.rowsPerPage) {\n        return _extends({}, filter, { limit: this.paginator.rowsPerPage });\n      }\n\n      return filter;\n    },\n    getPopulate: function getPopulate() {\n      var populate = [];\n      this.populateArray.forEach(function (relation) {\n        if (typeof relation === \"string\") {\n          populate.push({ relation: relation });\n        } else if (Array.isArray(relation)) {\n          relation.forEach(function (nestedRelation) {\n            if (typeof nestedRelation === \"string\") {\n              populate.push({ relation: nestedRelation });\n            } else if ((typeof nestedRelation === \"undefined\" ? \"undefined\" : _typeof(nestedRelation)) === \"object\") {\n              populate.push(nestedRelation);\n            }\n          });\n        } else if ((typeof relation === \"undefined\" ? \"undefined\" : _typeof(relation)) === \"object\") {\n          populate.push(relation);\n        }\n      });\n\n      return populate;\n    },\n    httpGET: function httpGET() {\n      var _this10 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee9() {\n        var filter, url, headers, page, populate, where, remotePath, isOnline;\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                filter = {};\n                url = _this10.baseUrl();\n                headers = _this10.getHeaders();\n                _context9.next = 5;\n                return _this10.getFilters(filter);\n\n              case 5:\n                filter = _context9.sent;\n\n                filter = _this10.getLimit(filter);\n                filter = _this10.getSkip(filter);\n                filter = _this10.getSelect(filter);\n                filter = _this10.getOrderBy(filter);\n                filter = _this10.getPaginatorLimit(filter);\n                page = _this10.getPage();\n                populate = _this10.getPopulate();\n\n\n                if (_this10.rawQuery) {\n                  filter.related = populate || _this10.rawQuery.populate;\n                  filter.limit = filter.limit || _this10.rawQuery.limit;\n                  filter.skip = filter.skip || _this10.rawQuery.skip;\n                  filter.order = filter.order || _this10.rawQuery.order;\n                  filter.fields = _extends({}, filter.fields, _this10.rawQuery.fields);\n                  where = filter.where && filter.where.and ? filter.where.and[0] : {};\n\n                  filter.where = _extends({}, where, _this10.rawQuery.where);\n                }\n\n                filter.where = _extends({}, filter.where, { deleted: null });\n\n                // Loopback replaces all / by camel case\n\n                if (_this10.remoteConnection.path.includes(\"/\")) {\n                  _this10.remoteConnection.path = _this10.remoteConnection.path.replace(\"/\", \"\");\n                }\n\n                // Looback replaces all singular words by plural\n\n                _this10.remoteConnection.path = (0, _pluralize2.default)(_this10.remoteConnection.path);\n                remotePath = _Utilities2.default.get(function () {\n                  return _this10.remoteConnection.path;\n                }, undefined);\n\n                // Always limit the amount of request\n\n                url = url + \"/\" + remotePath + \"?\" + page + \"filter=\" + encodeURI(JSON.stringify(filter));\n\n                _context9.t0 = true;\n\n                if (_context9.t0) {\n                  _context9.next = 24;\n                  break;\n                }\n\n                _context9.next = 23;\n                return _Connection2.default.isOnline();\n\n              case 23:\n                _context9.t0 = _context9.sent;\n\n              case 24:\n                isOnline = _context9.t0;\n\n                if (isOnline) {\n                  _context9.next = 27;\n                  break;\n                }\n\n                throw new Error(\"Cannot make get request to \" + url + \".You are not online\");\n\n              case 27:\n                return _context9.abrupt(\"return\", _axios2.default.get(url, { headers: headers }));\n\n              case 28:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, _this10);\n      }))();\n    },\n    httpPOST: function httpPOST(data) {\n      var _this11 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee10() {\n        var url, headers, isOnline;\n        return regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                url = _this11.getUrl();\n\n                delete data.draft;\n                delete data.redirect;\n                delete data.syncError;\n                delete data.trigger;\n\n                headers = _this11.getHeaders();\n                _context10.t0 = true;\n\n                if (_context10.t0) {\n                  _context10.next = 11;\n                  break;\n                }\n\n                _context10.next = 10;\n                return _Connection2.default.isOnline();\n\n              case 10:\n                _context10.t0 = _context10.sent;\n\n              case 11:\n                isOnline = _context10.t0;\n\n                if (isOnline) {\n                  _context10.next = 14;\n                  break;\n                }\n\n                throw new Error(\"Cannot make request post to \" + url + \".You are not online\");\n\n              case 14:\n                return _context10.abrupt(\"return\", _axios2.default.post(url, data, { headers: headers }));\n\n              case 15:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, _this11);\n      }))();\n    },\n    httpPUT: function httpPUT(data) {\n      var _this12 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee11() {\n        var isOnline, url, headers;\n        return regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.t0 = true;\n\n                if (_context11.t0) {\n                  _context11.next = 5;\n                  break;\n                }\n\n                _context11.next = 4;\n                return _Connection2.default.isOnline();\n\n              case 4:\n                _context11.t0 = _context11.sent;\n\n              case 5:\n                isOnline = _context11.t0;\n                url = _this12.getUrl() + \"/\" + data._id;\n                headers = _this12.getHeaders();\n\n                delete data.draft;\n                delete data.redirect;\n                delete data.syncError;\n                delete data.trigger;\n                delete data._id;\n\n                if (isOnline) {\n                  _context11.next = 15;\n                  break;\n                }\n\n                throw new Error(\"Cannot make request post to \" + url + \".You are not online\");\n\n              case 15:\n                return _context11.abrupt(\"return\", _axios2.default.put(url, data, { headers: headers }));\n\n              case 16:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, _this12);\n      }))();\n    },\n    httpDelete: function httpDelete(_id) {\n      var headers = this.getHeaders();\n      var url = this.getUrl() + \"/\" + _id;\n      return _axios2.default.delete(url, { headers: headers });\n    },\n    getTokenType: function getTokenType(token) {\n      if (token.length > 32) {\n        return \"x-jwt-token\";\n      }\n      return \"x-token\";\n    },\n    getFilters: function getFilters(filters) {\n      var _this13 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee12() {\n        var filter;\n        return regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                filter = _this13.whereArray;\n\n                if (!(!filter || filter.length === 0)) {\n                  _context12.next = 3;\n                  break;\n                }\n\n                return _context12.abrupt(\"return\", filters);\n\n              case 3:\n\n                filters[\"where\"] = { and: [] };\n\n                filter.forEach(function (condition) {\n                  var element = condition[0];\n                  var operator = condition[1];\n                  var value = condition[2];\n\n                  switch (operator) {\n                    case \"=\":\n                      filters.where.and.push(_defineProperty({}, element, value));\n                      break;\n                    case \"!=\":\n                      filters.where.and.push(_defineProperty({}, element, { neq: value }));\n                      break;\n                    case \">\":\n                      filters.where.and.push(_defineProperty({}, element, { gt: value }));\n                      break;\n                    case \">=\":\n                      filters.where.and.push(_defineProperty({}, element, { gte: value }));\n                      break;\n                    case \"<\":\n                      filters.where.and.push(_defineProperty({}, element, { lt: value }));\n                      break;\n                    case \"<=\":\n                      filters.where.and.push(_defineProperty({}, element, { lte: value }));\n                      break;\n                    case \"in\":\n                      filters.where.and.push(_defineProperty({}, element, { inq: value }));\n                      break;\n                    case \"nin\":\n                      filters.where.and.push(_defineProperty({}, element, { nin: value }));\n                      break;\n                    case \"exists\":\n                      filters.where.and.push(_defineProperty({}, element, { exists: true }));\n                      break;\n                    case \"!exists\":\n                      filters.where.and.push(_defineProperty({}, element, { exists: false }));\n                      break;\n                    case \"regex\":\n                      filters.where.and.push(_defineProperty({}, \"data.\" + element, { regexp: value }));\n                      break;\n                  }\n                });\n\n                return _context12.abrupt(\"return\", filters);\n\n              case 6:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, _this13);\n      }))();\n    },\n    getOrderBy: function getOrderBy(filter) {\n      if (!this.orderByArray || this.orderByArray.length === 0) {\n        return filter;\n      }\n\n      return _extends({}, filter, {\n        order: this.orderByArray[0] + \" \" + this.orderByArray[1].toUpperCase()\n      });\n    },\n    getLimit: function getLimit(filter) {\n      if (!this.limitNumber || this.limitNumber === 0) {\n        this.limitNumber = this.rawQuery && this.rawQuery.limit || 50;\n      }\n\n      return _extends({}, filter, { limit: this.limitNumber });\n    },\n    getSkip: function getSkip(filter) {\n      if (!this.offsetNumber) {\n        this.offsetNumber = this.rawQuery && this.rawQuery.skip || 0;\n      }\n\n      return _extends({}, filter, { skip: this.offsetNumber });\n    },\n    getSelect: function getSelect(filter) {\n      var select = this.selectArray;\n\n      select = select.map(function (s) {\n        s = s.split(\" as \")[0];\n        s = s.includes(\"_id\") ? \"_id\" : s;\n        return s;\n      });\n\n      if (select.find(function (e) {\n        return e.startsWith(\"data.\");\n      })) {\n        select.unshift(\"data\");\n      }\n\n      if (!select) {\n        return filter;\n      }\n\n      var fields = {};\n\n      select.forEach(function (e) {\n        fields[e] = true;\n      });\n\n      return _extends({}, filter, { fields: fields });\n    }\n  }\n});\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"to\", function() { return to; });\n/**\n * @param { Promise } promise\n * @param { Object= } errorExt - Additional Information you can pass to the err object\n * @return { Promise }\n */\nfunction to(promise, errorExt) {\n    return promise\n        .then(function (data) { return [null, data]; })\n        .catch(function (err) {\n        if (errorExt) {\n            Object.assign(err, errorExt);\n        }\n        return [err, undefined];\n    });\n}\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (to);\n//# sourceMappingURL=await-to-js.es5.js.map\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\n/* eslint-disable no-unused-vars */\nvar Utilities = function () {\n  /**\n   * Deep clones a JS object using JSON.parse\n   * This function will not clone object\n   * functions\n   * @param {Object} object\n   */\n  var cloneDeep = function cloneDeep(object) {\n    return JSON.parse(JSON.stringify(object));\n  };\n  /**\n   * Given an Object and its path, if exisits it will\n   * return the value of it, if not the default\n   * @param {Object} obj\n   * @param {String} path\n   * @param {*} def\n   */\n  var get = function get(fn, def) {\n    try {\n      return fn();\n    } catch (e) {\n      return def;\n    }\n  };\n  /**\n   *\n   * @param {*} obj\n   * @param {*} path\n   * @param {*} def\n   */\n  var getFromPath = function getFromPath(obj, path, def) {\n    var _path = path;\n\n    if (path.includes(' as ')) {\n      path = path.split(' as ');\n      _path = path[0];\n    }\n\n    var assignedName = get(function () {\n      return Array.isArray(path) && path[1].trim();\n    }, undefined);\n\n    var fullPath = _path.replace(/\\[/g, '.').replace(/]/g, '').split('.').filter(Boolean).map(function (e) {\n      return e.trim();\n    });\n\n    function everyFunc(step) {\n      return !(step && (obj = obj[step]) === undefined);\n    }\n\n    var result = fullPath.every(everyFunc) ? obj : def;\n\n    return { label: assignedName || _path, value: result };\n  };\n  /**\n   *\n   * @param {*} arr\n   * @param {*} predicate\n   */\n  var uniqBy = function uniqBy(arr, predicate) {\n    var cb = typeof predicate === 'function' ? predicate : function (o) {\n      return o[predicate];\n    };\n\n    return [].concat(_toConsumableArray(arr.reduce(function (map, item) {\n      var key = cb(item);\n\n      map.has(key) || map.set(key, item);\n\n      return map;\n    }, new Map()).values()));\n  };\n  /**\n   *\n   */\n  var orderBy = function orderBy() {};\n  /**\n   *\n   * @param {*} value\n   */\n  var isEmpty = function isEmpty(value) {\n    if (!value) {\n      return true;\n    }\n    if (Array.isArray(value) || typeof value === 'string') {\n      return !value.length;\n    }\n    for (var key in value) {\n      if (hasOwnProperty.call(value, key)) {\n        return false;\n      }\n    }\n    return true;\n  };\n  /**\n   *\n   * @param {*} fn\n   * @param {*} time\n   */\n  var debounce = function debounce(fn, time) {\n    var timeout = void 0;\n\n    return function () {\n      var _this = this,\n          _arguments = arguments;\n\n      var functionCall = function functionCall() {\n        return fn.apply(_this, _arguments);\n      };\n\n      clearTimeout(timeout);\n      timeout = setTimeout(functionCall, time);\n    };\n  };\n  /**\n   * Recursively removes all NULL values\n   * from an Object or an Array\n   *\n   * @static\n   * @param {Array|Object} object Array, Object to clean\n   * @returns {Array|Object} returns the cleaned value\n   */\n  var deleteNulls = function deleteNulls(object) {\n    var obj = object;\n    var isArray = obj instanceof Array;\n\n    for (var k in obj) {\n      if (obj[k] === null) isArray ? obj.splice(k, 1) : delete obj[k];else if (_typeof(obj[k]) === 'object') deleteNulls(obj[k]);\n    }\n    return obj;\n  };\n\n  var eachComponent = function eachComponent(components, fn, includeAll, path, parent) {\n    if (!components) return;\n    path = path || '';\n    components.forEach(function (component) {\n      if (!component) {\n        return;\n      }\n      var hasColumns = component.columns && Array.isArray(component.columns);\n      var hasRows = component.rows && Array.isArray(component.rows);\n      var hasComps = component.components && Array.isArray(component.components);\n      var noRecurse = false;\n      var newPath = component.key ? path ? path + '.' + component.key : component.key : '';\n\n      // Keep track of parent references.\n      if (parent) {\n        // Ensure we don't create infinite JSON structures.\n        component.parent = _extends({}, parent);\n        delete component.parent.components;\n        delete component.parent.componentMap;\n        delete component.parent.columns;\n        delete component.parent.rows;\n      }\n\n      if (includeAll || component.tree || !hasColumns && !hasRows && !hasComps) {\n        noRecurse = fn(component, newPath);\n      }\n\n      var subPath = function subPath() {\n        if (component.key && !['panel', 'table', 'well', 'columns', 'fieldset', 'tabs', 'form'].includes(component.type) && (['datagrid', 'container', 'editgrid'].includes(component.type) || component.tree)) {\n          return newPath;\n        } else if (component.key && component.type === 'form') {\n          return newPath + '.data';\n        }\n        return path;\n      };\n\n      if (!noRecurse) {\n        if (hasColumns) {\n          component.columns.forEach(function (column) {\n            return eachComponent(column.components, fn, includeAll, subPath(), parent ? component : null);\n          });\n        } else if (hasRows) {\n          component.rows.forEach(function (row) {\n            if (Array.isArray(row)) {\n              row.forEach(function (column) {\n                return eachComponent(column.components, fn, includeAll, subPath(), parent ? component : null);\n              });\n            }\n          });\n        } else if (hasComps) {\n          eachComponent(component.components, fn, includeAll, subPath(), parent ? component : null);\n        }\n      }\n    });\n  };\n\n  var matchComponent = function matchComponent(component, query) {\n    if (typeof query === 'string') {\n      return component.key === query;\n    }\n    var matches = false;\n\n    Object.keys(query).forEach(function (path) {\n      matches = getFromPath(component, path).value === query[path];\n      if (!matches) {\n        return false;\n      }\n    });\n    return matches;\n  };\n\n  var findComponents = function findComponents(components, query) {\n    var results = [];\n\n    eachComponent(components, function (component, path) {\n      if (matchComponent(component, query)) {\n        component.path = path;\n        results.push(component);\n      }\n    }, true);\n    return results;\n  };\n\n  var unixDate = function unixDate() {\n    return Math.round(+new Date() / 1000);\n  };\n\n  return Object.freeze({\n    cloneDeep: cloneDeep,\n    get: get,\n    orderBy: orderBy,\n    isEmpty: isEmpty,\n    debounce: debounce,\n    getFromPath: getFromPath,\n    deleteNulls: deleteNulls,\n    eachComponent: eachComponent,\n    findComponents: findComponents,\n    unixDate: unixDate\n  });\n}();\n\nexports.default = Utilities;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\nvar bind = __webpack_require__(3);\nvar Axios = __webpack_require__(14);\nvar defaults = __webpack_require__(1);\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(utils.merge(defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = __webpack_require__(7);\naxios.CancelToken = __webpack_require__(29);\naxios.isCancel = __webpack_require__(6);\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = __webpack_require__(30);\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar defaults = __webpack_require__(1);\nvar utils = __webpack_require__(0);\nvar InterceptorManager = __webpack_require__(24);\nvar dispatchRequest = __webpack_require__(25);\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = utils.merge({\n      url: arguments[0]\n    }, arguments[1]);\n  }\n\n  config = utils.merge(defaults, {method: 'get'}, this.defaults, config);\n  config.method = config.method.toLowerCase();\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(utils.merge(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar createError = __webpack_require__(5);\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  // Note: status is not exposed by XDomainRequest\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n  error.request = request;\n  error.response = response;\n  return error;\n};\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%40/gi, '@').\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n  (function standardBrowserEnv() {\n    var msie = /(msie|trident)/i.test(navigator.userAgent);\n    var urlParsingNode = document.createElement('a');\n    var originURL;\n\n    /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n    function resolveURL(url) {\n      var href = url;\n\n      if (msie) {\n        // IE needs attribute set twice to normalize properties\n        urlParsingNode.setAttribute('href', href);\n        href = urlParsingNode.href;\n      }\n\n      urlParsingNode.setAttribute('href', href);\n\n      // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n      return {\n        href: urlParsingNode.href,\n        protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n        host: urlParsingNode.host,\n        search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n        hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n        hostname: urlParsingNode.hostname,\n        port: urlParsingNode.port,\n        pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n                  urlParsingNode.pathname :\n                  '/' + urlParsingNode.pathname\n      };\n    }\n\n    originURL = resolveURL(window.location.href);\n\n    /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n    return function isURLSameOrigin(requestURL) {\n      var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n      return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n    };\n  })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return function isURLSameOrigin() {\n      return true;\n    };\n  })()\n);\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n// btoa polyfill for IE<10 courtesy https://github.com/davidchambers/Base64.js\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction E() {\n  this.message = 'String contains an invalid character';\n}\nE.prototype = new Error;\nE.prototype.code = 5;\nE.prototype.name = 'InvalidCharacterError';\n\nfunction btoa(input) {\n  var str = String(input);\n  var output = '';\n  for (\n    // initialize result and counter\n    var block, charCode, idx = 0, map = chars;\n    // if the next str index does not exist:\n    //   change the mapping table to \"=\"\n    //   check if d has no fractional digits\n    str.charAt(idx | 0) || (map = '=', idx % 1);\n    // \"8 - idx % 1 * 8\" generates the sequence 2, 4, 6, 8\n    output += map.charAt(63 & block >> 8 - idx % 1 * 8)\n  ) {\n    charCode = str.charCodeAt(idx += 3 / 4);\n    if (charCode > 0xFF) {\n      throw new E();\n    }\n    block = block << 8 | charCode;\n  }\n  return output;\n}\n\nmodule.exports = btoa;\n\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n  (function standardBrowserEnv() {\n    return {\n      write: function write(name, value, expires, path, domain, secure) {\n        var cookie = [];\n        cookie.push(name + '=' + encodeURIComponent(value));\n\n        if (utils.isNumber(expires)) {\n          cookie.push('expires=' + new Date(expires).toGMTString());\n        }\n\n        if (utils.isString(path)) {\n          cookie.push('path=' + path);\n        }\n\n        if (utils.isString(domain)) {\n          cookie.push('domain=' + domain);\n        }\n\n        if (secure === true) {\n          cookie.push('secure');\n        }\n\n        document.cookie = cookie.join('; ');\n      },\n\n      read: function read(name) {\n        var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n        return (match ? decodeURIComponent(match[3]) : null);\n      },\n\n      remove: function remove(name) {\n        this.write(name, '', Date.now() - 86400000);\n      }\n    };\n  })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n  (function nonStandardBrowserEnv() {\n    return {\n      write: function write() {},\n      read: function read() { return null; },\n      remove: function remove() {}\n    };\n  })()\n);\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\nvar transformData = __webpack_require__(26);\nvar isCancel = __webpack_require__(6);\nvar defaults = __webpack_require__(1);\nvar isAbsoluteURL = __webpack_require__(27);\nvar combineURLs = __webpack_require__(28);\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Support baseURL config\n  if (config.baseURL && !isAbsoluteURL(config.url)) {\n    config.url = combineURLs(config.baseURL, config.url);\n  }\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers || {}\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar utils = __webpack_require__(0);\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar Cancel = __webpack_require__(7);\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(module) {var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof2 = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n(function webpackUniversalModuleDefinition(root, factory) {\n  if (( false ? undefined : _typeof2(exports)) === 'object' && ( false ? undefined : _typeof2(module)) === 'object') module.exports = factory();else if (true) !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));else {}\n})(undefined, function () {\n  return (/******/function (modules) {\n      // webpackBootstrap\n      /******/ // The module cache\n      /******/var installedModules = {};\n      /******/\n      /******/ // The require function\n      /******/function __webpack_require__(moduleId) {\n        /******/\n        /******/ // Check if module is in cache\n        /******/if (installedModules[moduleId]) {\n          /******/return installedModules[moduleId].exports;\n          /******/\n        }\n        /******/ // Create a new module (and put it into the cache)\n        /******/var module = installedModules[moduleId] = {\n          /******/i: moduleId,\n          /******/l: false,\n          /******/exports: {}\n          /******/ };\n        /******/\n        /******/ // Execute the module function\n        /******/modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n        /******/\n        /******/ // Flag the module as loaded\n        /******/module.l = true;\n        /******/\n        /******/ // Return the exports of the module\n        /******/return module.exports;\n        /******/\n      }\n      /******/\n      /******/\n      /******/ // expose the modules object (__webpack_modules__)\n      /******/__webpack_require__.m = modules;\n      /******/\n      /******/ // expose the module cache\n      /******/__webpack_require__.c = installedModules;\n      /******/\n      /******/ // define getter function for harmony exports\n      /******/__webpack_require__.d = function (exports, name, getter) {\n        /******/if (!__webpack_require__.o(exports, name)) {\n          /******/Object.defineProperty(exports, name, { enumerable: true, get: getter });\n          /******/\n        }\n        /******/\n      };\n      /******/\n      /******/ // define __esModule on exports\n      /******/__webpack_require__.r = function (exports) {\n        /******/if (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n          /******/Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n          /******/\n        }\n        /******/Object.defineProperty(exports, '__esModule', { value: true });\n        /******/\n      };\n      /******/\n      /******/ // create a fake namespace object\n      /******/ // mode & 1: value is a module id, require it\n      /******/ // mode & 2: merge all properties of value into the ns\n      /******/ // mode & 4: return value when already ns object\n      /******/ // mode & 8|1: behave like require\n      /******/__webpack_require__.t = function (value, mode) {\n        /******/if (mode & 1) value = __webpack_require__(value);\n        /******/if (mode & 8) return value;\n        /******/if (mode & 4 && (typeof value === 'undefined' ? 'undefined' : _typeof2(value)) === 'object' && value && value.__esModule) return value;\n        /******/var ns = Object.create(null);\n        /******/__webpack_require__.r(ns);\n        /******/Object.defineProperty(ns, 'default', { enumerable: true, value: value });\n        /******/if (mode & 2 && typeof value != 'string') for (var key in value) {\n          __webpack_require__.d(ns, key, function (key) {\n            return value[key];\n          }.bind(null, key));\n        } /******/return ns;\n        /******/\n      };\n      /******/\n      /******/ // getDefaultExport function for compatibility with non-harmony modules\n      /******/__webpack_require__.n = function (module) {\n        /******/var getter = module && module.__esModule ?\n        /******/function getDefault() {\n          return module['default'];\n        } :\n        /******/function getModuleExports() {\n          return module;\n        };\n        /******/__webpack_require__.d(getter, 'a', getter);\n        /******/return getter;\n        /******/\n      };\n      /******/\n      /******/ // Object.prototype.hasOwnProperty.call\n      /******/__webpack_require__.o = function (object, property) {\n        return Object.prototype.hasOwnProperty.call(object, property);\n      };\n      /******/\n      /******/ // __webpack_public_path__\n      /******/__webpack_require__.p = \"\";\n      /******/\n      /******/\n      /******/ // Load entry module and return exports\n      /******/return __webpack_require__(__webpack_require__.s = 13);\n      /******/\n    }(\n    /************************************************************************/\n    /******/[\n    /* 0 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var compose = __webpack_require__(2);\n      var Shortcut = __webpack_require__(17);\n      var isStamp = __webpack_require__(6);\n      var isString = __webpack_require__(18);\n      var isObject = __webpack_require__(1);\n      var isFunction = __webpack_require__(3);\n      var merge = __webpack_require__(8);\n      var assign = __webpack_require__(7);\n\n      var concat = Array.prototype.concat;\n      function extractFunctions() {\n        var fns = concat.apply([], arguments).filter(isFunction);\n        return fns.length === 0 ? undefined : fns;\n      }\n\n      function standardiseDescriptor(descr) {\n        if (!isObject(descr)) return descr;\n\n        var methods = descr.methods;\n        var properties = descr.properties;\n        var props = descr.props;\n        var initializers = descr.initializers;\n        var init = descr.init;\n        var composers = descr.composers;\n        var deepProperties = descr.deepProperties;\n        var deepProps = descr.deepProps;\n        var pd = descr.propertyDescriptors;\n        var staticProperties = descr.staticProperties;\n        var statics = descr.statics;\n        var staticDeepProperties = descr.staticDeepProperties;\n        var deepStatics = descr.deepStatics;\n        var configuration = descr.configuration;\n        var conf = descr.conf;\n        var deepConfiguration = descr.deepConfiguration;\n        var deepConf = descr.deepConf;\n\n        var p = isObject(props) || isObject(properties) ? assign({}, props, properties) : undefined;\n\n        var dp = isObject(deepProps) ? merge({}, deepProps) : undefined;\n        dp = isObject(deepProperties) ? merge(dp, deepProperties) : dp;\n\n        var sp = isObject(statics) || isObject(staticProperties) ? assign({}, statics, staticProperties) : undefined;\n\n        var sdp = isObject(deepStatics) ? merge({}, deepStatics) : undefined;\n        sdp = isObject(staticDeepProperties) ? merge(sdp, staticDeepProperties) : sdp;\n\n        var spd = descr.staticPropertyDescriptors;\n        if (isString(descr.name)) spd = assign({}, spd || {}, { name: { value: descr.name } });\n\n        var c = isObject(conf) || isObject(configuration) ? assign({}, conf, configuration) : undefined;\n\n        var dc = isObject(deepConf) ? merge({}, deepConf) : undefined;\n        dc = isObject(deepConfiguration) ? merge(dc, deepConfiguration) : dc;\n\n        var ii = extractFunctions(init, initializers);\n\n        var cc = extractFunctions(composers);\n\n        var descriptor = {};\n        if (methods) descriptor.methods = methods;\n        if (p) descriptor.properties = p;\n        if (ii) descriptor.initializers = ii;\n        if (cc) descriptor.composers = cc;\n        if (dp) descriptor.deepProperties = dp;\n        if (sp) descriptor.staticProperties = sp;\n        if (sdp) descriptor.staticDeepProperties = sdp;\n        if (pd) descriptor.propertyDescriptors = pd;\n        if (spd) descriptor.staticPropertyDescriptors = spd;\n        if (c) descriptor.configuration = c;\n        if (dc) descriptor.deepConfiguration = dc;\n\n        return descriptor;\n      }\n\n      function stampit() {\n        'use strict'; // to make sure `this` is not pointing to `global` or `window`\n\n        var length = arguments.length,\n            args = [];\n        for (var i = 0; i < length; i += 1) {\n          var arg = arguments[i];\n          args.push(isStamp(arg) ? arg : standardiseDescriptor(arg));\n        }\n\n        return compose.apply(this || baseStampit, args); // jshint ignore:line\n      }\n\n      var baseStampit = Shortcut.compose({\n        staticProperties: {\n          create: function create() {\n            return this.apply(this, arguments);\n          },\n          compose: stampit // infecting\n        }\n      });\n\n      var shortcuts = Shortcut.compose.staticProperties;\n      for (var prop in shortcuts) {\n        stampit[prop] = shortcuts[prop].bind(baseStampit);\n      }stampit.compose = stampit.bind();\n\n      module.exports = stampit;\n\n      /***/\n    },\n    /* 1 */\n    /***/function (module, exports) {\n\n      module.exports = function isObject(arg) {\n        var type = typeof arg === 'undefined' ? 'undefined' : _typeof2(arg);\n        return Boolean(arg) && (type === 'object' || type === 'function');\n      };\n\n      /***/\n    },\n    /* 2 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var isArray = __webpack_require__(5);\n      var isFunction = __webpack_require__(3);\n      var isObject = __webpack_require__(1);\n      var isStamp = __webpack_require__(6);\n      var isComposable = __webpack_require__(15);\n\n      var assign = __webpack_require__(7);\n      var merge = __webpack_require__(8);\n\n      var slice = Array.prototype.slice;\n\n      /**\n       * Creates new factory instance.\n       * @returns {Function} The new factory function.\n       */\n      function createFactory() {\n        return function Stamp(options) {\n          var descriptor = Stamp.compose || {};\n          // Next line was optimized for most JS VMs. Please, be careful here!\n          var obj = { __proto__: descriptor.methods }; // jshint ignore:line\n\n          merge(obj, descriptor.deepProperties);\n          assign(obj, descriptor.properties);\n          Object.defineProperties(obj, descriptor.propertyDescriptors || {});\n\n          if (!descriptor.initializers || descriptor.initializers.length === 0) return obj;\n\n          if (options === undefined) options = {};\n          var inits = descriptor.initializers;\n          var length = inits.length;\n          for (var i = 0; i < length; i += 1) {\n            var initializer = inits[i];\n            if (isFunction(initializer)) {\n              var returnedValue = initializer.call(obj, options, { instance: obj, stamp: Stamp, args: slice.apply(arguments) });\n              obj = returnedValue === undefined ? obj : returnedValue;\n            }\n          }\n\n          return obj;\n        };\n      }\n\n      /**\n       * Returns a new stamp given a descriptor and a compose function implementation.\n       * @param {Descriptor} [descriptor={}] The information about the object the stamp will be creating.\n       * @param {Compose} composeFunction The \"compose\" function implementation.\n       * @returns {Stamp}\n       */\n      function createStamp(descriptor, composeFunction) {\n        var Stamp = createFactory();\n\n        if (descriptor.staticDeepProperties) {\n          merge(Stamp, descriptor.staticDeepProperties);\n        }\n        if (descriptor.staticProperties) {\n          assign(Stamp, descriptor.staticProperties);\n        }\n        if (descriptor.staticPropertyDescriptors) {\n          Object.defineProperties(Stamp, descriptor.staticPropertyDescriptors);\n        }\n\n        var composeImplementation = isFunction(Stamp.compose) ? Stamp.compose : composeFunction;\n        Stamp.compose = function _compose() {\n          'use strict'; // to make sure `this` is not pointing to `global` or `window`\n\n          return composeImplementation.apply(this, arguments);\n        };\n        assign(Stamp.compose, descriptor);\n\n        return Stamp;\n      }\n\n      function concatAssignFunctions(dstObject, srcArray, propName) {\n        if (!isArray(srcArray)) return;\n\n        var length = srcArray.length;\n        var dstArray = dstObject[propName] || [];\n        dstObject[propName] = dstArray;\n        for (var i = 0; i < length; i += 1) {\n          var fn = srcArray[i];\n          if (isFunction(fn) && dstArray.indexOf(fn) < 0) {\n            dstArray.push(fn);\n          }\n        }\n      }\n\n      function combineProperties(dstObject, srcObject, propName, action) {\n        if (!isObject(srcObject[propName])) return;\n        if (!isObject(dstObject[propName])) dstObject[propName] = {};\n        action(dstObject[propName], srcObject[propName]);\n      }\n\n      function deepMergeAssign(dstObject, srcObject, propName) {\n        combineProperties(dstObject, srcObject, propName, merge);\n      }\n      function mergeAssign(dstObject, srcObject, propName) {\n        combineProperties(dstObject, srcObject, propName, assign);\n      }\n\n      /**\n       * Mutates the dstDescriptor by merging the srcComposable data into it.\n       * @param {Descriptor} dstDescriptor The descriptor object to merge into.\n       * @param {Composable} [srcComposable] The composable\n       * (either descriptor or stamp) to merge data form.\n       */\n      function mergeComposable(dstDescriptor, srcComposable) {\n        var srcDescriptor = srcComposable && srcComposable.compose || srcComposable;\n\n        mergeAssign(dstDescriptor, srcDescriptor, 'methods');\n        mergeAssign(dstDescriptor, srcDescriptor, 'properties');\n        deepMergeAssign(dstDescriptor, srcDescriptor, 'deepProperties');\n        mergeAssign(dstDescriptor, srcDescriptor, 'propertyDescriptors');\n        mergeAssign(dstDescriptor, srcDescriptor, 'staticProperties');\n        deepMergeAssign(dstDescriptor, srcDescriptor, 'staticDeepProperties');\n        mergeAssign(dstDescriptor, srcDescriptor, 'staticPropertyDescriptors');\n        mergeAssign(dstDescriptor, srcDescriptor, 'configuration');\n        deepMergeAssign(dstDescriptor, srcDescriptor, 'deepConfiguration');\n        concatAssignFunctions(dstDescriptor, srcDescriptor.initializers, 'initializers');\n        concatAssignFunctions(dstDescriptor, srcDescriptor.composers, 'composers');\n      }\n\n      /**\n       * Given the list of composables (stamp descriptors and stamps) returns\n       * a new stamp (composable factory function).\n       * @typedef {Function} Compose\n       * @param {...(Composable)} [arguments] The list of composables.\n       * @returns {Stamp} A new stamp (aka composable factory function)\n       */\n      module.exports = function compose() {\n        'use strict'; // to make sure `this` is not pointing to `global` or `window`\n\n        var descriptor = {};\n        var composables = [];\n        if (isComposable(this)) {\n          mergeComposable(descriptor, this);\n          composables.push(this);\n        }\n\n        for (var i = 0; i < arguments.length; i++) {\n          var arg = arguments[i];\n          if (isComposable(arg)) {\n            mergeComposable(descriptor, arg);\n            composables.push(arg);\n          }\n        }\n\n        var stamp = createStamp(descriptor, compose);\n\n        var composers = descriptor.composers;\n        if (isArray(composers) && composers.length > 0) {\n          for (var j = 0; j < composers.length; j += 1) {\n            var composer = composers[j];\n            var returnedValue = composer({ stamp: stamp, composables: composables });\n            stamp = isStamp(returnedValue) ? returnedValue : stamp;\n          }\n        }\n\n        return stamp;\n      };\n\n      /**\n       * The Stamp Descriptor\n       * @typedef {Function|Object} Descriptor\n       * @returns {Stamp} A new stamp based on this Stamp\n       * @property {Object} [methods] Methods or other data used as object instances' prototype\n       * @property {Array<Function>} [initializers] List of initializers called for each object instance\n       * @property {Array<Function>} [composers] List of callbacks called each time a composition happens\n       * @property {Object} [properties] Shallow assigned properties of object instances\n       * @property {Object} [deepProperties] Deeply merged properties of object instances\n       * @property {Object} [staticProperties] Shallow assigned properties of Stamps\n       * @property {Object} [staticDeepProperties] Deeply merged properties of Stamps\n       * @property {Object} [configuration] Shallow assigned properties of Stamp arbitrary metadata\n       * @property {Object} [deepConfiguration] Deeply merged properties of Stamp arbitrary metadata\n       * @property {Object} [propertyDescriptors] ES5 Property Descriptors applied to object instances\n       * @property {Object} [staticPropertyDescriptors] ES5 Property Descriptors applied to Stamps\n       */\n\n      /**\n       * The Stamp factory function\n       * @typedef {Function} Stamp\n       * @returns {*} Instantiated object\n       * @property {Descriptor} compose - The Stamp descriptor and composition function\n       */\n\n      /**\n       * A composable object - stamp or descriptor\n       * @typedef {Stamp|Descriptor} Composable\n       */\n\n      /***/\n    },\n    /* 3 */\n    /***/function (module, exports) {\n\n      module.exports = function isFunction(arg) {\n        return typeof arg === 'function';\n      };\n\n      /***/\n    },\n    /* 4 */\n    /***/function (module, exports) {\n\n      var g;\n\n      // This works in non-strict mode\n      g = function () {\n        return this;\n      }();\n\n      try {\n        // This works if eval is allowed (see CSP)\n        g = g || new Function(\"return this\")();\n      } catch (e) {\n        // This works if the window reference is available\n        if ((typeof window === 'undefined' ? 'undefined' : _typeof2(window)) === \"object\") g = window;\n      }\n\n      // g can still be undefined, but nothing to do about it...\n      // We return undefined, instead of nothing here, so it's\n      // easier to handle this case. if(!global) { ...}\n\n      module.exports = g;\n\n      /***/\n    },\n    /* 5 */\n    /***/function (module, exports) {\n\n      module.exports = Array.isArray;\n\n      /***/\n    },\n    /* 6 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var isFunction = __webpack_require__(3);\n\n      module.exports = function isStamp(arg) {\n        return isFunction(arg) && isFunction(arg.compose);\n      };\n\n      /***/\n    },\n    /* 7 */\n    /***/function (module, exports) {\n\n      module.exports = Object.assign;\n\n      /***/\n    },\n    /* 8 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var isPlainObject = __webpack_require__(16);\n      var isObject = __webpack_require__(1);\n      var isArray = __webpack_require__(5);\n\n      /**\n       * The 'src' argument plays the command role.\n       * The returned values is always of the same type as the 'src'.\n       * @param dst The object to merge into\n       * @param src The object to merge from\n       * @returns {*}\n       */\n      function mergeOne(dst, src) {\n        if (src === undefined) return dst;\n\n        // According to specification arrays must be concatenated.\n        // Also, the '.concat' creates a new array instance. Overrides the 'dst'.\n        if (isArray(src)) return (isArray(dst) ? dst : []).concat(src);\n\n        // Now deal with non plain 'src' object. 'src' overrides 'dst'\n        // Note that functions are also assigned! We do not deep merge functions.\n        if (!isPlainObject(src)) return src;\n\n        // See if 'dst' is allowed to be mutated.\n        // If not - it's overridden with a new plain object.\n        var returnValue = isObject(dst) ? dst : {};\n\n        var keys = Object.keys(src);\n        for (var i = 0; i < keys.length; i += 1) {\n          var key = keys[i];\n\n          var srcValue = src[key];\n          // Do not merge properties with the 'undefined' value.\n          if (srcValue !== undefined) {\n            var dstValue = returnValue[key];\n            // Recursive calls to mergeOne() must allow only plain objects or arrays in dst\n            var newDst = isPlainObject(dstValue) || isArray(srcValue) ? dstValue : {};\n\n            // deep merge each property. Recursion!\n            returnValue[key] = mergeOne(newDst, srcValue);\n          }\n        }\n\n        return returnValue;\n      }\n\n      module.exports = function (dst) {\n        for (var i = 1; i < arguments.length; i++) {\n          dst = mergeOne(dst, arguments[i]);\n        }\n        return dst;\n      };\n\n      /***/\n    },\n    /* 9 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n      /* WEBPACK VAR INJECTION */\n      (function (global) {\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _it = __webpack_require__(0);\n\n        var _it2 = _interopRequireDefault(_it);\n\n        var _privatize = __webpack_require__(19);\n\n        var _privatize2 = _interopRequireDefault(_privatize);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : { default: obj };\n        }\n\n        exports.default = (0, _it2.default)({\n          properties: {\n            name: \"baseModel\",\n            config: {\n              remote: {\n                path: undefined,\n                token: undefined,\n                pullForm: false\n              },\n              local: {\n                connector: \"loki\"\n              },\n              merge: {\n                connector: \"formio-loki\"\n              }\n            }\n          },\n          methods: {\n            /**\n             *\n             */\n            getModelName: function getModelName() {\n              return this.name;\n            },\n\n            /**\n             *\n             */\n            getFluentConfig: function getFluentConfig() {\n              var FLUENT = void 0;\n              if (typeof window !== \"undefined\" && window && window._FLUENT_) {\n                FLUENT = window._FLUENT_;\n              } else if (global && global._FLUENT_) {\n                FLUENT = global._FLUENT_;\n              }\n\n              return FLUENT;\n            },\n\n            /**\n             *\n             * @param {*} connectors\n             * @param {*} type\n             */\n            getConnector: function getConnector(connectors, type) {\n              var connectorName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              if (Array.isArray(connectors)) {\n                return this.getConnectorFromArray(connectors, type, connectorName);\n              }\n\n              if (connectors instanceof Object) {\n                return connectors;\n              }\n\n              return undefined;\n            },\n\n            /**\n             *\n             * @param {*} connectors\n             * @param {*} type\n             */\n            getConnectorFromArray: function getConnectorFromArray(connectors, type) {\n              var _this = this;\n\n              var connectorName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n              // Default case\n              if (connectors.length === 1) return connectors[0];\n\n              // If the model assigns specific one\n              if (this.config && this.config[type] && this.config[type].connector) {\n                var Lcon = connectors.find(function (c) {\n                  return c.name === _this.config[type].connector;\n                });\n\n                if (Lcon instanceof Object) return Lcon;\n              }\n\n              // If connectorName is specified\n              if (connectorName) {\n                var _Lcon = connectors.find(function (c) {\n                  return c.name === connectorName;\n                });\n\n                if (_Lcon instanceof Object) return _Lcon;\n              }\n\n              var base = connectors.find(function (c) {\n                return c.default;\n              });\n\n              if (base instanceof Object) return base;\n\n              return undefined;\n            },\n\n            /**\n             * [remote description]\n             * @return {[type]} [description]\n             */\n            remote: function remote() {\n              var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  _ref$token = _ref.token,\n                  token = _ref$token === undefined ? undefined : _ref$token,\n                  _ref$pullForm = _ref.pullForm,\n                  pullForm = _ref$pullForm === undefined ? undefined : _ref$pullForm,\n                  _ref$connectorName = _ref.connectorName,\n                  connectorName = _ref$connectorName === undefined ? undefined : _ref$connectorName,\n                  _ref$path = _ref.path,\n                  path = _ref$path === undefined ? undefined : _ref$path;\n\n              var FLUENT = this.getFluentConfig();\n              var connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.remote;\n\n              if (!connectors) {\n                throw new Error(\"No remote connector was defined. Please define it using Fluent.config()\");\n              }\n\n              var remoteConnector = this.getConnector(connectors, \"remote\", connectorName || false);\n\n              this.config.remote.token = token || this.config.remote.token;\n              this.config.remote.path = path || this.config.remote.path;\n\n              if (pullForm) {\n                this.config.remote.pullForm = pullForm || this.config.remote.pullForm;\n              }\n\n              if (remoteConnector) {\n                return remoteConnector.connector({\n                  remoteConnection: this.config.remote,\n                  connector: remoteConnector\n                });\n              }\n\n              throw new Error(\"No default remote connector found. Please assign one as your default in Fluent.config\");\n            },\n\n            /**\n             * [local description]\n             * @return {[type]} [description]\n             */\n            local: function local() {\n              var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                  _ref2$connectorName = _ref2.connectorName,\n                  connectorName = _ref2$connectorName === undefined ? undefined : _ref2$connectorName;\n\n              var FLUENT = this.getFluentConfig();\n              var connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.local;\n\n              if (!connectors) throw new Error(\"No local connector was defined. Please define it using Fluent.config()\");\n\n              var localConnector = this.getConnector(connectors, \"local\", connectorName || false);\n\n              if (localConnector) return localConnector.connector({\n                name: this.name,\n                connector: localConnector\n              });\n\n              throw new Error(\"No default local connector found. Please assign one as your default in Fluent.config\");\n            },\n\n            /**\n             * [local description]\n             * @return {[type]} [description]\n             */\n            merged: function merged() {\n              var local = this.local();\n              var remote = this.remote();\n\n              var FLUENT = this.getFluentConfig();\n              var connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.merge;\n\n              if (!connectors) {\n                throw new Error(\"No merge connector was defined. Please define it using Fluent.config()\");\n              }\n\n              var mergeConnector = this.getConnector(connectors, \"merge\");\n\n              if (mergeConnector) {\n                return mergeConnector.connector({\n                  local: local,\n                  remote: remote,\n                  name: this.name,\n                  connector: mergeConnector\n                });\n              }\n\n              throw new Error(\"No default merge connector found. Please assign one as your default in Fluent.config\");\n            }\n          }\n        }).compose(_privatize2.default);\n        /* WEBPACK VAR INJECTION */\n      }).call(this, __webpack_require__(4));\n\n      /***/\n    },\n    /* 10 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _extends = Object.assign || function (target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }return target;\n      };\n\n      var _it = __webpack_require__(0);\n\n      var _it2 = _interopRequireDefault(_it);\n\n      var _utilities = __webpack_require__(11);\n\n      var _utilities2 = _interopRequireDefault(_utilities);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      function _asyncToGenerator(fn) {\n        return function () {\n          var gen = fn.apply(this, arguments);return new Promise(function (resolve, reject) {\n            function step(key, arg) {\n              try {\n                var info = gen[key](arg);var value = info.value;\n              } catch (error) {\n                reject(error);return;\n              }if (info.done) {\n                resolve(value);\n              } else {\n                return Promise.resolve(value).then(function (value) {\n                  step(\"next\", value);\n                }, function (err) {\n                  step(\"throw\", err);\n                });\n              }\n            }return step(\"next\");\n          });\n        };\n      }\n\n      function _toConsumableArray(arr) {\n        if (Array.isArray(arr)) {\n          for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n          }return arr2;\n        } else {\n          return Array.from(arr);\n        }\n      }\n\n      exports.default = (0, _it2.default)({\n        init: function init(data) {\n          if (!Array.isArray(data)) {\n            throw new Error('Collect method only accepts arrays of data');\n          }\n          this.data = data;\n        },\n\n        properties: {\n          data: []\n        },\n        methods: {\n          /**\n           * \n           */\n          get: function get() {\n            return this.data;\n          },\n\n          /**\n           * Alias for the \"get\" method\n           * @return function\n           */\n          all: function all() {\n            return this.get();\n          },\n\n          /**\n           * Alias for the \"average\" method.\n           *\n           * @param  {String}  path Path of the key\n           * @return function\n           */\n          avg: function avg(path) {\n            return this.average(path);\n          },\n\n          /**\n           * Get the average value of a given key.\n           *\n           * @param  {String}  path Path of the key\n           * @return static\n           */\n          average: function average() {\n            var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n            var data = [].concat(_toConsumableArray(this.data));\n            var sum = data.reduce(function (acc, element) {\n              var value = element;\n\n              if (element instanceof Object) {\n                var extract = _utilities2.default.getFromPath(element, path, undefined);\n                if (typeof extract !== 'undefined' && extract.value) {\n                  value = extract.value;\n                }\n              }\n              return acc + value;\n            }, 0);\n\n            try {\n              var avg = sum / data.length;\n              return avg;\n            } catch (e) {\n              throw new Error('Division between \"' + sum + '\" and \"' + data.length + '\" is not valid.');\n            }\n          },\n          chunkApply: function chunkApply(size, callback) {\n            var _this = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var totalSize, count, reducer, promiseChain;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      if (!(callback === undefined)) {\n                        _context.next = 2;\n                        break;\n                      }\n\n                      throw new Error('Callback function not defined.');\n\n                    case 2:\n                      totalSize = _this.data.length;\n                      count = 0;\n\n                      _this.chunks(size);\n\n                      // console.log(`Processed ${count}/${totalSize} elements...`);\n\n                      /* for (const chunk of this.data) {\n                        const promises = [];\n                         chunk.forEach((element) => {\n                          promises.push(callback(element, count));\n                          count = count + 1;\n                        });\n                         await Promise.all(promises);\n                         // count = (count + size) > totalSize ? totalSize : count + size;\n                        console.log(`Processed ${count}/${totalSize} elements...`);\n                      } */\n\n                      reducer = function reducer(chain, batch) {\n                        return chain.then(function () {\n                          return Promise.all(batch.map(function (d) {\n                            return callback(d);\n                          }));\n                        }).then(function () {\n                          count = count + size > totalSize ? totalSize : count + size;\n                          console.log('Processed ' + count + '/' + totalSize + ' elements...');\n                        });\n                      };\n\n                      console.log('Processed ' + count + '/' + totalSize + ' elements...');\n                      promiseChain = _this.data.reduce(reducer, Promise.resolve());\n                      return _context.abrupt('return', promiseChain);\n\n                    case 9:\n                    case 'end':\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this);\n            }))();\n          },\n\n          /**\n           * Chunks the given array\n           *\n           * @param {Int} size\n           * @return static\n           */\n          chunks: function chunks(size) {\n            var data = [].concat(_toConsumableArray(this.data));\n            var results = [];\n\n            while (data.length) {\n              results.push(data.splice(0, size));\n            }\n\n            this.data = results;\n            return this;\n          },\n\n          /**\n           * \n           */\n          collapse: function collapse() {\n            var data = [].concat(_toConsumableArray(this.data));\n            var results = [];\n\n            data.forEach(function (chunk) {\n              if (Array.isArray(chunk)) {\n                chunk.forEach(function (element) {\n                  results.push(element);\n                });\n              } else {\n                results.push(chunk);\n              }\n            });\n            this.data = results;\n\n            return this;\n          },\n          unChunk: function unChunk() {\n            return this.collapse();\n          },\n          combine: function combine(array) {\n            var data = [].concat(_toConsumableArray(this.data));\n            var result = void 0;\n            data.forEach(function (e, index) {\n              if (!(e instanceof Object)) {\n                if (!result) {\n                  result = {};\n                }\n                result[e] = array[index];\n              } else {\n                if (!result) {\n                  result = [];\n                }\n                result[index] = _extends({}, e, { _value: array[index] });\n              }\n            });\n\n            this.data = result;\n            return this;\n          },\n          concat: function concat(array) {\n            this.data = [].concat(_toConsumableArray(this.data), _toConsumableArray(array));\n            return this;\n          },\n          contains: function contains() {\n            var value = void 0;\n            var path = void 0;\n            var Fx = void 0;\n            if (arguments.length === 1) {\n              if (this.isFunction(arguments.length <= 0 ? undefined : arguments[0])) {\n                Fx = arguments.length <= 0 ? undefined : arguments[0];\n              }\n              value = arguments.length <= 0 ? undefined : arguments[0];\n            } else {\n              value = arguments.length <= 1 ? undefined : arguments[1];\n              path = arguments.length <= 0 ? undefined : arguments[0];\n            }\n            var data = [].concat(_toConsumableArray(this.data));\n\n            return data.some(function (e, index) {\n              if (Fx) {\n                return !!Fx(e, index);\n              }\n              var val = e;\n              if (e instanceof Object) {\n                var extract = _utilities2.default.getFromPath(e, path, undefined);\n                if (extract.value) {\n                  val = extract.value;\n                }\n              }\n              return val === value;\n            });\n          },\n\n          /**\n           * Returns an array of duplicate submissions, based on an array of keys.\n           * @param {Array} keys - Keys where the function compares an object to evaluate its similarity. \n           */\n          duplicatesBy: function duplicatesBy(keys) {\n            var data = [].concat(_toConsumableArray(this.data));\n            var duplicates = [];\n\n            data.reduce(function (object, submission) {\n              var finalKey = keys.reduce(function (string, key) {\n                return string + _utilities2.default.getFromPath(submission, key, '').value;\n              }, '');\n\n              if (object.hasOwnProperty(finalKey)) {\n                duplicates.push(submission);\n              } else {\n                object[finalKey] = true;\n              }\n\n              return object;\n            }, {});\n\n            this.data = duplicates;\n\n            return this;\n          },\n          count: function count() {\n            return this.data.length;\n          },\n          isFunction: function isFunction(functionToCheck) {\n            return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\n          }\n        }\n      });\n\n      /***/\n    },\n    /* 11 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      /* eslint-disable no-unused-vars */\n      var Utilities = function () {\n        /**\n         * Given an Object and its path, if exisits it will\n         * return the value of it, if not the default\n         * @param {Object} obj\n         * @param {String} path\n         * @param {*} def\n         */\n        var get = function get(fn, def) {\n          try {\n            return fn();\n          } catch (e) {\n            return def;\n          }\n        };\n        /**\n         *\n         * @param {*} obj\n         * @param {*} path\n         * @param {*} def\n         */\n        var getFromPath = function getFromPath(obj, path, def) {\n          var _path = path;\n\n          if (path.includes(' as ')) {\n            path = path.split(' as ');\n            _path = path[0];\n          }\n\n          var assignedName = get(function () {\n            return Array.isArray(path) && path[1].trim();\n          }, undefined);\n\n          var fullPath = _path.replace(/\\[/g, '.').replace(/]/g, '').split('.').filter(Boolean).map(function (e) {\n            return e.trim();\n          });\n\n          function everyFunc(step) {\n            return !(step && (obj = obj[step]) === undefined);\n          }\n\n          var result = fullPath.every(everyFunc) ? obj : def;\n\n          return { label: assignedName || _path, value: result };\n        };\n\n        return Object.freeze({\n          get: get,\n          getFromPath: getFromPath\n        });\n      }();\n\n      exports.default = Utilities;\n\n      /***/\n    },\n    /* 12 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _typeof = typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\" ? function (obj) {\n        return typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj === 'undefined' ? 'undefined' : _typeof2(obj);\n      };\n\n      var _it = __webpack_require__(0);\n\n      var _it2 = _interopRequireDefault(_it);\n\n      var _utilities = __webpack_require__(11);\n\n      var _utilities2 = _interopRequireDefault(_utilities);\n\n      var _Collection = __webpack_require__(10);\n\n      var _Collection2 = _interopRequireDefault(_Collection);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      function _toConsumableArray(arr) {\n        if (Array.isArray(arr)) {\n          for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n          }return arr2;\n        } else {\n          return Array.from(arr);\n        }\n      }\n\n      function _asyncToGenerator(fn) {\n        return function () {\n          var gen = fn.apply(this, arguments);return new Promise(function (resolve, reject) {\n            function step(key, arg) {\n              try {\n                var info = gen[key](arg);var value = info.value;\n              } catch (error) {\n                reject(error);return;\n              }if (info.done) {\n                resolve(value);\n              } else {\n                return Promise.resolve(value).then(function (value) {\n                  step(\"next\", value);\n                }, function (err) {\n                  step(\"throw\", err);\n                });\n              }\n            }return step(\"next\");\n          });\n        };\n      }\n\n      exports.default = (0, _it2.default)({\n        init: function init(_ref) {\n          var name = _ref.name,\n              remoteConnection = _ref.remoteConnection,\n              connector = _ref.connector;\n\n          if (!name && !remoteConnection) {\n            throw new Error(\"Model must have a name or path\");\n          }\n\n          if (!connector) {\n            throw new Error(\"Model must have a connector. Please register one using Fluent.config\");\n          }\n          this.name = name || this.name;\n          this.remoteConnection = remoteConnection || this.remoteConnection;\n          this.connector = connector || this.connector;\n          this.chainReference = [];\n          this.whereArray = [];\n          this.orWhereArray = [];\n          this.selectArray = [];\n          this.orderByArray = [];\n          this.limitNumber = undefined;\n          this.offsetNumber = undefined;\n          this.populateArray = [];\n          this.chunk = null;\n          this.pullSize = null;\n          this.ownerId = undefined;\n          this.paginator = undefined;\n          this.rawQuery = undefined;\n        },\n\n        properties: {\n          operators: [\"=\", \"<\", \">\", \"<=\", \">=\", \"<>\", \"!=\", \"in\", \"nin\", \"like\", \"regexp\", \"startsWith\", \"endsWith\", \"contains\"]\n        },\n        methods: {\n          /**\n           *\n           */\n          get: function get() {\n            throw new Error(\"get() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          all: function all() {\n            throw new Error(\"all() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          find: function find(id) {\n            throw new Error(\"find() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          findOne: function findOne() {\n            throw new Error(\"findOne() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          remove: function remove() {\n            throw new Error(\"remove() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          softDelete: function softDelete() {\n            throw new Error(\"softDelete() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          insert: function insert() {\n            throw new Error(\"insert() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          update: function update() {\n            throw new Error(\"update() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          clear: function clear() {\n            throw new Error(\"clear() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          updateOrCreate: function updateOrCreate() {\n            throw new Error(\"updateOrCreate() method not implemented\");\n          },\n\n          /**\n           *\n           */\n          findAndRemove: function findAndRemove() {\n            throw new Error(\"findAndRemove() method not implemented\");\n          },\n\n          /**\n           *\n           * @param {*} paginator\n           */\n          paginate: function paginate() {\n            throw new Error(\"paginate() method not implemented\");\n          },\n\n          /**\n           * @param {*} tableView\n           */\n          tableView: function tableView() {\n            throw new Error(\"tableView() method not implemented\");\n          },\n\n          /**\n           * @param {*} raw\n           */\n          raw: function raw() {\n            throw new Error(\"raw() method not implemented\");\n          },\n          owner: function owner(user) {\n            this.chainReference.push({ method: \"owner\", args: user });\n            this.ownerId = user;\n            return this;\n          },\n          own: function own(user) {\n            return this.owner(user);\n          },\n\n          /**\n           * Executes the Get() method and\n           * returns the its first result\n           *\n           * @return {Object} First result\n           */\n          first: function first() {\n            var _this = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var data;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _context.next = 2;\n                      return _this.get();\n\n                    case 2:\n                      data = _context.sent;\n                      return _context.abrupt(\"return\", _utilities2.default.get(function () {\n                        return data[0];\n                      }, []));\n\n                    case 4:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this);\n            }))();\n          },\n\n          /**\n           *\n           * Gets the data in the current query and\n           * transforms it into a collection\n           * @returns {Collection} Fluent Collection\n           */\n          collect: function collect() {\n            var _this2 = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n              var data;\n              return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                while (1) {\n                  switch (_context2.prev = _context2.next) {\n                    case 0:\n                      _context2.next = 2;\n                      return _this2.get();\n\n                    case 2:\n                      data = _context2.sent;\n\n                      if (Array.isArray(data)) {\n                        _context2.next = 5;\n                        break;\n                      }\n\n                      throw new Error(\"Collect method only accepts arrays of data\");\n\n                    case 5:\n                      return _context2.abrupt(\"return\", (0, _Collection2.default)(data));\n\n                    case 6:\n                    case \"end\":\n                      return _context2.stop();\n                  }\n                }\n              }, _callee2, _this2);\n            }))();\n          },\n\n          /**\n           * Adds the given columns to the SelectArray\n           * to use as column filter for the data\n           *\n           * @param {Array|String} columns The columns to select\n           * @returns {Model} Fluent Model\n           */\n          select: function select() {\n            for (var _len = arguments.length, columns = Array(_len), _key = 0; _key < _len; _key++) {\n              columns[_key] = arguments[_key];\n            }\n\n            columns = this.prepareInput(columns);\n            this.chainReference.push({ method: \"select\", args: columns });\n            this.selectArray = this.selectArray.concat(columns).filter(function (elem, pos, arr) {\n              return arr.indexOf(elem) === pos;\n            });\n\n            return this;\n          },\n\n          /**\n           * Maps the given Data to show only those fields\n           * explicitly detailed on the Select function\n           *\n           * @param {Array} data Data from local or remote DB\n           * @returns {Array} Formatted data with the selected columns\n           */\n          jsApplySelect: function jsApplySelect(data) {\n            var _this3 = this;\n\n            var _data = Array.isArray(data) ? [].concat(_toConsumableArray(data)) : [data];\n\n            if (this.selectArray.length > 0) {\n              _data = _data.map(function (element) {\n                var newElement = {};\n\n                _this3.selectArray.forEach(function (attribute) {\n                  var extract = _utilities2.default.getFromPath(element, attribute, undefined);\n\n                  var value = _utilities2.default.get(function () {\n                    return extract.value;\n                  }, undefined);\n\n                  if (typeof value !== \"undefined\") {\n                    if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\" && value.hasOwnProperty(\"data\") && value.data.hasOwnProperty(\"name\")) {\n                      newElement[extract.label] = value.data.name;\n                    } else {\n                      newElement[extract.label] = value;\n                    }\n                  }\n                });\n\n                return newElement;\n              });\n            }\n\n            return _data;\n          },\n\n          /**\n           *  Sets the offset number for\n           *  the given query\n           *\n           * @param {int} offset The given offset\n           * @returns {Model} Fluent Model\n           */\n          offset: function offset(_offset) {\n            this.chainReference.push({ method: \"offset\", args: _offset });\n            this.offsetNumber = _offset;\n            return this;\n          },\n\n          /**\n           *  Sets the relations to be\n           *  loded with the query\n           *\n           * @param {int} offset The given offset\n           * @returns {Model} Fluent Model\n           */\n          populate: function populate() {\n            for (var _len2 = arguments.length, relations = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              relations[_key2] = arguments[_key2];\n            }\n\n            this.chainReference.push({ method: \"relations\", args: relations });\n            this.populateArray = relations;\n            return this;\n          },\n\n          /**\n           *  Alias for the offset methods\n           *\n           * @param {int} offset the given offset\n           */\n          skip: function skip(offset) {\n            return this.offset(offset);\n          },\n\n          /**\n           *  Adds where filters to the query\n           *  whereArray\n           * @param {String|Array} args Where filters\n           * @returns {Model} Fluent Model\n           */\n          where: function where() {\n            var _this4 = this;\n\n            for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n              args[_key3] = arguments[_key3];\n            }\n\n            this.chainReference.push({ method: \"where\", args: args });\n            this.whereArray = [];\n            args = Array.isArray(args[0]) ? args : [args];\n            args.forEach(function (arg) {\n              if (arg.length !== 3) {\n                throw new Error('There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' + JSON.stringify(arg) + '\" ');\n              }\n              _this4.whereArray.push(arg);\n            });\n            return this;\n          },\n\n          /**\n           * Pushes where filters with AND condition\n           * to the whereArray\n           *\n           * @param {String|Array} args Where filters\n           * @returns {Model} Fluent Model\n           */\n          andWhere: function andWhere() {\n            var _this5 = this;\n\n            for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n              args[_key4] = arguments[_key4];\n            }\n\n            this.chainReference.push({ method: \"andWhere\", args: args });\n            args = Array.isArray(args[0]) ? args : [args];\n            args.forEach(function (arg) {\n              if (arg.length !== 3) {\n                throw new Error('There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' + JSON.stringify(arg) + '\" ');\n              }\n              _this5.whereArray.push(arg);\n            });\n            return this;\n          },\n\n          /**\n           * Pushes where filter with OR condition\n           * to the orWhereArray\n           *\n           * @param {String|Array} args OR where filters\n           * @returns {Model} Fluent Model\n           */\n          orWhere: function orWhere() {\n            var _this6 = this;\n\n            for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n              args[_key5] = arguments[_key5];\n            }\n\n            this.chainReference.push({ method: \"orWhere\", args: args });\n            args = Array.isArray(args[0]) ? args : [args];\n            args.forEach(function (arg) {\n              if (arg.length !== 3) {\n                throw new Error('There orWhere clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' + JSON.stringify(arg) + '\" ');\n              }\n              _this6.orWhereArray.push(arg);\n            });\n            return this;\n          },\n\n          /**\n           * Limits the number of results for the\n           * given query\n           * @param {int} limit limit number\n           * @returns {Model} Fluent Model\n           */\n          limit: function limit(_limit) {\n            this.chainReference.push({ method: \"limit\", args: _limit });\n            this.limitNumber = _limit;\n            return this;\n          },\n\n          /**\n           * Alias for the limit method\n           *\n           * @param {*} limit limit number\n           * @returns {Model} Fluent Model\n           */\n          take: function take(limit) {\n            return this.limit(limit);\n          },\n\n          /**\n           * Gets all values for a given KEY\n           * @param {String} keyPath The path to the key\n           * @returns {Array}\n           */\n          pluck: function pluck(keyPath) {\n            var _this7 = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n              var data;\n              return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                while (1) {\n                  switch (_context3.prev = _context3.next) {\n                    case 0:\n                      _this7.chainReference.push({ method: \"pluck\", args: keyPath });\n                      _context3.next = 3;\n                      return _this7.get();\n\n                    case 3:\n                      data = _context3.sent;\n\n                      data = data.map(function (e) {\n                        var extracted = _utilities2.default.getFromPath(e, keyPath, undefined);\n\n                        if (typeof extracted.value !== \"undefined\") {\n                          return extracted.value;\n                        }\n                      });\n                      return _context3.abrupt(\"return\", data);\n\n                    case 6:\n                    case \"end\":\n                      return _context3.stop();\n                  }\n                }\n              }, _callee3, _this7);\n            }))();\n          },\n\n          /**\n           *\n           * @param {*} args\n           */\n          orderBy: function orderBy() {\n            for (var _len6 = arguments.length, args = Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n              args[_key6] = arguments[_key6];\n            }\n\n            this.chainReference.push({ method: \"orderBy\", args: args });\n            this.orderByArray = args;\n            return this;\n          },\n\n          /**\n           *\n           * @param {*} data\n           */\n          jsApplyOrderBy: function jsApplyOrderBy(data) {\n            var _data = [].concat(_toConsumableArray(data));\n\n            if (this.orderByArray.length === 0) {\n              return _data;\n            }\n            var field = this.orderByArray[0];\n\n            if (this.selectArray.length > 0 && (field.includes(\".\") || field.includes(\"[\"))) {\n              throw new Error('Cannot orderBy nested attribute \"' + field + '\" when using Select. You must rename the attribute');\n            }\n\n            var order = this.orderByArray[1];\n            var type = this.orderByArray[2];\n\n            if (!type) {\n              type = \"string\";\n            }\n\n            _data = _data.sort(function (a, b) {\n              var A = _utilities2.default.getFromPath(a, field, undefined).value;\n              var B = _utilities2.default.getFromPath(b, field, undefined).value;\n\n              if (typeof A === \"undefined\" || typeof B === \"undefined\") {\n                throw new Error('Cannot order by property \"' + field + '\" not all values have this property');\n              }\n              // For default order and numbers\n              if (type.includes(\"string\") || type.includes(\"number\")) {\n                if (order === \"asc\") {\n                  return A > B ? 1 : A < B ? -1 : 0;\n                }\n                return A > B ? -1 : A < B ? 1 : 0;\n              } else if (type.includes(\"date\")) {\n                if (order === \"asc\") {\n                  return new Date(A) - new Date(B);\n                }\n                return new Date(B) - new Date(A);\n              }\n            });\n            return _data;\n          },\n\n          /**\n           *\n           * @param {*} input\n           */\n          prepareInput: function prepareInput(input) {\n            var cols = [];\n\n            input.forEach(function (item) {\n              var value = Array.isArray(item) ? item : item.split(\",\");\n\n              value = value.map(function (e) {\n                return e.trim();\n              });\n              cols = cols.concat(value);\n            });\n\n            cols.filter(function (elem, pos, arr) {\n              return arr.indexOf(elem) === pos;\n            });\n\n            return cols;\n          },\n          ArrayInsert: function ArrayInsert(dataArray, options) {\n            var _this8 = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n              var initial, length, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, element, a;\n\n              return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                while (1) {\n                  switch (_context4.prev = _context4.next) {\n                    case 0:\n                      initial = 1;\n                      length = dataArray.length;\n                      _iteratorNormalCompletion = true;\n                      _didIteratorError = false;\n                      _iteratorError = undefined;\n                      _context4.prev = 5;\n                      _iterator = dataArray[Symbol.iterator]();\n\n                    case 7:\n                      if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n                        _context4.next = 26;\n                        break;\n                      }\n\n                      element = _step.value;\n\n                      if (options && options.showProgress) {\n                        console.log(\"Inserting \" + initial + \" of \" + length);\n                      }\n                      _context4.prev = 10;\n                      _context4.next = 13;\n                      return _this8.insert(element, options);\n\n                    case 13:\n                      a = _context4.sent;\n\n                      if (options && options.showProgress) {\n                        console.log(\"Element \" + initial + \" inserted\");\n                      }\n                      initial++;\n                      _context4.next = 23;\n                      break;\n\n                    case 18:\n                      _context4.prev = 18;\n                      _context4.t0 = _context4[\"catch\"](10);\n\n                      console.log(\"ERROR - Element \" + initial + \" - \" + JSON.stringify(element) + \" could not be inserted\");\n                      console.log(_context4.t0);\n                      initial++;\n\n                    case 23:\n                      _iteratorNormalCompletion = true;\n                      _context4.next = 7;\n                      break;\n\n                    case 26:\n                      _context4.next = 32;\n                      break;\n\n                    case 28:\n                      _context4.prev = 28;\n                      _context4.t1 = _context4[\"catch\"](5);\n                      _didIteratorError = true;\n                      _iteratorError = _context4.t1;\n\n                    case 32:\n                      _context4.prev = 32;\n                      _context4.prev = 33;\n\n                      if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                      }\n\n                    case 35:\n                      _context4.prev = 35;\n\n                      if (!_didIteratorError) {\n                        _context4.next = 38;\n                        break;\n                      }\n\n                      throw _iteratorError;\n\n                    case 38:\n                      return _context4.finish(35);\n\n                    case 39:\n                      return _context4.finish(32);\n\n                    case 40:\n                    case \"end\":\n                      return _context4.stop();\n                  }\n                }\n              }, _callee4, _this8, [[5, 28, 32, 40], [10, 18], [33,, 35, 39]]);\n            }))();\n          }\n        }\n      });\n\n      /***/\n    },\n    /* 13 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      exports.Event = exports.MergeConnector = exports.Interface = exports.Fluent = exports.Model = undefined;\n\n      var _Fluent = __webpack_require__(14);\n\n      var _Fluent2 = _interopRequireDefault(_Fluent);\n\n      var _Model = __webpack_require__(9);\n\n      var _Model2 = _interopRequireDefault(_Model);\n\n      var _Interface = __webpack_require__(12);\n\n      var _Interface2 = _interopRequireDefault(_Interface);\n\n      var _MergeConnector = __webpack_require__(20);\n\n      var _MergeConnector2 = _interopRequireDefault(_MergeConnector);\n\n      var _Event = __webpack_require__(21);\n\n      var _Event2 = _interopRequireDefault(_Event);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      exports.Model = _Model2.default;\n      exports.Fluent = _Fluent2.default;\n      exports.Interface = _Interface2.default;\n      exports.MergeConnector = _MergeConnector2.default;\n      exports.Event = _Event2.default;\n\n      /***/\n    },\n    /* 14 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n      /* WEBPACK VAR INJECTION */\n      (function (global) {\n\n        Object.defineProperty(exports, \"__esModule\", {\n          value: true\n        });\n\n        var _extends = Object.assign || function (target) {\n          for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i];for (var key in source) {\n              if (Object.prototype.hasOwnProperty.call(source, key)) {\n                target[key] = source[key];\n              }\n            }\n          }return target;\n        };\n\n        var _it = __webpack_require__(0);\n\n        var _it2 = _interopRequireDefault(_it);\n\n        var _Model = __webpack_require__(9);\n\n        var _Model2 = _interopRequireDefault(_Model);\n\n        var _Collection = __webpack_require__(10);\n\n        var _Collection2 = _interopRequireDefault(_Collection);\n\n        function _interopRequireDefault(obj) {\n          return obj && obj.__esModule ? obj : { default: obj };\n        }\n\n        function _toConsumableArray(arr) {\n          if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n              arr2[i] = arr[i];\n            }return arr2;\n          } else {\n            return Array.from(arr);\n          }\n        }\n\n        var Fluent = (0, _it2.default)({\n          init: function init() {\n            this.registerGlobalVariable();\n          },\n\n          properties: {},\n          methods: {\n            model: function model() {\n              for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n              }\n\n              this.registerModel(args);\n              return _Model2.default.compose.apply(_Model2.default, _toConsumableArray(args));\n            },\n            extend: function extend() {\n              for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n              }\n\n              this.registerModel(args);\n              return _Model2.default.compose.apply(_Model2.default, _toConsumableArray(args));\n            },\n            compose: function compose() {\n              for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                args[_key3] = arguments[_key3];\n              }\n\n              this.registerModel(args);\n              return _Model2.default.compose.apply(_Model2.default, _toConsumableArray(args));\n            },\n            collect: function collect(args) {\n              return (0, _Collection2.default)(args);\n            },\n            registerGlobalVariable: function registerGlobalVariable() {\n              if (typeof window !== \"undefined\" && window && !window._FLUENT_) {\n                window._FLUENT_ = {\n                  connectors: {},\n                  models: {}\n                };\n              }\n\n              if (global && !global._FLUENT_) {\n                global._FLUENT_ = {\n                  connectors: {},\n                  models: {}\n                };\n              }\n            },\n            registerModel: function registerModel(args) {\n              var name = args && args[0] && args[0].properties && args[0].properties.name ? args[0].properties.name : undefined;\n\n              if (!name || name === \"baseModel\") {\n                return;\n              }\n\n              if (!(typeof name === \"string\")) {\n                throw new Error(\"You must assign a name to your Model when using Fluent.compose\");\n              }\n\n              if (typeof window !== \"undefined\") {\n                window._FLUENT_.models[name] = true;\n                return;\n              }\n              global._FLUENT_.models[name] = true;\n            },\n            config: function config(_ref) {\n              var _ref$REMOTE_CONNECTOR = _ref.REMOTE_CONNECTORS,\n                  REMOTE_CONNECTORS = _ref$REMOTE_CONNECTOR === undefined ? undefined : _ref$REMOTE_CONNECTOR,\n                  _ref$LOCAL_CONNECTORS = _ref.LOCAL_CONNECTORS,\n                  LOCAL_CONNECTORS = _ref$LOCAL_CONNECTORS === undefined ? undefined : _ref$LOCAL_CONNECTORS,\n                  _ref$MERGE_CONNECTORS = _ref.MERGE_CONNECTORS,\n                  MERGE_CONNECTORS = _ref$MERGE_CONNECTORS === undefined ? undefined : _ref$MERGE_CONNECTORS;\n\n              if (typeof window !== \"undefined\" && window) {\n                window._FLUENT_.connectors = {\n                  local: LOCAL_CONNECTORS,\n                  remote: REMOTE_CONNECTORS,\n                  merge: MERGE_CONNECTORS\n                };\n              }\n\n              if (typeof global !== \"undefined\" && global) {\n                global._FLUENT_.connectors = {\n                  local: LOCAL_CONNECTORS,\n                  remote: REMOTE_CONNECTORS,\n                  merge: MERGE_CONNECTORS\n                };\n              }\n            },\n            getConfig: function getConfig() {\n              if (typeof window !== \"undefined\" && window) {\n                return window._FLUENT_;\n              }\n\n              if (typeof global !== \"undefined\" && global) {\n                return global._FLUENT_;\n              }\n            },\n            registerConnector: function registerConnector(_ref2) {\n              var type = _ref2.type,\n                  connector = _ref2.connector;\n\n              if (!type || !connector) throw new Error(\"type and connector must be defined\");\n              if (![\"local\", \"remote\", \"merge\"].includes(type)) throw new Error(\"type must be either local, remote or merge\");\n\n              var ctx = typeof window !== \"undefined\" && window ? window._FLUENT_ : global._FLUENT_;\n              var connectors = ctx.connectors.hasOwnProperty(type) ? ctx.connectors[type] : [];\n\n              if (connectors.length === 0) {\n                connector = _extends({}, connector, {\n                  default: true\n                });\n\n                connectors.push(connector);\n                ctx.connectors[type] = connectors;\n                return;\n              }\n\n              if (connectors.find(function (o) {\n                return o.name === connector.name;\n              })) {\n                console.log(\"A \" + type + \" connector with the name '\" + connector.name + \"' already exists\");\n                return;\n              }\n\n              connectors.push(connector);\n              ctx.connectors[type] = connectors;\n            },\n            deregisterConnector: function deregisterConnector(_ref3) {\n              var type = _ref3.type,\n                  name = _ref3.name;\n\n              if (!type || !name) throw new Error(\"type and name must be defined\");\n              if (![\"local\", \"remote\", \"merge\"].includes(type)) throw new Error(\"type must be either local, remote or merge\");\n\n              var ctx = typeof window !== \"undefined\" && window ? window._FLUENT_ : global._FLUENT_;\n              var connectors = ctx.connectors.hasOwnProperty(type) ? ctx.connectors[type] : [];\n\n              if (connectors.length === 0) return;\n\n              var filteredConnectors = connectors.filter(function (o) {\n                return o.name !== name;\n              });\n              ctx.connectors[type] = filteredConnectors;\n            }\n          }\n        })();\n\n        exports.default = Fluent;\n        /* WEBPACK VAR INJECTION */\n      }).call(this, __webpack_require__(4));\n\n      /***/\n    },\n    /* 15 */\n    /***/function (module, exports, __webpack_require__) {\n\n      // More proper implementation would be\n      // isDescriptor(obj) || isStamp(obj)\n      // but there is no sense since stamp is function and function is object.\n      module.exports = __webpack_require__(1);\n\n      /***/\n    },\n    /* 16 */\n    /***/function (module, exports) {\n\n      module.exports = function isPlainObject(value) {\n        return Boolean(value) && (typeof value === 'undefined' ? 'undefined' : _typeof2(value)) === 'object' && Object.getPrototypeOf(value) === Object.prototype;\n      };\n\n      /***/\n    },\n    /* 17 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var compose = __webpack_require__(2);\n\n      function createShortcut(propName) {\n        return function (arg) {\n          'use strict';\n\n          var param = {};\n          param[propName] = arg;\n          return this && this.compose ? this.compose(param) : compose(param);\n        };\n      }\n\n      var properties = createShortcut('properties');\n      var staticProperties = createShortcut('staticProperties');\n      var configuration = createShortcut('configuration');\n      var deepProperties = createShortcut('deepProperties');\n      var staticDeepProperties = createShortcut('staticDeepProperties');\n      var deepConfiguration = createShortcut('deepConfiguration');\n      var initializers = createShortcut('initializers');\n\n      module.exports = compose({\n        staticProperties: {\n          methods: createShortcut('methods'),\n\n          props: properties,\n          properties: properties,\n\n          statics: staticProperties,\n          staticProperties: staticProperties,\n\n          conf: configuration,\n          configuration: configuration,\n\n          deepProps: deepProperties,\n          deepProperties: deepProperties,\n\n          deepStatics: staticDeepProperties,\n          staticDeepProperties: staticDeepProperties,\n\n          deepConf: deepConfiguration,\n          deepConfiguration: deepConfiguration,\n\n          init: initializers,\n          initializers: initializers,\n\n          composers: createShortcut('composers'),\n\n          propertyDescriptors: createShortcut('propertyDescriptors'),\n\n          staticPropertyDescriptors: createShortcut('staticPropertyDescriptors')\n        }\n      });\n\n      /***/\n    },\n    /* 18 */\n    /***/function (module, exports) {\n\n      module.exports = function isString(arg) {\n        return typeof arg === 'string';\n      };\n\n      /***/\n    },\n    /* 19 */\n    /***/function (module, exports, __webpack_require__) {\n\n      var compose = __webpack_require__(2);\n      var privates = new WeakMap(); // WeakMap works in IE11, node 0.12\n\n      var makeProxyFunction = function makeProxyFunction(fn, name) {\n        function proxiedFn() {\n          'use strict';\n\n          var fields = privates.get(this); // jshint ignore:line\n          return fn.apply(fields, arguments);\n        }\n\n        Object.defineProperty(proxiedFn, 'name', {\n          value: name,\n          configurable: true\n        });\n\n        return proxiedFn;\n      };\n\n      function initializer(_, opts) {\n        var descriptor = opts.stamp.compose;\n        var privateMethodNames = descriptor.deepConfiguration.Privatize.methods;\n\n        var newObject = {}; // our proxy object\n        privates.set(newObject, this);\n\n        var methods = descriptor.methods;\n        if (!methods) {\n          return newObject;\n        }\n\n        var methodNames = Object.keys(methods);\n        for (var i = 0; i < methodNames.length; i++) {\n          var name = methodNames[i];\n          if (privateMethodNames.indexOf(name) < 0) {\n            // not private, thus wrap\n            newObject[name] = makeProxyFunction(methods[name], name);\n          }\n        }\n\n        // Integration with @stamp/instanceof\n        if (typeof Symbol !== \"undefined\") {\n          var stampSymbol = Symbol.for('stamp');\n          if (methods[stampSymbol]) {\n            newObject[stampSymbol] = opts.stamp;\n          }\n        }\n\n        return newObject;\n      }\n\n      var Privatize = compose({\n        initializers: [initializer],\n        deepConfiguration: { Privatize: { methods: [] } },\n        staticProperties: {\n          privatizeMethods: function privatizeMethods() {\n            'use strict';\n\n            var methodNames = [];\n            for (var i = 0; i < arguments.length; i++) {\n              var arg = arguments[i];\n              if (typeof arg === 'string' && arg.length > 0) {\n                methodNames.push(arg);\n              }\n            }\n            var Stamp = this && this.compose ? this : Privatize;\n            return Stamp.compose({\n              deepConfiguration: {\n                Privatize: {\n                  methods: methodNames\n                }\n              }\n            });\n          }\n        },\n        composers: [function (opts) {\n          var initializers = opts.stamp.compose.initializers;\n          // Keep our initializer the last to return proxy object\n          initializers.splice(initializers.indexOf(initializer), 1);\n          initializers.push(initializer);\n        }]\n      });\n\n      module.exports = Privatize;\n\n      /***/\n    },\n    /* 20 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n\n      var _Interface = __webpack_require__(12);\n\n      var _Interface2 = _interopRequireDefault(_Interface);\n\n      function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : { default: obj };\n      }\n\n      function _asyncToGenerator(fn) {\n        return function () {\n          var gen = fn.apply(this, arguments);return new Promise(function (resolve, reject) {\n            function step(key, arg) {\n              try {\n                var info = gen[key](arg);var value = info.value;\n              } catch (error) {\n                reject(error);return;\n              }if (info.done) {\n                resolve(value);\n              } else {\n                return Promise.resolve(value).then(function (value) {\n                  step(\"next\", value);\n                }, function (err) {\n                  step(\"throw\", err);\n                });\n              }\n            }return step(\"next\");\n          });\n        };\n      }\n\n      exports.default = _Interface2.default.compose({\n        properties: {\n          localFx: undefined,\n          remoteFx: undefined\n        },\n        init: function init(connectors) {\n          this.connectors = connectors;\n        },\n\n        methods: {\n          get: function get() {\n            var _this = this;\n\n            return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n              var localData, remoteData;\n              return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                  switch (_context.prev = _context.next) {\n                    case 0:\n                      _this.prepareMergedFunctions();\n                      _context.next = 3;\n                      return _this.localFx.get();\n\n                    case 3:\n                      localData = _context.sent;\n                      _context.next = 6;\n                      return _this.remoteFx.get();\n\n                    case 6:\n                      remoteData = _context.sent;\n                      return _context.abrupt(\"return\", localData.concat(remoteData));\n\n                    case 8:\n                    case \"end\":\n                      return _context.stop();\n                  }\n                }\n              }, _callee, _this);\n            }))();\n          },\n          prepareMergedFunctions: function prepareMergedFunctions() {\n            var _this2 = this;\n\n            this.localFx = this.connectors.local;\n            this.remoteFx = this.connectors.remote;\n\n            this.chainReference.forEach(function (chain) {\n              var method = chain.method;\n              var args = chain.args;\n\n              _this2.localFx = _this2.localFx[method](args);\n              _this2.remoteFx = _this2.remoteFx[method](args);\n            });\n          }\n        }\n      });\n\n      /***/\n    },\n    /* 21 */\n    /***/function (module, exports, __webpack_require__) {\n\n      \"use strict\";\n\n      Object.defineProperty(exports, \"__esModule\", {\n        value: true\n      });\n      var Event = function () {\n        var CustomEvent = function CustomEvent(event, params) {\n          var evt = document.createEvent(\"CustomEvent\");\n\n          params = params || { bubbles: false, cancelable: false, detail: undefined };\n\n          evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n          return evt;\n        };\n\n        function emit(_ref) {\n          var name = _ref.name,\n              data = _ref.data,\n              text = _ref.text;\n\n          if (!name) throw new Error(\"Event must have a name.\");\n          if (!data) throw new Error(\"Event must have data.\");\n          if (!text) throw new Error(\"Event must have a text.\");\n          var customEvent = CustomEvent(name, {\n            detail: {\n              data: data,\n              text: text\n            }\n          });\n\n          window.dispatchEvent(customEvent);\n        }\n        function listen(_ref2) {\n          var name = _ref2.name,\n              callback = _ref2.callback;\n\n          if (!name) throw new Error(\"Listener must have a name.\");\n          if (!callback) throw new Error(\"Listener must have a callback.\");\n          window.addEventListener(name, callback);\n        }\n\n        function remove(_ref3) {\n          var name = _ref3.name,\n              callback = _ref3.callback;\n\n          if (!name) throw new Error(\"Listener must have a name to detach\");\n          if (!callback) throw new Error(\"Listener must have a callback to detach\");\n          window.removeEventListener(name, callback);\n        }\n        return Object.freeze({\n          emit: emit,\n          listen: listen,\n          remove: remove\n        });\n      }();\n\n      exports.default = Event;\n\n      /***/\n    }]\n    /******/)\n  );\n});\n//# sourceMappingURL=goat-fluent.min.js.map\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(32)(module)))\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports) {\n\nmodule.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Event = __webpack_require__(34);\n\nvar _Event2 = _interopRequireDefault(_Event);\n\nvar _axios = __webpack_require__(2);\n\nvar _axios2 = _interopRequireDefault(_axios);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable no-unused-vars */\nvar Connection = function () {\n  var online = typeof window !== 'undefined' && window && window.navigator ? window.navigator.onLine : true;\n\n  function setOnline() {\n    if (!online) {\n      online = true;\n      _Event2.default.emit({\n        name: 'FAST:CONNECTION:ONLINE',\n        data: online,\n        text: 'Application is now online'\n      });\n    }\n  }\n\n  function setOffline() {\n    if (online) {\n      online = false;\n      _Event2.default.emit({\n        name: 'FAST:CONNECTION:OFFLINE',\n        data: online,\n        text: 'Application is now offline'\n      });\n    }\n  }\n\n  /**\n   * [status description]\n   * @return {Promise} [description]\n   */\n  function initEventListeners() {\n    _Event2.default.listen({\n      name: 'online',\n      callback: function callback() {\n        console.log('App is now online');\n        setOnline();\n      }\n    });\n    _Event2.default.listen({\n      name: 'offline',\n      callback: function callback() {\n        console.log('App is now offline');\n        setOffline();\n      }\n    });\n  }\n\n  function isOnline() {\n    return new Promise(function (resolve, reject) {\n      _axios2.default.get('https://yesno.wtf/api').then(function (res) {\n        resolve(true);\n      }).catch(function (err) {\n        resolve(false);\n      });\n    });\n  }\n\n  return Object.freeze({\n    isOnline: isOnline,\n    initEventListeners: initEventListeners\n  });\n}();\n// import Promise from 'bluebird';\nexports.default = Connection;\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Event = function () {\n  var CustomEvent = function CustomEvent(event, params) {\n    var evt = document.createEvent('CustomEvent');\n\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\n\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\n    return evt;\n  };\n\n  function emit(_ref) {\n    var name = _ref.name,\n        data = _ref.data,\n        text = _ref.text;\n\n    if (!name) throw new Error('Event must have a name.');\n    if (!data) throw new Error('Event must have data.');\n    if (!text) throw new Error('Event must have a text.');\n    var customEvent = CustomEvent(name, {\n      detail: {\n        data: data,\n        text: text\n      }\n    });\n\n    window.dispatchEvent(customEvent);\n  }\n  function listen(_ref2) {\n    var name = _ref2.name,\n        callback = _ref2.callback;\n\n    if (!name) throw new Error('Listener must have a name.');\n    if (!callback) throw new Error('Listener must have a callback.');\n    window.addEventListener(name, callback);\n  }\n\n  function remove(_ref3) {\n    var name = _ref3.name,\n        callback = _ref3.callback;\n\n    if (!name) throw new Error('Listener must have a name to detach');\n    if (!callback) throw new Error('Listener must have a callback to detach');\n    window.removeEventListener(name, callback);\n  }\n  return Object.freeze({\n    emit: emit,\n    listen: listen,\n    remove: remove\n  });\n}();\n\nexports.default = Event;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(t,n){ true?module.exports=n():undefined}(this,function(){\"use strict\";var t=\"millisecond\",n=\"second\",e=\"minute\",r=\"hour\",i=\"day\",s=\"week\",u=\"month\",o=\"quarter\",a=\"year\",h=/^(\\d{4})-?(\\d{1,2})-?(\\d{0,2})[^0-9]*(\\d{1,2})?:?(\\d{1,2})?:?(\\d{1,2})?.?(\\d{1,3})?$/,f=/\\[([^\\]]+)]|Y{2,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,c=function(t,n,e){var r=String(t);return!r||r.length>=n?t:\"\"+Array(n+1-r.length).join(e)+t},d={s:c,z:function(t){var n=-t.utcOffset(),e=Math.abs(n),r=Math.floor(e/60),i=e%60;return(n<=0?\"+\":\"-\")+c(r,2,\"0\")+\":\"+c(i,2,\"0\")},m:function(t,n){var e=12*(n.year()-t.year())+(n.month()-t.month()),r=t.clone().add(e,u),i=n-r<0,s=t.clone().add(e+(i?-1:1),u);return Number(-(e+(n-r)/(i?r-s:s-r))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(h){return{M:u,y:a,w:s,d:i,h:r,m:e,s:n,ms:t,Q:o}[h]||String(h||\"\").toLowerCase().replace(/s$/,\"\")},u:function(t){return void 0===t}},$={name:\"en\",weekdays:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\")},l=\"en\",m={};m[l]=$;var y=function(t){return t instanceof v},M=function(t,n,e){var r;if(!t)return null;if(\"string\"==typeof t)m[t]&&(r=t),n&&(m[t]=n,r=t);else{var i=t.name;m[i]=t,r=i}return e||(l=r),r},g=function(t,n,e){if(y(t))return t.clone();var r=n?\"string\"==typeof n?{format:n,pl:e}:n:{};return r.date=t,new v(r)},D=d;D.l=M,D.i=y,D.w=function(t,n){return g(t,{locale:n.$L,utc:n.$u})};var v=function(){function c(t){this.$L=this.$L||M(t.locale,null,!0)||l,this.parse(t)}var d=c.prototype;return d.parse=function(t){this.$d=function(t){var n=t.date,e=t.utc;if(null===n)return new Date(NaN);if(D.u(n))return new Date;if(n instanceof Date)return new Date(n);if(\"string\"==typeof n&&!/Z$/i.test(n)){var r=n.match(h);if(r)return e?new Date(Date.UTC(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)):new Date(r[1],r[2]-1,r[3]||1,r[4]||0,r[5]||0,r[6]||0,r[7]||0)}return new Date(n)}(t),this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return D},d.isValid=function(){return!(\"Invalid Date\"===this.$d.toString())},d.isSame=function(t,n){var e=g(t);return this.startOf(n)<=e&&e<=this.endOf(n)},d.isAfter=function(t,n){return g(t)<this.startOf(n)},d.isBefore=function(t,n){return this.endOf(n)<g(t)},d.$g=function(t,n,e){return D.u(t)?this[n]:this.set(e,t)},d.year=function(t){return this.$g(t,\"$y\",a)},d.month=function(t){return this.$g(t,\"$M\",u)},d.day=function(t){return this.$g(t,\"$W\",i)},d.date=function(t){return this.$g(t,\"$D\",\"date\")},d.hour=function(t){return this.$g(t,\"$H\",r)},d.minute=function(t){return this.$g(t,\"$m\",e)},d.second=function(t){return this.$g(t,\"$s\",n)},d.millisecond=function(n){return this.$g(n,\"$ms\",t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,o){var h=this,f=!!D.u(o)||o,c=D.p(t),d=function(t,n){var e=D.w(h.$u?Date.UTC(h.$y,n,t):new Date(h.$y,n,t),h);return f?e:e.endOf(i)},$=function(t,n){return D.w(h.toDate()[t].apply(h.toDate(),(f?[0,0,0,0]:[23,59,59,999]).slice(n)),h)},l=this.$W,m=this.$M,y=this.$D,M=\"set\"+(this.$u?\"UTC\":\"\");switch(c){case a:return f?d(1,0):d(31,11);case u:return f?d(1,m):d(0,m+1);case s:var g=this.$locale().weekStart||0,v=(l<g?l+7:l)-g;return d(f?y-v:y+(6-v),m);case i:case\"date\":return $(M+\"Hours\",0);case r:return $(M+\"Minutes\",1);case e:return $(M+\"Seconds\",2);case n:return $(M+\"Milliseconds\",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(s,o){var h,f=D.p(s),c=\"set\"+(this.$u?\"UTC\":\"\"),d=(h={},h[i]=c+\"Date\",h.date=c+\"Date\",h[u]=c+\"Month\",h[a]=c+\"FullYear\",h[r]=c+\"Hours\",h[e]=c+\"Minutes\",h[n]=c+\"Seconds\",h[t]=c+\"Milliseconds\",h)[f],$=f===i?this.$D+(o-this.$W):o;if(f===u||f===a){var l=this.clone().set(\"date\",1);l.$d[d]($),l.init(),this.$d=l.set(\"date\",Math.min(this.$D,l.daysInMonth())).toDate()}else d&&this.$d[d]($);return this.init(),this},d.set=function(t,n){return this.clone().$set(t,n)},d.get=function(t){return this[D.p(t)]()},d.add=function(t,o){var h,f=this;t=Number(t);var c=D.p(o),d=function(n){var e=g(f);return D.w(e.date(e.date()+Math.round(n*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===a)return this.set(a,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[e]=6e4,h[r]=36e5,h[n]=1e3,h)[c]||1,l=this.valueOf()+t*$;return D.w(l,this)},d.subtract=function(t,n){return this.add(-1*t,n)},d.format=function(t){var n=this;if(!this.isValid())return\"Invalid Date\";var e=t||\"YYYY-MM-DDTHH:mm:ssZ\",r=D.z(this),i=this.$locale(),s=this.$H,u=this.$m,o=this.$M,a=i.weekdays,h=i.months,c=function(t,r,i,s){return t&&(t[r]||t(n,e))||i[r].substr(0,s)},d=function(t){return D.s(s%12||12,t,\"0\")},$=i.meridiem||function(t,n,e){var r=t<12?\"AM\":\"PM\";return e?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:o+1,MM:D.s(o+1,2,\"0\"),MMM:c(i.monthsShort,o,h,3),MMMM:h[o]||h(this,e),D:this.$D,DD:D.s(this.$D,2,\"0\"),d:String(this.$W),dd:c(i.weekdaysMin,this.$W,a,2),ddd:c(i.weekdaysShort,this.$W,a,3),dddd:a[this.$W],H:String(s),HH:D.s(s,2,\"0\"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:D.s(u,2,\"0\"),s:String(this.$s),ss:D.s(this.$s,2,\"0\"),SSS:D.s(this.$ms,3,\"0\"),Z:r};return e.replace(f,function(t,n){return n||l[t]||r.replace(\":\",\"\")})},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,h,f){var c,d=D.p(h),$=g(t),l=6e4*($.utcOffset()-this.utcOffset()),m=this-$,y=D.m(this,$);return y=(c={},c[a]=y/12,c[u]=y,c[o]=y/3,c[s]=(m-l)/6048e5,c[i]=(m-l)/864e5,c[r]=m/36e5,c[e]=m/6e4,c[n]=m/1e3,c)[d]||m,f?y:D.a(y)},d.daysInMonth=function(){return this.endOf(u).$D},d.$locale=function(){return m[this.$L]},d.locale=function(t,n){if(!t)return this.$L;var e=this.clone();return e.$L=M(t,n,!0),e},d.clone=function(){return D.w(this.toDate(),this)},d.toDate=function(){return new Date(this.$d)},d.toJSON=function(){return this.toISOString()},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},c}();return g.prototype=v.prototype,g.extend=function(t,n){return t(n,v,g),g},g.locale=M,g.isDayjs=y,g.unix=function(t){return g(1e3*t)},g.en=m[l],g.Ls=m,g});\n\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n!function(e,t){ true?module.exports=t():undefined}(this,function(){\"use strict\";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}});\n\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar base64_url_decode = __webpack_require__(38);\n\nfunction InvalidTokenError(message) {\n  this.message = message;\n}\n\nInvalidTokenError.prototype = new Error();\nInvalidTokenError.prototype.name = 'InvalidTokenError';\n\nmodule.exports = function (token,options) {\n  if (typeof token !== 'string') {\n    throw new InvalidTokenError('Invalid token specified');\n  }\n\n  options = options || {};\n  var pos = options.header === true ? 0 : 1;\n  try {\n    return JSON.parse(base64_url_decode(token.split('.')[pos]));\n  } catch (e) {\n    throw new InvalidTokenError('Invalid token specified: ' + e.message);\n  }\n};\n\nmodule.exports.InvalidTokenError = InvalidTokenError;\n\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar atob = __webpack_require__(39);\n\nfunction b64DecodeUnicode(str) {\n  return decodeURIComponent(atob(str).replace(/(.)/g, function (m, p) {\n    var code = p.charCodeAt(0).toString(16).toUpperCase();\n    if (code.length < 2) {\n      code = '0' + code;\n    }\n    return '%' + code;\n  }));\n}\n\nmodule.exports = function(str) {\n  var output = str.replace(/-/g, \"+\").replace(/_/g, \"/\");\n  switch (output.length % 4) {\n    case 0:\n      break;\n    case 2:\n      output += \"==\";\n      break;\n    case 3:\n      output += \"=\";\n      break;\n    default:\n      throw \"Illegal base64url string!\";\n  }\n\n  try{\n    return b64DecodeUnicode(output);\n  } catch (err) {\n    return atob(output);\n  }\n};\n\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports) {\n\n/**\n * The code was extracted from:\n * https://github.com/davidchambers/Base64.js\n */\n\nvar chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\n\nfunction InvalidCharacterError(message) {\n  this.message = message;\n}\n\nInvalidCharacterError.prototype = new Error();\nInvalidCharacterError.prototype.name = 'InvalidCharacterError';\n\nfunction polyfill (input) {\n  var str = String(input).replace(/=+$/, '');\n  if (str.length % 4 == 1) {\n    throw new InvalidCharacterError(\"'atob' failed: The string to be decoded is not correctly encoded.\");\n  }\n  for (\n    // initialize result and counters\n    var bc = 0, bs, buffer, idx = 0, output = '';\n    // get next character\n    buffer = str.charAt(idx++);\n    // character found in table? initialize bit storage and add its ascii value;\n    ~buffer && (bs = bc % 4 ? bs * 64 + buffer : buffer,\n      // and if not first of each 4 characters,\n      // convert the first 8 bits to one ascii character\n      bc++ % 4) ? output += String.fromCharCode(255 & bs >> (-2 * bc & 6)) : 0\n  ) {\n    // try to find character in table (0-63, not found => -1)\n    buffer = chars.indexOf(buffer);\n  }\n  return output;\n}\n\n\nmodule.exports = typeof window !== 'undefined' && window.atob && window.atob.bind(window) || polyfill;\n\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/* global define */\n\n(function (root, pluralize) {\n  /* istanbul ignore else */\n  if (true) {\n    // Node.\n    module.exports = pluralize();\n  } else {}\n})(this, function () {\n  // Rule storage - pluralize and singularize need to be run sequentially,\n  // while other rules can be optimized using an object for instant lookups.\n  var pluralRules = [];\n  var singularRules = [];\n  var uncountables = {};\n  var irregularPlurals = {};\n  var irregularSingles = {};\n\n  /**\n   * Sanitize a pluralization rule to a usable regular expression.\n   *\n   * @param  {(RegExp|string)} rule\n   * @return {RegExp}\n   */\n  function sanitizeRule (rule) {\n    if (typeof rule === 'string') {\n      return new RegExp('^' + rule + '$', 'i');\n    }\n\n    return rule;\n  }\n\n  /**\n   * Pass in a word token to produce a function that can replicate the case on\n   * another word.\n   *\n   * @param  {string}   word\n   * @param  {string}   token\n   * @return {Function}\n   */\n  function restoreCase (word, token) {\n    // Tokens are an exact match.\n    if (word === token) return token;\n\n    // Lower cased words. E.g. \"hello\".\n    if (word === word.toLowerCase()) return token.toLowerCase();\n\n    // Upper cased words. E.g. \"WHISKY\".\n    if (word === word.toUpperCase()) return token.toUpperCase();\n\n    // Title cased words. E.g. \"Title\".\n    if (word[0] === word[0].toUpperCase()) {\n      return token.charAt(0).toUpperCase() + token.substr(1).toLowerCase();\n    }\n\n    // Lower cased words. E.g. \"test\".\n    return token.toLowerCase();\n  }\n\n  /**\n   * Interpolate a regexp string.\n   *\n   * @param  {string} str\n   * @param  {Array}  args\n   * @return {string}\n   */\n  function interpolate (str, args) {\n    return str.replace(/\\$(\\d{1,2})/g, function (match, index) {\n      return args[index] || '';\n    });\n  }\n\n  /**\n   * Replace a word using a rule.\n   *\n   * @param  {string} word\n   * @param  {Array}  rule\n   * @return {string}\n   */\n  function replace (word, rule) {\n    return word.replace(rule[0], function (match, index) {\n      var result = interpolate(rule[1], arguments);\n\n      if (match === '') {\n        return restoreCase(word[index - 1], result);\n      }\n\n      return restoreCase(match, result);\n    });\n  }\n\n  /**\n   * Sanitize a word by passing in the word and sanitization rules.\n   *\n   * @param  {string}   token\n   * @param  {string}   word\n   * @param  {Array}    rules\n   * @return {string}\n   */\n  function sanitizeWord (token, word, rules) {\n    // Empty string or doesn't need fixing.\n    if (!token.length || uncountables.hasOwnProperty(token)) {\n      return word;\n    }\n\n    var len = rules.length;\n\n    // Iterate over the sanitization rules and use the first one to match.\n    while (len--) {\n      var rule = rules[len];\n\n      if (rule[0].test(word)) return replace(word, rule);\n    }\n\n    return word;\n  }\n\n  /**\n   * Replace a word with the updated word.\n   *\n   * @param  {Object}   replaceMap\n   * @param  {Object}   keepMap\n   * @param  {Array}    rules\n   * @return {Function}\n   */\n  function replaceWord (replaceMap, keepMap, rules) {\n    return function (word) {\n      // Get the correct token and case restoration functions.\n      var token = word.toLowerCase();\n\n      // Check against the keep object map.\n      if (keepMap.hasOwnProperty(token)) {\n        return restoreCase(word, token);\n      }\n\n      // Check against the replacement map for a direct word replacement.\n      if (replaceMap.hasOwnProperty(token)) {\n        return restoreCase(word, replaceMap[token]);\n      }\n\n      // Run all the rules against the word.\n      return sanitizeWord(token, word, rules);\n    };\n  }\n\n  /**\n   * Check if a word is part of the map.\n   */\n  function checkWord (replaceMap, keepMap, rules, bool) {\n    return function (word) {\n      var token = word.toLowerCase();\n\n      if (keepMap.hasOwnProperty(token)) return true;\n      if (replaceMap.hasOwnProperty(token)) return false;\n\n      return sanitizeWord(token, token, rules) === token;\n    };\n  }\n\n  /**\n   * Pluralize or singularize a word based on the passed in count.\n   *\n   * @param  {string}  word      The word to pluralize\n   * @param  {number}  count     How many of the word exist\n   * @param  {boolean} inclusive Whether to prefix with the number (e.g. 3 ducks)\n   * @return {string}\n   */\n  function pluralize (word, count, inclusive) {\n    var pluralized = count === 1\n      ? pluralize.singular(word) : pluralize.plural(word);\n\n    return (inclusive ? count + ' ' : '') + pluralized;\n  }\n\n  /**\n   * Pluralize a word.\n   *\n   * @type {Function}\n   */\n  pluralize.plural = replaceWord(\n    irregularSingles, irregularPlurals, pluralRules\n  );\n\n  /**\n   * Check if a word is plural.\n   *\n   * @type {Function}\n   */\n  pluralize.isPlural = checkWord(\n    irregularSingles, irregularPlurals, pluralRules\n  );\n\n  /**\n   * Singularize a word.\n   *\n   * @type {Function}\n   */\n  pluralize.singular = replaceWord(\n    irregularPlurals, irregularSingles, singularRules\n  );\n\n  /**\n   * Check if a word is singular.\n   *\n   * @type {Function}\n   */\n  pluralize.isSingular = checkWord(\n    irregularPlurals, irregularSingles, singularRules\n  );\n\n  /**\n   * Add a pluralization rule to the collection.\n   *\n   * @param {(string|RegExp)} rule\n   * @param {string}          replacement\n   */\n  pluralize.addPluralRule = function (rule, replacement) {\n    pluralRules.push([sanitizeRule(rule), replacement]);\n  };\n\n  /**\n   * Add a singularization rule to the collection.\n   *\n   * @param {(string|RegExp)} rule\n   * @param {string}          replacement\n   */\n  pluralize.addSingularRule = function (rule, replacement) {\n    singularRules.push([sanitizeRule(rule), replacement]);\n  };\n\n  /**\n   * Add an uncountable word rule.\n   *\n   * @param {(string|RegExp)} word\n   */\n  pluralize.addUncountableRule = function (word) {\n    if (typeof word === 'string') {\n      uncountables[word.toLowerCase()] = true;\n      return;\n    }\n\n    // Set singular and plural references for the word.\n    pluralize.addPluralRule(word, '$0');\n    pluralize.addSingularRule(word, '$0');\n  };\n\n  /**\n   * Add an irregular word definition.\n   *\n   * @param {string} single\n   * @param {string} plural\n   */\n  pluralize.addIrregularRule = function (single, plural) {\n    plural = plural.toLowerCase();\n    single = single.toLowerCase();\n\n    irregularSingles[single] = plural;\n    irregularPlurals[plural] = single;\n  };\n\n  /**\n   * Irregular rules.\n   */\n  [\n    // Pronouns.\n    ['I', 'we'],\n    ['me', 'us'],\n    ['he', 'they'],\n    ['she', 'they'],\n    ['them', 'them'],\n    ['myself', 'ourselves'],\n    ['yourself', 'yourselves'],\n    ['itself', 'themselves'],\n    ['herself', 'themselves'],\n    ['himself', 'themselves'],\n    ['themself', 'themselves'],\n    ['is', 'are'],\n    ['was', 'were'],\n    ['has', 'have'],\n    ['this', 'these'],\n    ['that', 'those'],\n    // Words ending in with a consonant and `o`.\n    ['echo', 'echoes'],\n    ['dingo', 'dingoes'],\n    ['volcano', 'volcanoes'],\n    ['tornado', 'tornadoes'],\n    ['torpedo', 'torpedoes'],\n    // Ends with `us`.\n    ['genus', 'genera'],\n    ['viscus', 'viscera'],\n    // Ends with `ma`.\n    ['stigma', 'stigmata'],\n    ['stoma', 'stomata'],\n    ['dogma', 'dogmata'],\n    ['lemma', 'lemmata'],\n    ['schema', 'schemata'],\n    ['anathema', 'anathemata'],\n    // Other irregular rules.\n    ['ox', 'oxen'],\n    ['axe', 'axes'],\n    ['die', 'dice'],\n    ['yes', 'yeses'],\n    ['foot', 'feet'],\n    ['eave', 'eaves'],\n    ['goose', 'geese'],\n    ['tooth', 'teeth'],\n    ['quiz', 'quizzes'],\n    ['human', 'humans'],\n    ['proof', 'proofs'],\n    ['carve', 'carves'],\n    ['valve', 'valves'],\n    ['looey', 'looies'],\n    ['thief', 'thieves'],\n    ['groove', 'grooves'],\n    ['pickaxe', 'pickaxes'],\n    ['passerby', 'passersby']\n  ].forEach(function (rule) {\n    return pluralize.addIrregularRule(rule[0], rule[1]);\n  });\n\n  /**\n   * Pluralization rules.\n   */\n  [\n    [/s?$/i, 's'],\n    [/[^\\u0000-\\u007F]$/i, '$0'],\n    [/([^aeiou]ese)$/i, '$1'],\n    [/(ax|test)is$/i, '$1es'],\n    [/(alias|[^aou]us|t[lm]as|gas|ris)$/i, '$1es'],\n    [/(e[mn]u)s?$/i, '$1s'],\n    [/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i, '$1'],\n    [/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i, '$1i'],\n    [/(alumn|alg|vertebr)(?:a|ae)$/i, '$1ae'],\n    [/(seraph|cherub)(?:im)?$/i, '$1im'],\n    [/(her|at|gr)o$/i, '$1oes'],\n    [/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i, '$1a'],\n    [/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i, '$1a'],\n    [/sis$/i, 'ses'],\n    [/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i, '$1$2ves'],\n    [/([^aeiouy]|qu)y$/i, '$1ies'],\n    [/([^ch][ieo][ln])ey$/i, '$1ies'],\n    [/(x|ch|ss|sh|zz)$/i, '$1es'],\n    [/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i, '$1ices'],\n    [/\\b((?:tit)?m|l)(?:ice|ouse)$/i, '$1ice'],\n    [/(pe)(?:rson|ople)$/i, '$1ople'],\n    [/(child)(?:ren)?$/i, '$1ren'],\n    [/eaux$/i, '$0'],\n    [/m[ae]n$/i, 'men'],\n    ['thou', 'you']\n  ].forEach(function (rule) {\n    return pluralize.addPluralRule(rule[0], rule[1]);\n  });\n\n  /**\n   * Singularization rules.\n   */\n  [\n    [/s$/i, ''],\n    [/(ss)$/i, '$1'],\n    [/(wi|kni|(?:after|half|high|low|mid|non|night|[^\\w]|^)li)ves$/i, '$1fe'],\n    [/(ar|(?:wo|[ae])l|[eo][ao])ves$/i, '$1f'],\n    [/ies$/i, 'y'],\n    [/\\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i, '$1ie'],\n    [/\\b(mon|smil)ies$/i, '$1ey'],\n    [/\\b((?:tit)?m|l)ice$/i, '$1ouse'],\n    [/(seraph|cherub)im$/i, '$1'],\n    [/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i, '$1'],\n    [/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i, '$1sis'],\n    [/(movie|twelve|abuse|e[mn]u)s$/i, '$1'],\n    [/(test)(?:is|es)$/i, '$1is'],\n    [/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i, '$1us'],\n    [/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i, '$1um'],\n    [/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i, '$1on'],\n    [/(alumn|alg|vertebr)ae$/i, '$1a'],\n    [/(cod|mur|sil|vert|ind)ices$/i, '$1ex'],\n    [/(matr|append)ices$/i, '$1ix'],\n    [/(pe)(rson|ople)$/i, '$1rson'],\n    [/(child)ren$/i, '$1'],\n    [/(eau)x?$/i, '$1'],\n    [/men$/i, 'man']\n  ].forEach(function (rule) {\n    return pluralize.addSingularRule(rule[0], rule[1]);\n  });\n\n  /**\n   * Uncountable rules.\n   */\n  [\n    // Singular words with no plurals.\n    'adulthood',\n    'advice',\n    'agenda',\n    'aid',\n    'aircraft',\n    'alcohol',\n    'ammo',\n    'analytics',\n    'anime',\n    'athletics',\n    'audio',\n    'bison',\n    'blood',\n    'bream',\n    'buffalo',\n    'butter',\n    'carp',\n    'cash',\n    'chassis',\n    'chess',\n    'clothing',\n    'cod',\n    'commerce',\n    'cooperation',\n    'corps',\n    'debris',\n    'diabetes',\n    'digestion',\n    'elk',\n    'energy',\n    'equipment',\n    'excretion',\n    'expertise',\n    'firmware',\n    'flounder',\n    'fun',\n    'gallows',\n    'garbage',\n    'graffiti',\n    'hardware',\n    'headquarters',\n    'health',\n    'herpes',\n    'highjinks',\n    'homework',\n    'housework',\n    'information',\n    'jeans',\n    'justice',\n    'kudos',\n    'labour',\n    'literature',\n    'machinery',\n    'mackerel',\n    'mail',\n    'media',\n    'mews',\n    'moose',\n    'music',\n    'mud',\n    'manga',\n    'news',\n    'only',\n    'personnel',\n    'pike',\n    'plankton',\n    'pliers',\n    'police',\n    'pollution',\n    'premises',\n    'rain',\n    'research',\n    'rice',\n    'salmon',\n    'scissors',\n    'series',\n    'sewage',\n    'shambles',\n    'shrimp',\n    'software',\n    'species',\n    'staff',\n    'swine',\n    'tennis',\n    'traffic',\n    'transportation',\n    'trout',\n    'tuna',\n    'wealth',\n    'welfare',\n    'whiting',\n    'wildebeest',\n    'wildlife',\n    'you',\n    /pok[e]mon$/i,\n    // Regexes.\n    /[^aeiou]ese$/i, // \"chinese\", \"japanese\"\n    /deer$/i, // \"deer\", \"reindeer\"\n    /fish$/i, // \"fish\", \"blowfish\", \"angelfish\"\n    /measles$/i,\n    /o[iu]s$/i, // \"carnivorous\"\n    /pox$/i, // \"chickpox\", \"smallpox\"\n    /sheep$/i\n  ].forEach(pluralize.addUncountableRule);\n\n  return pluralize;\n});\n\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=fluent-loopback.min.js.map","import axios from \"axios\";\nimport Event from \"../../Wrappers/Event\";\n\nlet ErrorHandler = (() => {\n  const parse = async error => {\n    switch (error.response.status) {\n      case 400:\n        console.log(\"Bad request\");\n        Event.emit({\n          name: \"GOAT:SESSION:BADREQUEST\",\n          data: error,\n          text: \"Bad request\"\n        });\n        break;\n      case 440:\n        Event.emit({\n          name: \"GOAT:SESSION:EXPIRED\",\n          data: error,\n          text: \"Session Expired\"\n        });\n        break;\n      default:\n        console.log(error);\n        break;\n    }\n  };\n  const interceptAxios = () => {\n    axios.interceptors.response.use(\n      response => response,\n      async error => {\n        await parse(error);\n        return Promise.reject(error);\n      }\n    );\n  };\n  return Object.freeze({\n    interceptAxios\n  });\n})();\n\nexport default ErrorHandler;\n","import dayjs from \"dayjs\";\nimport Utilities from \"../../utilities\";\n// import 'moment/min/locales';\n\nlet Moment = class {\n  static setLocales() {\n    dayjs.locale(Moment.getLanguage());\n  }\n  static changeLanguage(code) {\n    dayjs.locale(code);\n  }\n\n  static getLanguage() {\n    return Utilities.getLanguage();\n  }\n};\n\nexport default Moment;\n","import stampit from '@stamp/it';\n\nexport default stampit({\n  methods: {\n    subscribe() {\n      throw new Error('subscribe() method not implemented in this connector.');\n    },\n    bind() {\n      throw new Error('bind() method not implemented in this connector.');\n    },\n    trigger() {\n      throw new Error('trigger() method not implemented in this connector.');\n    }\n  }\n});","import uuidv4 from \"uuid/v4\";\nimport Utilities from \"utilities\";\nimport Submission from \"models/Submission\";\n// import Promise from \"bluebird\";\n\nlet ParallelSurvey = (() => {\n  function getNewGroupWizard(vm) {\n    let progressSteps = [\"1\", \"2\", \"3\"];\n    let steps = [\n      {\n        title: vm.$t(\"Group Name\"),\n        text: vm.$t(\"Give the group a name\"),\n        inputValidator: value => {\n          return new Promise((resolve, reject) => {\n            if (value !== \"\") {\n              resolve();\n            } else {\n              let error = new Error(vm.$t(\"The group name is already taken\"));\n\n              reject(error);\n            }\n          });\n        }\n      },\n      {\n        title: vm.$t(\"Current Participant Name\"),\n        text: vm.$t(\"Give the current participant a name\")\n      },\n      {\n        title: vm.$t(\"Next participant Name\"),\n        text: vm.$t(\"Give the next participant a name\")\n      }\n    ];\n\n    return { progressSteps: progressSteps, steps: steps };\n  }\n\n  function getNewUserWizard(vm) {\n    let progressSteps = [\"1\"];\n    let steps = [\n      {\n        title: vm.$t(\"Participant Name\"),\n        text: vm.$t(\"Give the next participant a name\")\n      }\n    ];\n\n    return { progressSteps: progressSteps, steps: steps };\n  }\n\n  function getGroupId(submission) {\n    let groupId = Utilities.get(\n      () => Submission().getParallelSurvey(submission).groupId\n    );\n\n    return groupId;\n  }\n\n  function submissionHasGroup(groupId) {\n    return !!groupId;\n  }\n  /**\n   * Creates the Wizard object to have new user or new group\n   * @param {*} param0\n   */\n  async function createWizard({ submission, vm }) {\n    let groupId = getGroupId(submission);\n\n    if (submissionHasGroup(groupId)) {\n      return Object.assign({}, getNewUserWizard(vm), { groupId: groupId });\n    }\n    return Object.assign({}, getNewGroupWizard(vm), { groupId: groupId });\n  }\n  function prepareNewGroupObject({ submission, vm, info }) {\n    let groupName = info[0];\n    let participantName = info[1];\n    let nextParticipant = info[2];\n    // Format the parallelSurvey object\n    let parallelSurvey = {\n      groupId: uuidv4(),\n      groupName: groupName,\n      participantName: participantName,\n      submissionId: submission._id\n    };\n\n    // Store information of the parallelSurvey on the current submission\n    vm.currentSubmission.parallelSurvey = Submission().setParallelSurvey(\n      parallelSurvey\n    );\n\n    // New survey Information\n    let surveyData = {\n      parallelSurvey: Submission().setParallelSurvey({\n        ...parallelSurvey,\n        participantName: nextParticipant\n      })\n    };\n\n    return surveyData;\n  }\n\n  function prepareNewUserObject({ submission, info }) {\n    let participantName = info[0];\n    let parallelsurveyInfo = Submission().getParallelSurvey(submission);\n\n    parallelsurveyInfo.participantName = participantName;\n    // New survey Information\n    let surveyData = {\n      parallelSurvey: Submission().setParallelSurvey(parallelsurveyInfo)\n    };\n\n    return surveyData;\n  }\n\n  async function createNewSurvey({ submission, vm, info }) {\n    let groupId = getGroupId(submission);\n\n    if (submissionHasGroup(groupId)) {\n      return prepareNewUserObject({ submission, vm, info });\n    }\n    return prepareNewGroupObject({ submission, vm, info });\n  }\n\n  async function assignSelfId(created) {\n    console.log(created);\n  }\n\n  return Object.freeze({\n    createWizard,\n    createNewSurvey,\n    assignSelfId\n  });\n})();\n\nexport default ParallelSurvey;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options === 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\n\n// getRandomValues needs to be invoked in a context where \"this\" is a Crypto\n// implementation. Also, find the complete implementation of crypto on IE11.\nvar getRandomValues = (typeof(crypto) != 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||\n                      (typeof(msCrypto) != 'undefined' && typeof window.msCrypto.getRandomValues == 'function' && msCrypto.getRandomValues.bind(msCrypto));\n\nif (getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n\n  module.exports = function whatwgRNG() {\n    getRandomValues(rnds8);\n    return rnds8;\n  };\n} else {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n\n  module.exports = function mathRNG() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  // join used to fix memory issue caused by concatenation: https://bugs.chromium.org/p/v8/issues/detail?id=3175#c4\n  return ([bth[buf[i++]], bth[buf[i++]], \n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]], '-',\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]],\n\tbth[buf[i++]], bth[buf[i++]]]).join('');\n}\n\nmodule.exports = bytesToUuid;\n","// import Formio from 'formiojs/Formio';\n// import offlinePlugin from 'offlinePlugin/offlinePlugin';\nimport Submission from \"models/Submission\";\nimport Event from \"Wrappers/Event\";\n// import Promise from 'bluebird';\nlet Import = class {\n  /**\n   *\n   * @param {*} file\n   * @param {*} vm\n   */\n  static fromJsonFile(file, vm) {\n    var reader = new FileReader();\n    // Closure to capture the file information.\n\n    reader.onload = (function(theFile) {\n      return function(e) {\n        let json;\n\n        try {\n          json = JSON.parse(e.target.result);\n        } catch (ex) {\n          throw new Error(\"The Json file could not be parsed\");\n        }\n        Import.parseJson(json, vm);\n      };\n    })(file);\n    reader.readAsText(file);\n  }\n  /**\n   *\n   * @param {*} json\n   * @param {*} vm\n   */\n  static async parseJson(json, vm) {\n    // let totalSubmissions = json.length;\n    let formio = Import.getFormIOInstance(vm);\n\n    // Loading.show({ message: 'Importing ' + totalSubmissions + ' submissions' });\n    // json = json.slice(151, 200);\n\n    Promise.each(json, async function(row, index) {\n      // await Uploader.sendDataToFormIO(row)\n      let submission = Import.prepareSubmission(row);\n\n      await Import.saveSubmission(submission, formio, vm);\n    })\n      .then(() => {\n        Event.emit({\n          name: \"FAST:DATA:IMPORTED\",\n          data: { imported: true },\n          text: \"Data was imported\"\n        });\n      })\n      .catch(error => {\n        // Loading.hide(error);\n        console.log(error);\n        vm.$swal(\n          vm.$t(\"Import Error!\"),\n          vm.$t(\n            \"Your submission could not be Imported. Please check the format of your Json file.\"\n          ),\n          \"error\"\n        );\n      });\n  }\n\n  static emitNotification(vm) {\n    vm.$eventHub.emit(\"FAST-DATA_IMPORTED\");\n  }\n  /**\n   *\n   * @param {*} row\n   */\n  static prepareSubmission(row) {\n    if (row.id || row._id) {\n      delete row.id;\n      delete row._id;\n    }\n    if (row.modified) {\n      delete row.modified;\n    }\n    if (row.owner) {\n      delete row.owner;\n    }\n    let data = row.data ? row.data : row;\n    let formSubmission = {\n      data: data,\n      redirect: false,\n      syncError: false,\n      draft: true,\n      trigger: \"importSubmission\"\n    };\n\n    return formSubmission;\n  }\n  /**\n   *\n   * @param {*} vm\n   */\n  /*\n  static getFormIOInstance (vm) {\n    Formio.deregisterPlugin('offline');\n    Formio.registerPlugin(offlinePlugin.getPlugin(vm.form.data.path, undefined, false), 'offline');\n    let APP_URL = vm.$FAST_CONFIG.APP_URL;\n    let formUrl = APP_URL + '/' + vm.form.data.path;\n    let formio = new Formio(formUrl);\n\n    return formio;\n  }\n*/\n  /**\n   *\n   * @param {*} vm\n   */\n  static async saveSubmission(submission, formio, vm) {\n    // let processedSubmission = PreProcess.JsonSubmission(submission);\n\n    await Submission(\"*\").add({ submission: submission, formio: formio });\n  }\n};\n\nexport default Import;\n","import GetRequest from './getRequest';\n\nconst OFFLINE_PLUGIN = class {\n  static get () {\n    let plugin = {\n      priority: 0,\n      preRequest: async (args) => {\n        if (args.method === 'GET') {\n          return GetRequest.handle(args);\n        }\n      },\n      request: async (args) => {\n        if (args.method === 'GET') {\n          return GetRequest.handle(args);\n        }\n      },\n      staticRequest: async (args) => {\n        if (args.method === 'GET') {\n          return GetRequest.handle(args);\n        }\n      }\n    };\n\n    return plugin;\n  }\n};\n\nexport default OFFLINE_PLUGIN;\n","import Form from 'models/Form';\n\nconst GetRequest = class {\n  /**\n   *\n   * @param {*} args\n   */\n  static async handle (args) {\n    // If we are making a request to a external API (NOT FORM.io)\n    if (args.url.indexOf('form.io') === -1) {\n      return GetRequest.handleExternalAPI(args);\n    }\n    // If we are trying to get a form we load it locally\n    // This action will get triggered when we load a create form\n    // of a resource from inside of another Form\n    if (args.type === 'form') {\n      return GetRequest.handleLocalForm(args);\n    }\n    // Calling to an internal Form.io route from Select component\n    if (args.type === 'select' && args.url.indexOf('form.io') !== -1) {\n      return GetRequest.handleInternalResource(args);\n    }\n  }\n  /**\n   *\n   */\n  static handleExternalAPI () {\n    // TODO\n    return null;\n  }\n  /**\n   *\n   * @param {*} args\n   */\n  static async handleLocalForm (args) {\n    return await Form.local()\n      .where('data.path', '=', args.formio.formId)\n      .first();\n  }\n  /**\n   *\n   * @param {*} args\n   */\n  static async handleInternalResource (args) {\n    return null;\n    let formID = args && args.url && args.url.split('/')[4];\n    let form = await Form.local().find();\n\n    form = form.filter((f) => {\n      return f.data._id === formID;\n    })[0];\n\n    if (!form) {\n      return;\n    }\n    /* let submissions = await Submission.local().find();\n\n    submissions = submissions.filter((s) => {\n      return s.data.formio.formId === form.data.path && s.data.owner === Auth().connector().user()._id;\n    });\n\n    submissions = submissions.map((s) => {\n      return { data: s.data.data };\n    });\n\n    // return submissions;\n    */\n  }\n};\n\nexport default GetRequest;\n","import md5 from 'md5';\nimport Configuration from '../../models/Configuration';\n\nlet Hash = class {\n  static async string (string) {\n    let config = await Configuration.local().first();\n    let hashed = '';\n\n    hashed = md5(string, config.MD5_KEY);\n    return hashed;\n  }\n};\n\nexport default Hash;\n","import Utilities from \"utilities\";\n\nlet Schedule = (() => {\n  let _every = 0;\n  let every = milliseconds => {\n    _every = milliseconds;\n    return this;\n  };\n  let set = async cb => {\n    if (_every === 0) {\n      throw new Error(\n        \"You must asign a timeframe. Cannot Schedule every 0 milliseconds. Did you call function every()?\"\n      );\n    }\n\n    let rInterval = function(callback, delay) {\n      let dateNow = Date.now,\n        requestAnimation =\n          typeof window !== \"undefined\" && window.requestAnimationFrame,\n        start = dateNow(),\n        stop,\n        intervalFunc = function() {\n          // eslint-disable-next-line no-use-before-define\n          dateNow() - start < delay || ((start += delay), callback());\n          // eslint-disable-next-line no-use-before-define\n          stop || requestAnimation(intervalFunc);\n        };\n\n      requestAnimation(intervalFunc);\n      return {\n        clear: function() {\n          stop = 1;\n        }\n      };\n    };\n\n    var _debouncedCallback = Utilities.debounce(cb, 2000);\n\n    rInterval(_debouncedCallback, milliseconds);\n  };\n\n  return Object.freeze({\n    set,\n    every\n  });\n})();\n\nexport default Schedule;\n"],"sourceRoot":""}