{"version":3,"sources":["webpack://@goatlab/fluent-formio/webpack/universalModuleDefinition","webpack://@goatlab/fluent-formio/webpack/bootstrap","webpack://@goatlab/fluent-formio/(webpack)/buildin/global.js","webpack://@goatlab/fluent-formio/external \"axios\"","webpack://@goatlab/fluent-formio/./node_modules/node-libs-browser/node_modules/process/browser.js","webpack://@goatlab/fluent-formio/./src/index.js","webpack://@goatlab/fluent-formio/./src/FluentConnector.js","webpack://@goatlab/fluent-formio/./node_modules/await-to-js/dist/await-to-js.es5.js","webpack://@goatlab/fluent-formio/./src/Utilities.js","webpack://@goatlab/fluent-formio/./../Fluent/lib/@goatlab/goat-fluent.js","webpack://@goatlab/fluent-formio/(webpack)/buildin/module.js","webpack://@goatlab/fluent-formio/./src/Wrapers/Connection.js","webpack://@goatlab/fluent-formio/./src/Wrapers/Event.js","webpack://@goatlab/fluent-formio/./node_modules/bluebird/js/browser/bluebird.js","webpack://@goatlab/fluent-formio/./node_modules/timers-browserify/main.js","webpack://@goatlab/fluent-formio/./node_modules/setimmediate/setImmediate.js"],"names":["FluentConnector","Interface","compose","methods","getToken","localStorage","getItem","baseUrl","connector","name","Error","replace","get","ownerId","andWhere","error","result","httpGET","console","log","jsApplySelect","data","jsApplyOrderBy","all","numberOfRows","url","getUrl","headers","getHeaders","filters","getFilters","limit","skip","getSkip","select","getSelect","spacer","getSpacer","Connection","isOnline","axios","response","split","paginate","paginator","offset","page","rowsPerPage","take","results","rowsNumber","insert","options","Array","isArray","ArrayInsert","httpPOST","update","_id","includes","httpPUT","clear","sure","promises","pluck","forEach","push","httpDelete","remove","removed","find","where","first","undefined","path","Utilities","remoteConnection","id","pullForm","token","type","getTokenType","substr","length","getLimit","post","put","delete","filter","whereArray","filterQuery","valueString","element","condition","operator","value","val","index","array","substring","limitNumber","offsetNumber","selectArray","map","e","join","cloneDeep","JSON","parse","stringify","object","fn","def","getFromPath","obj","_path","assignedName","trim","fullPath","Boolean","everyFunc","step","every","label","uniqBy","arr","predicate","cb","o","reduce","item","key","has","set","Map","values","orderBy","isEmpty","hasOwnProperty","call","debounce","time","timeout","functionCall","apply","arguments","clearTimeout","setTimeout","deleteNulls","k","splice","eachComponent","components","includeAll","parent","component","hasColumns","columns","hasRows","rows","hasComps","noRecurse","newPath","componentMap","tree","subPath","column","row","matchComponent","query","matches","Object","keys","findComponents","unixDate","Math","round","Date","freeze","webpackUniversalModuleDefinition","root","factory","exports","module","define","modules","installedModules","__webpack_require__","moduleId","i","l","m","c","d","getter","defineProperty","enumerable","r","Symbol","toStringTag","t","mode","__esModule","ns","create","bind","n","getDefault","getModuleExports","property","prototype","p","s","Shortcut","isStamp","isString","isObject","isFunction","merge","assign","concat","extractFunctions","fns","standardiseDescriptor","descr","properties","props","initializers","init","composers","deepProperties","deepProps","pd","propertyDescriptors","staticProperties","statics","staticDeepProperties","deepStatics","configuration","conf","deepConfiguration","deepConf","dp","sp","sdp","spd","staticPropertyDescriptors","dc","ii","cc","descriptor","stampit","args","arg","baseStampit","shortcuts","prop","isComposable","slice","createFactory","Stamp","__proto__","defineProperties","inits","initializer","returnedValue","instance","stamp","createStamp","composeFunction","composeImplementation","_compose","concatAssignFunctions","dstObject","srcArray","propName","dstArray","indexOf","combineProperties","srcObject","action","deepMergeAssign","mergeAssign","mergeComposable","dstDescriptor","srcComposable","srcDescriptor","composables","j","composer","g","Function","window","isPlainObject","mergeOne","dst","src","returnValue","srcValue","dstValue","newDst","global","_it","_it2","_interopRequireDefault","_privatize","_privatize2","default","config","remote","local","getModelName","getFluentConfig","FLUENT","_FLUENT_","getConnector","connectors","connectorName","getConnectorFromArray","_this","Lcon","_Lcon","base","_ref","_ref$token","_ref$pullForm","_ref$connectorName","remoteConnector","_ref2","_ref2$connectorName","localConnector","merged","mergeConnector","_extends","target","source","_utilities","_utilities2","_asyncToGenerator","gen","Promise","resolve","reject","info","done","then","err","_toConsumableArray","arr2","from","avg","average","sum","acc","extract","chunkApply","size","callback","regeneratorRuntime","mark","_callee","totalSize","count","reducer","promiseChain","wrap","_callee$","_context","prev","next","chunks","chain","batch","abrupt","stop","collapse","chunk","unChunk","combine","_value","contains","Fx","some","duplicatesBy","duplicates","submission","finalKey","string","functionToCheck","toString","Fluent","Model","_Fluent","_Fluent2","_Model","_Model2","_Interface","_Interface2","_Collection","_Collection2","registerGlobalVariable","model","_len","_key","registerModel","extend","_len2","_key2","_len3","_key3","collect","models","_ref$REMOTE_CONNECTOR","REMOTE_CONNECTORS","_ref$LOCAL_CONNECTORS","LOCAL_CONNECTORS","_ref$MERGE_CONNECTORS","MERGE_CONNECTORS","getConfig","getPrototypeOf","createShortcut","param","privates","WeakMap","makeProxyFunction","proxiedFn","fields","configurable","_","opts","privateMethodNames","Privatize","newObject","methodNames","stampSymbol","for","privatizeMethods","_typeof","iterator","constructor","chainReference","orWhereArray","orderByArray","populate","pullSize","rawQuery","operators","findOne","softDelete","updateOrCreate","findAndRemove","tableView","raw","owner","user","method","own","sent","_this2","_callee2","_callee2$","_context2","prepareInput","elem","pos","_this3","_data","newElement","attribute","_offset","_this4","_this5","orWhere","_this6","_len4","_key4","_limit","keyPath","_this7","_callee3","_callee3$","_context3","extracted","_len5","_key5","field","order","sort","a","b","A","B","input","cols","dataArray","_this8","_callee4","initial","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","_callee4$","_context4","showProgress","t0","t1","return","finish","online","navigator","onLine","setOnline","Event","emit","text","setOffline","initEventListeners","listen","catch","CustomEvent","event","params","evt","document","createEvent","bubbles","cancelable","detail","initCustomEvent","customEvent","dispatchEvent","addEventListener","removeEventListener"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;AClFA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;ACnBA,gD;;;;;;ACAA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AAC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,GAAG,IAAoD,oBAAoB,KAAK,UAA0L,CAAC,YAAY,0BAA0B,0BAA0B,gBAAgB,UAAU,UAAU,0CAA0C,wBAAwB,oBAAoB,8CAA8C,kCAAkC,YAAY,YAAY,mCAAmC,iBAAiB,gBAAgB,sBAAsB,oBAAoB,0CAA0C,YAAY,WAAW,YAAY,SAAS,GAAG;AACjwB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA,KAAK,kBAAkB,EAAE,YAAY;AACrC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,0BAA0B,WAAW;AACrC;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC,EAAE,yCAAyC;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA,SAAS,yCAAyC;AAClD;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,eAAe;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAI,KAAK,EAAE,kDAmDV;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,KAAK,EAAE,oBAQV;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,6BAA6B;AACpD;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,sCAAsC,sBAAsB;AAC5D;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,aAAa;AACb;AACA,+BAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC,EAAE,uBAAuB;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;AAC5C;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,KAC0B;AACnD,yBAAyB,KAAsC;;AAE/D;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,qBAAqB;AAChE,yDAAyD,oBAAoB;AAC7E;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,yDAAyD,qBAAqB;AAC9E,wDAAwD,oBAAoB;AAC5E;AACA;AACA,SAAS;AACT;AACA,oEAAoE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB,KAAK;AACL;AACA,gBAAgB;AAChB,KAAK;AACL;AACA,gBAAgB;AAChB,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA,6BAA6B,cAAc;;AAE3C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,qDAAqD,EAAE;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,QAAQ;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,+BAA+B,uBAAuB;;AAEtD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,uBAAuB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA;;AAEA,qCAAqC,QAAQ;AAC7C;AACA;AACA;AACA;AACA;;AAEA,yCAAyC,QAAQ;AACjD;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAmB,kBAAkB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,+BAA+B,cAAc;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,2BAA2B;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,gCAAgC,oBAAoB;AACpD;AACA;AACA;AACA;AACA,4BAA4B,QAAQ;AACpC;AACA;AACA;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAS,mBAAmB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,mBAAmB;AACpC,sBAAsB,mBAAmB;AACzC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,qCAAqC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,aAAa;AACtD;;AAEA;AACA;AACA;AACA,wCAAwC,eAAe;AACvD;;AAEA;AACA;AACA;AACA,4CAA4C,eAAe;AAC3D,KAAK;AACL;AACA,kCAAkC;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,6CAA6C,aAAa;AAC1D,KAAK;AACL;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;;AAEA,eAAe,oBAAoB;AACnC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA,uBAAuB,kBAAkB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,uBAAuB;AAC1B;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gBAAgB;AAChB,gBAAgB;AAChB,kBAAkB;;AAElB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,mBAAmB,aAAa;AAChC;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA,CAAC,EAAE,+BAA+B;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,0BAA0B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,0BAA0B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAI,KAAK,EAAE,0GAkGT;;AAEF;AACA;AACA;AACA;AACA;AACA,YAAY,KAAK,EAAE,+EA4CV;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC,EAAE,qCAAqC;AACxC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC,aAAa;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAmB,aAAa;AAChC;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,0BAA0B;AAC1B,yBAAyB;;AAEzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mC;AACA,6C;AACA,+B;AACA,sC;AACA,uC;AACA,qC;AACA,4B;AACA,6B;AACA,K;AACA;AACA;AACA,eAAe,KAAK,E;AACpB,eAAe,KAAK,E;AACpB,eAAe,KAAK,E;AACpB,iB;AACA,0BAA0B,E;AAC1B,yB;AACA,qB;AACA,qC;AACA,8D;AACA,mB;;AAEA;;AAEA,CAAC,EAAE,0gBAA0gB;AAC7gB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,SAAS;AAC5B;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA,aAAa;AACb;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,uBAAuB,mBAAmB;AAC1C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB,gBAAgB;AACnC;AACA;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,IAAI,KAAK,EAAE,wFAwHV;;AAED;AACA,mCAAmC,aAAa;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yCAAyC,SAAS;AAClD;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA,CAAC,EAAE,0CAA0C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,mBAAmB,YAAY;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,gDAAgD,SAAS;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,uBAAuB;AAC1B;AACA;AACA,mBAAmB,SAAS;AAC5B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,SAAS;AACnD;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;AAEA;AACA,cAAc,YAAY;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,qCAAqC;AACrE,gCAAgC,mCAAmC;AACnE,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mCAAmC,yBAAyB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC,EAAE,0BAA0B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA,gBAAgB;AAChB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,kCAAkC,uCAAuC;AACzE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,wCAAwC,gBAAgB,EAAE;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,CAAC,EAAE,YAAY;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,8BAA8B,SAAS;AACvC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,uBAAuB,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,+BAA+B;AACtD;AACA;;AAEA;AACA;AACA,+BAA+B,wBAAwB;AACvD;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;;AAEb;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,CAAC,EAAE,0BAA0B;AAC7B;AACA;AACA;;AAEA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;;AAEpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,iBAAiB;AACjB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,uBAAuB,+BAA+B;AACtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,+BAA+B,iBAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,wBAAwB;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,mCAAmC,+BAA+B;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,WAAW;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,wBAAwB;AACxB;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,aAAa;AACb;;AAEA;AACA;AACA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,kDAAkD;AAClD,kBAAkB;AAClB;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA,KAAK,kBAAkB,EAAE,YAAY;AACrC;;AAEA,CAAC,EAAE,WAAW,EAAE,GAAG;AACnB,CAAC,EAAE,qBAAqB,uDAAuD,yDAAyD,sDAAsD,yDAAyD,mDAAmD,0D;;;;;;;AC9gL1S;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,mBAAO,CAAC,EAAc;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9DA;AACA;;AAEA;AACA;AACA;;AAEA,uBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,iBAAiB;AACtC;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,0CAA0C,sBAAsB,EAAE;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,UAAU;AACV;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,CAAC","file":"@goatlab/fluent-formio.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"axios\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"@goatlab/fluent-formio\", [\"axios\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@goatlab/fluent-formio\"] = factory(require(\"axios\"));\n\telse\n\t\troot[\"@goatlab/fluent-formio\"] = factory(root[\"axios\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE__1__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import FluentConnector from \"./FluentConnector\";\r\n\r\nexport default FluentConnector;\r\n","import to from \"await-to-js\";\r\nimport Utilities from \"./Utilities\";\r\nimport axios from \"axios\";\r\nimport { Interface } from \"@goatlab/goat-fluent\";\r\nimport Connection from \"./Wrapers/Connection\";\r\n\r\nexport default Interface.compose({\r\n  methods: {\r\n    getToken() {\r\n      return localStorage.getItem(\"formioToken\");\r\n    },\r\n    baseUrl() {\r\n      const { baseUrl, name } = this.connector;\r\n\r\n      if (!baseUrl) {\r\n        throw new Error(\r\n          `You did not provide a baseUrl for the \"${name}\" connector`\r\n        );\r\n      }\r\n      return baseUrl.replace(/\\/+$/, \"\");\r\n    },\r\n    async get() {\r\n      if (this.ownerId) {\r\n        this.andWhere(\"owner\", \"=\", this.ownerId);\r\n      }\r\n      let error;\r\n      let result;\r\n\r\n      [error, result] = await to(this.httpGET());\r\n\r\n      if (error) {\r\n        console.log(error);\r\n        throw new Error(\"Error while getting submissions\");\r\n      }\r\n\r\n      result = this.jsApplySelect(result && result.data);\r\n      result = this.jsApplyOrderBy(result);\r\n\r\n      return result;\r\n    },\r\n    async all() {\r\n      return this.get();\r\n    },\r\n    async numberOfRows() {\r\n      let url = this.getUrl();\r\n      let headers = this.getHeaders();\r\n      let filters = this.getFilters();\r\n      let limit = \"?limit=1\";\r\n      let skip = this.getSkip();\r\n      let select = this.getSelect();\r\n      let spacer = \"\";\r\n\r\n      url = url + spacer + limit;\r\n      url = filters ? url + this.getSpacer(url) + filters : url;\r\n      url = skip ? url + this.getSpacer(url) + skip : url;\r\n      url = select ? url + this.getSpacer(url) + select : url;\r\n\r\n      const isOnline = await Connection.isOnline();\r\n\r\n      if (!isOnline) {\r\n        throw new Error(`Cannot make get request to ${url}.You are not online`);\r\n      }\r\n\r\n      const response = await axios.get(url, { headers });\r\n\r\n      return response.headers[\"content-range\"].split(\"/\")[1];\r\n    },\r\n    async paginate(paginator) {\r\n      const numberOfRows = await this.numberOfRows();\r\n\r\n      this.offset((paginator.page - 1) * paginator.rowsPerPage).take(\r\n        paginator.rowsPerPage\r\n      );\r\n\r\n      const results = {};\r\n      results.data = await this.get();\r\n      results.paginator = {\r\n        page: paginator.page,\r\n        rowsPerPage: paginator.rowsPerPage,\r\n        rowsNumber: numberOfRows\r\n      };\r\n\r\n      console.log(\"paginator\", results);\r\n\r\n      return results;\r\n    },\r\n    async insert(data, options) {\r\n      if (Array.isArray(data)) {\r\n        return this.ArrayInsert(data, options);\r\n      }\r\n\r\n      let [error, result] = await to(this.httpPOST(data));\r\n\r\n      if (error) {\r\n        // console.log(error);\r\n        throw new Error(\"Cannot insert data\");\r\n      }\r\n      return result.data;\r\n    },\r\n    async update(data) {\r\n      if (!data._id) {\r\n        throw new Error(\r\n          \"Formio connector error. Cannot update a Model without _id key\"\r\n        );\r\n      }\r\n      if (data._id.includes(\"_local\")) {\r\n        throw new Error(\r\n          \"Formio connector error. Cannot update a local document\"\r\n        );\r\n      }\r\n\r\n      let [error, result] = await to(this.httpPUT(data));\r\n\r\n      if (error) {\r\n        console.log(error);\r\n        throw new Error(\"Cannot insert data\");\r\n      }\r\n      return result.data;\r\n    },\r\n    async clear({ sure } = {}) {\r\n      if (!sure || sure !== true) {\r\n        throw new Error(\r\n          'Clear() method will delete everything!, you must set the \"sure\" parameter \"clear({sure:true})\" to continue'\r\n        );\r\n      }\r\n      let promises = [];\r\n\r\n      let [error, data] = await to(this.select(\"_id\").pluck(\"_id\"));\r\n\r\n      if (error) {\r\n        console.log(error);\r\n        throw new Error(\"Cannot get remote Model\");\r\n      }\r\n\r\n      data.forEach(_id => {\r\n        promises.push(this.httpDelete(_id));\r\n      });\r\n\r\n      return axios.all(promises);\r\n    },\r\n    async remove(_id) {\r\n      let [error, removed] = await to(this.httpDelete(_id));\r\n\r\n      if (error) {\r\n        console.log(error);\r\n        throw new Error(`FormioConnector: Could not delete ${_id}`);\r\n      }\r\n\r\n      return removed;\r\n    },\r\n    async find(_id) {\r\n      if (typeof _id !== \"string\") {\r\n        throw new Error(\r\n          'Formio connector find() method only accepts strings \"' +\r\n            typeof _id +\r\n            '\" given \"' +\r\n            _id +\r\n            '\"'\r\n        );\r\n      }\r\n      let [error, data] = await to(this.where(\"_id\", \"=\", _id).first());\r\n\r\n      if (error) {\r\n        console.log(error);\r\n        throw new Error(\"Find() could not get remote data\");\r\n      }\r\n\r\n      return data;\r\n    },\r\n    getUrl() {\r\n      const baseUrl = this && this.baseUrl() ? this.baseUrl() : undefined;\r\n      let path = Utilities.get(() => this.remoteConnection.path, undefined);\r\n      const id = Utilities.get(() => this.remoteConnection.id, undefined);\r\n      const pullForm = Utilities.get(\r\n        () => this.remoteConnection.pullForm,\r\n        undefined\r\n      );\r\n\r\n      if (!pullForm && path) {\r\n        path = !id ? `${path}/submission` : `${path}/submission/${id}`;\r\n      }\r\n\r\n      if (!baseUrl) {\r\n        throw new Error(\"Cannot get remote model. baseUrl not defined\");\r\n      }\r\n\r\n      if (path) {\r\n        return `${baseUrl}/${path}`;\r\n      }\r\n      return baseUrl;\r\n    },\r\n    getHeaders() {\r\n      let headers = {};\r\n      let token = {};\r\n      if (typeof localStorage !== \"undefined\") {\r\n        token = localStorage.getItem(\"formioToken\");\r\n      }\r\n\r\n      if (this.remoteConnection.token || this.remoteConnection.token === \"\") {\r\n        token = this.remoteConnection.token;\r\n      }\r\n\r\n      if (!token) {\r\n        return headers;\r\n      }\r\n\r\n      let type = this.getTokenType(token);\r\n      headers[type] = token;\r\n      return headers;\r\n    },\r\n    getSpacer(url) {\r\n      return url.substr(url.length - 1) === \"&\" ? \"\" : \"&\";\r\n    },\r\n    async httpGET() {\r\n      let url = this.getUrl();\r\n      let headers = this.getHeaders();\r\n      let filters = this.getFilters();\r\n      let limit = this.getLimit();\r\n      let skip = this.getSkip();\r\n      let select = this.getSelect();\r\n      let spacer = \"\";\r\n\r\n      // Always limit the amount of requests\r\n      url = url + spacer + limit;\r\n\r\n      url = filters ? url + this.getSpacer(url) + filters : url;\r\n\r\n      url = skip ? url + this.getSpacer(url) + skip : url;\r\n\r\n      url = select ? url + this.getSpacer(url) + select : url;\r\n\r\n      const isOnline = await Connection.isOnline();\r\n\r\n      if (!isOnline) {\r\n        throw new Error(`Cannot make get request to ${url}.You are not online`);\r\n      }\r\n\r\n      return axios.get(url, { headers });\r\n    },\r\n    async httpPOST(data) {\r\n      let url = this.getUrl();\r\n      let headers = this.getHeaders();\r\n      const isOnline = await Connection.isOnline();\r\n\r\n      if (!isOnline) {\r\n        throw new Error(\r\n          `Cannot make request post to ${url}.You are not online`\r\n        );\r\n      }\r\n      return axios.post(url, data, { headers });\r\n    },\r\n    async httpPUT(data) {\r\n      const isOnline = await Connection.isOnline();\r\n      let url = `${this.getUrl()}/${data._id}`;\r\n      let headers = this.getHeaders();\r\n\r\n      if (!isOnline) {\r\n        throw new Error(\r\n          `Cannot make request post to ${url}.You are not online`\r\n        );\r\n      }\r\n      return axios.put(url, data, { headers });\r\n    },\r\n    httpDelete(_id) {\r\n      let headers = this.getHeaders();\r\n      let url = `${this.getUrl()}/${_id}`;\r\n\r\n      return axios.delete(url, { headers });\r\n    },\r\n    getTokenType(token) {\r\n      if (token.length > 32) {\r\n        return \"x-jwt-token\";\r\n      }\r\n      return \"x-token\";\r\n    },\r\n    getFilters() {\r\n      let filter = this.whereArray;\r\n\r\n      if (!filter || filter.length === 0) {\r\n        return undefined;\r\n      }\r\n\r\n      let filterQuery = \"\";\r\n\r\n      filter.forEach(condition => {\r\n        let valueString = \"\";\r\n        let element = condition[0];\r\n        let operator = condition[1];\r\n        let value = condition[2];\r\n\r\n        switch (operator) {\r\n          case \"=\":\r\n            filterQuery = filterQuery + element + \"=\" + value + \"&\";\r\n            break;\r\n          case \"!=\":\r\n            filterQuery = filterQuery + element + \"__ne=\" + value + \"&\";\r\n            break;\r\n          case \">\":\r\n            filterQuery = filterQuery + element + \"__gt=\" + value + \"&\";\r\n            break;\r\n          case \">=\":\r\n            filterQuery = filterQuery + element + \"__gte=\" + value + \"&\";\r\n            break;\r\n          case \"<\":\r\n            filterQuery = filterQuery + element + \"__lt=\" + value + \"&\";\r\n            break;\r\n          case \"<=\":\r\n            filterQuery = filterQuery + element + \"__lte=\" + value + \"&\";\r\n            break;\r\n          case \"in\":\r\n            valueString = \"\";\r\n            value.forEach((val, index, array) => {\r\n              valueString =\r\n                index === array.length - 1\r\n                  ? valueString + val\r\n                  : valueString + val + \",\";\r\n            });\r\n            filterQuery = filterQuery + element + \"__in=\" + valueString + \"&\";\r\n            break;\r\n          case \"nin\":\r\n            valueString = \"\";\r\n            value.forEach((val, index, array) => {\r\n              valueString =\r\n                index === array.length - 1\r\n                  ? valueString + val\r\n                  : valueString + val + \",\";\r\n            });\r\n            filterQuery = filterQuery + element + \"__nin=\" + valueString + \"&\";\r\n            break;\r\n          case \"exists\":\r\n            filterQuery = filterQuery + element + \"__exists=\" + true + \"&\";\r\n            break;\r\n          case \"!exists\":\r\n            filterQuery = filterQuery + element + \"__exists=\" + false + \"&\";\r\n            break;\r\n          case \"regex\":\r\n            filterQuery = filterQuery + element + \"__regex=\" + value + \"&\";\r\n            break;\r\n        }\r\n      });\r\n      return filterQuery.substring(0, filterQuery.length - 1);\r\n    },\r\n    getLimit() {\r\n      let limit = \"?limit=\";\r\n\r\n      if (!this.limitNumber || this.limitNumber === 0) {\r\n        this.limitNumber = 50;\r\n      }\r\n\r\n      return `${limit}${this.limitNumber}`;\r\n    },\r\n    getSkip() {\r\n      let skip = \"skip=\";\r\n\r\n      if (!this.offsetNumber) {\r\n        this.offsetNumber = 0;\r\n      }\r\n\r\n      return skip + this.offsetNumber;\r\n    },\r\n    getSelect() {\r\n      let select = this.selectArray;\r\n\r\n      select = select.map(e => {\r\n        return e.split(\" as \")[0];\r\n      });\r\n\r\n      if (!select) {\r\n        return;\r\n      }\r\n\r\n      return \"select=\" + select.join(\",\");\r\n    }\r\n  }\r\n});\r\n","/**\n * @param { Promise } promise\n * @param { Object= } errorExt - Additional Information you can pass to the err object\n * @return { Promise }\n */\nfunction to(promise, errorExt) {\n    return promise\n        .then(function (data) { return [null, data]; })\n        .catch(function (err) {\n        if (errorExt) {\n            Object.assign(err, errorExt);\n        }\n        return [err, undefined];\n    });\n}\n\nexport { to };\nexport default to;\n//# sourceMappingURL=await-to-js.es5.js.map\n","/* eslint-disable no-unused-vars */\r\nlet Utilities = (() => {\r\n  /**\r\n   * Deep clones a JS object using JSON.parse\r\n   * This function will not clone object\r\n   * functions\r\n   * @param {Object} object\r\n   */\r\n  const cloneDeep = object => {\r\n    return JSON.parse(JSON.stringify(object));\r\n  };\r\n  /**\r\n   * Given an Object and its path, if exisits it will\r\n   * return the value of it, if not the default\r\n   * @param {Object} obj\r\n   * @param {String} path\r\n   * @param {*} def\r\n   */\r\n  const get = (fn, def) => {\r\n    try {\r\n      return fn();\r\n    } catch (e) {\r\n      return def;\r\n    }\r\n  };\r\n  /**\r\n   *\r\n   * @param {*} obj\r\n   * @param {*} path\r\n   * @param {*} def\r\n   */\r\n  const getFromPath = (obj, path, def) => {\r\n    let _path = path;\r\n\r\n    if (path.includes(' as ')) {\r\n      path = path.split(' as ');\r\n      _path = path[0];\r\n    }\r\n\r\n    let assignedName = get(() => {\r\n      return Array.isArray(path) && path[1].trim();\r\n    }, undefined);\r\n\r\n    let fullPath = _path\r\n      .replace(/\\[/g, '.')\r\n      .replace(/]/g, '')\r\n      .split('.')\r\n      .filter(Boolean)\r\n      .map(e => e.trim());\r\n\r\n    function everyFunc(step) {\r\n      return !(step && (obj = obj[step]) === undefined);\r\n    }\r\n\r\n    let result = fullPath.every(everyFunc) ? obj : def;\r\n\r\n    return { label: assignedName || _path, value: result };\r\n  };\r\n  /**\r\n   *\r\n   * @param {*} arr\r\n   * @param {*} predicate\r\n   */\r\n  const uniqBy = (arr, predicate) => {\r\n    const cb = typeof predicate === 'function' ? predicate : o => o[predicate];\r\n\r\n    return [\r\n      ...arr\r\n        .reduce((map, item) => {\r\n          const key = cb(item);\r\n\r\n          map.has(key) || map.set(key, item);\r\n\r\n          return map;\r\n        }, new Map())\r\n        .values()\r\n    ];\r\n  };\r\n  /**\r\n   *\r\n   */\r\n  const orderBy = () => { };\r\n  /**\r\n   *\r\n   * @param {*} value\r\n   */\r\n  const isEmpty = value => {\r\n    if (!value) {\r\n      return true;\r\n    }\r\n    if (Array.isArray(value) || typeof value === 'string') {\r\n      return !value.length;\r\n    }\r\n    for (let key in value) {\r\n      if (hasOwnProperty.call(value, key)) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  };\r\n  /**\r\n   *\r\n   * @param {*} fn\r\n   * @param {*} time\r\n   */\r\n  const debounce = (fn, time) => {\r\n    let timeout;\r\n\r\n    return function () {\r\n      const functionCall = () => fn.apply(this, arguments);\r\n\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(functionCall, time);\r\n    };\r\n  };\r\n  /**\r\n   * Recursively removes all NULL values\r\n   * from an Object or an Array\r\n   *\r\n   * @static\r\n   * @param {Array|Object} object Array, Object to clean\r\n   * @returns {Array|Object} returns the cleaned value\r\n   */\r\n  const deleteNulls = object => {\r\n    let obj = object;\r\n    var isArray = obj instanceof Array;\r\n\r\n    for (let k in obj) {\r\n      if (obj[k] === null) isArray ? obj.splice(k, 1) : delete obj[k];\r\n      else if (typeof obj[k] === 'object') deleteNulls(obj[k]);\r\n    }\r\n    return obj;\r\n  };\r\n\r\n  const eachComponent = (components, fn, includeAll, path, parent) => {\r\n    if (!components) return;\r\n    path = path || '';\r\n    components.forEach(component => {\r\n      if (!component) {\r\n        return;\r\n      }\r\n      const hasColumns = component.columns && Array.isArray(component.columns);\r\n      const hasRows = component.rows && Array.isArray(component.rows);\r\n      const hasComps =\r\n        component.components && Array.isArray(component.components);\r\n      let noRecurse = false;\r\n      const newPath = component.key ?\r\n        path ?\r\n          `${path}.${component.key}` :\r\n          component.key :\r\n        '';\r\n\r\n      // Keep track of parent references.\r\n      if (parent) {\r\n        // Ensure we don't create infinite JSON structures.\r\n        component.parent = { ...parent };\r\n        delete component.parent.components;\r\n        delete component.parent.componentMap;\r\n        delete component.parent.columns;\r\n        delete component.parent.rows;\r\n      }\r\n\r\n      if (\r\n        includeAll ||\r\n        component.tree ||\r\n        (!hasColumns && !hasRows && !hasComps)\r\n      ) {\r\n        noRecurse = fn(component, newPath);\r\n      }\r\n\r\n      const subPath = () => {\r\n        if (\r\n          component.key &&\r\n          ![\r\n            'panel',\r\n            'table',\r\n            'well',\r\n            'columns',\r\n            'fieldset',\r\n            'tabs',\r\n            'form'\r\n          ].includes(component.type) &&\r\n          (['datagrid', 'container', 'editgrid'].includes(component.type) ||\r\n            component.tree)\r\n        ) {\r\n          return newPath;\r\n        } else if (component.key && component.type === 'form') {\r\n          return `${newPath}.data`;\r\n        }\r\n        return path;\r\n      };\r\n\r\n      if (!noRecurse) {\r\n        if (hasColumns) {\r\n          component.columns.forEach(column =>\r\n            eachComponent(\r\n              column.components,\r\n              fn,\r\n              includeAll,\r\n              subPath(),\r\n              parent ? component : null\r\n            )\r\n          );\r\n        } else if (hasRows) {\r\n          component.rows.forEach(row => {\r\n            if (Array.isArray(row)) {\r\n              row.forEach(column =>\r\n                eachComponent(\r\n                  column.components,\r\n                  fn,\r\n                  includeAll,\r\n                  subPath(),\r\n                  parent ? component : null\r\n                )\r\n              );\r\n            }\r\n          });\r\n        } else if (hasComps) {\r\n          eachComponent(\r\n            component.components,\r\n            fn,\r\n            includeAll,\r\n            subPath(),\r\n            parent ? component : null\r\n          );\r\n        }\r\n      }\r\n    });\r\n  };\r\n\r\n  const matchComponent = (component, query) => {\r\n    if (typeof query === 'string') {\r\n      return component.key === query;\r\n    }\r\n    let matches = false;\r\n\r\n    Object.keys(query).forEach(path => {\r\n      matches = getFromPath(component, path).value === query[path];\r\n      if (!matches) {\r\n        return false;\r\n      }\r\n    });\r\n    return matches;\r\n  };\r\n\r\n  const findComponents = (components, query) => {\r\n    const results = [];\r\n\r\n    eachComponent(\r\n      components,\r\n      (component, path) => {\r\n        if (matchComponent(component, query)) {\r\n          component.path = path;\r\n          results.push(component);\r\n        }\r\n      },\r\n      true\r\n    );\r\n    return results;\r\n  };\r\n\r\n  const unixDate = () => {\r\n    return Math.round(+new Date() / 1000);\r\n  };\r\n\r\n  return Object.freeze({\r\n    cloneDeep,\r\n    get,\r\n    orderBy,\r\n    isEmpty,\r\n    debounce,\r\n    getFromPath,\r\n    deleteNulls,\r\n    eachComponent,\r\n    findComponents,\r\n    unixDate\r\n  });\r\n})();\r\n\r\nexport default Utilities;\r\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"@goatlab/goat-fluent\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"@goatlab/goat-fluent\"] = factory();\n\telse\n\t\troot[\"@goatlab/goat-fluent\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 12);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar compose = __webpack_require__(2);\nvar Shortcut = __webpack_require__(16);\nvar isStamp = __webpack_require__(6);\nvar isString = __webpack_require__(17);\nvar isObject = __webpack_require__(1);\nvar isFunction = __webpack_require__(3);\nvar merge = __webpack_require__(8);\nvar assign = __webpack_require__(7);\n\nvar concat = Array.prototype.concat;\nfunction extractFunctions() {\n  var fns = concat.apply([], arguments).filter(isFunction);\n  return fns.length === 0 ? undefined : fns;\n}\n\nfunction standardiseDescriptor(descr) {\n  if (!isObject(descr)) return descr;\n\n  var methods = descr.methods;\n  var properties = descr.properties;\n  var props = descr.props;\n  var initializers = descr.initializers;\n  var init = descr.init;\n  var composers = descr.composers;\n  var deepProperties = descr.deepProperties;\n  var deepProps = descr.deepProps;\n  var pd = descr.propertyDescriptors;\n  var staticProperties = descr.staticProperties;\n  var statics = descr.statics;\n  var staticDeepProperties = descr.staticDeepProperties;\n  var deepStatics = descr.deepStatics;\n  var configuration = descr.configuration;\n  var conf = descr.conf;\n  var deepConfiguration = descr.deepConfiguration;\n  var deepConf = descr.deepConf;\n\n  var p = isObject(props) || isObject(properties) ?\n    assign({}, props, properties) : undefined;\n\n  var dp = isObject(deepProps) ? merge({}, deepProps) : undefined;\n  dp = isObject(deepProperties) ? merge(dp, deepProperties) : dp;\n\n  var sp = isObject(statics) || isObject(staticProperties) ?\n    assign({}, statics, staticProperties) : undefined;\n\n  var sdp = isObject(deepStatics) ? merge({}, deepStatics) : undefined;\n  sdp = isObject(staticDeepProperties) ? merge(sdp, staticDeepProperties) : sdp;\n\n  var spd = descr.staticPropertyDescriptors;\n  if (isString(descr.name)) spd = assign({}, spd || {}, { name: { value: descr.name } });\n\n  var c = isObject(conf) || isObject(configuration) ?\n    assign({}, conf, configuration) : undefined;\n\n  var dc = isObject(deepConf) ? merge({}, deepConf) : undefined;\n  dc = isObject(deepConfiguration) ? merge(dc, deepConfiguration) : dc;\n\n  var ii = extractFunctions(init, initializers);\n\n  var cc = extractFunctions(composers);\n\n  var descriptor = {};\n  if (methods) descriptor.methods = methods;\n  if (p) descriptor.properties = p;\n  if (ii) descriptor.initializers = ii;\n  if (cc) descriptor.composers = cc;\n  if (dp) descriptor.deepProperties = dp;\n  if (sp) descriptor.staticProperties = sp;\n  if (sdp) descriptor.staticDeepProperties = sdp;\n  if (pd) descriptor.propertyDescriptors = pd;\n  if (spd) descriptor.staticPropertyDescriptors = spd;\n  if (c) descriptor.configuration = c;\n  if (dc) descriptor.deepConfiguration = dc;\n\n  return descriptor;\n}\n\nfunction stampit() {\n  'use strict'; // to make sure `this` is not pointing to `global` or `window`\n  var length = arguments.length, args = [];\n  for (var i = 0; i < length; i += 1) {\n    var arg = arguments[i];\n    args.push(isStamp(arg) ? arg : standardiseDescriptor(arg));\n  }\n\n  return compose.apply(this || baseStampit, args); // jshint ignore:line\n}\n\nvar baseStampit = Shortcut.compose({\n  staticProperties: {\n    create: function () { return this.apply(this, arguments); },\n    compose: stampit // infecting\n  }\n});\n\nvar shortcuts = Shortcut.compose.staticProperties;\nfor (var prop in shortcuts) stampit[prop] = shortcuts[prop].bind(baseStampit);\nstampit.compose = stampit.bind();\n\nmodule.exports = stampit;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = function isObject(arg) {\n  var type = typeof arg;\n  return Boolean(arg) && (type === 'object' || type === 'function');\n};\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isArray = __webpack_require__(5);\nvar isFunction = __webpack_require__(3);\nvar isObject = __webpack_require__(1);\nvar isStamp = __webpack_require__(6);\nvar isComposable = __webpack_require__(14);\n\nvar assign = __webpack_require__(7);\nvar merge = __webpack_require__(8);\n\nvar slice = Array.prototype.slice;\n\n/**\n * Creates new factory instance.\n * @returns {Function} The new factory function.\n */\nfunction createFactory() {\n  return function Stamp(options) {\n    var descriptor = Stamp.compose || {};\n    // Next line was optimized for most JS VMs. Please, be careful here!\n    var obj = {__proto__: descriptor.methods}; // jshint ignore:line\n\n    merge(obj, descriptor.deepProperties);\n    assign(obj, descriptor.properties);\n    Object.defineProperties(obj, descriptor.propertyDescriptors || {});\n\n    if (!descriptor.initializers || descriptor.initializers.length === 0) return obj;\n\n    if (options === undefined) options = {};\n    var inits = descriptor.initializers;\n    var length = inits.length;\n    for (var i = 0; i < length; i += 1) {\n      var initializer = inits[i];\n      if (isFunction(initializer)) {\n        var returnedValue = initializer.call(obj, options,\n          {instance: obj, stamp: Stamp, args: slice.apply(arguments)});\n        obj = returnedValue === undefined ? obj : returnedValue;\n      }\n    }\n\n    return obj;\n  };\n}\n\n/**\n * Returns a new stamp given a descriptor and a compose function implementation.\n * @param {Descriptor} [descriptor={}] The information about the object the stamp will be creating.\n * @param {Compose} composeFunction The \"compose\" function implementation.\n * @returns {Stamp}\n */\nfunction createStamp(descriptor, composeFunction) {\n  var Stamp = createFactory();\n\n  if (descriptor.staticDeepProperties) {\n    merge(Stamp, descriptor.staticDeepProperties);\n  }\n  if (descriptor.staticProperties) {\n    assign(Stamp, descriptor.staticProperties);\n  }\n  if (descriptor.staticPropertyDescriptors) {\n    Object.defineProperties(Stamp, descriptor.staticPropertyDescriptors);\n  }\n\n  var composeImplementation = isFunction(Stamp.compose) ? Stamp.compose : composeFunction;\n  Stamp.compose = function _compose() {\n    'use strict'; // to make sure `this` is not pointing to `global` or `window`\n    return composeImplementation.apply(this, arguments);\n  };\n  assign(Stamp.compose, descriptor);\n\n  return Stamp;\n}\n\nfunction concatAssignFunctions(dstObject, srcArray, propName) {\n  if (!isArray(srcArray)) return;\n\n  var length = srcArray.length;\n  var dstArray = dstObject[propName] || [];\n  dstObject[propName] = dstArray;\n  for (var i = 0; i < length; i += 1) {\n    var fn = srcArray[i];\n    if (isFunction(fn) && dstArray.indexOf(fn) < 0) {\n      dstArray.push(fn);\n    }\n  }\n}\n\n\nfunction combineProperties(dstObject, srcObject, propName, action) {\n  if (!isObject(srcObject[propName])) return;\n  if (!isObject(dstObject[propName])) dstObject[propName] = {};\n  action(dstObject[propName], srcObject[propName]);\n}\n\nfunction deepMergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, merge);\n}\nfunction mergeAssign(dstObject, srcObject, propName) {\n  combineProperties(dstObject, srcObject, propName, assign);\n}\n\n/**\n * Mutates the dstDescriptor by merging the srcComposable data into it.\n * @param {Descriptor} dstDescriptor The descriptor object to merge into.\n * @param {Composable} [srcComposable] The composable\n * (either descriptor or stamp) to merge data form.\n */\nfunction mergeComposable(dstDescriptor, srcComposable) {\n  var srcDescriptor = (srcComposable && srcComposable.compose) || srcComposable;\n\n  mergeAssign(dstDescriptor, srcDescriptor, 'methods');\n  mergeAssign(dstDescriptor, srcDescriptor, 'properties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'propertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticProperties');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'staticDeepProperties');\n  mergeAssign(dstDescriptor, srcDescriptor, 'staticPropertyDescriptors');\n  mergeAssign(dstDescriptor, srcDescriptor, 'configuration');\n  deepMergeAssign(dstDescriptor, srcDescriptor, 'deepConfiguration');\n  concatAssignFunctions(dstDescriptor, srcDescriptor.initializers, 'initializers');\n  concatAssignFunctions(dstDescriptor, srcDescriptor.composers, 'composers');\n}\n\n/**\n * Given the list of composables (stamp descriptors and stamps) returns\n * a new stamp (composable factory function).\n * @typedef {Function} Compose\n * @param {...(Composable)} [arguments] The list of composables.\n * @returns {Stamp} A new stamp (aka composable factory function)\n */\nmodule.exports = function compose() {\n  'use strict'; // to make sure `this` is not pointing to `global` or `window`\n  var descriptor = {};\n  var composables = [];\n  if (isComposable(this)) {\n    mergeComposable(descriptor, this);\n    composables.push(this);\n  }\n\n  for (var i = 0; i < arguments.length; i++) {\n    var arg = arguments[i];\n    if (isComposable(arg)) {\n      mergeComposable(descriptor, arg);\n      composables.push(arg);\n    }\n  }\n\n  var stamp = createStamp(descriptor, compose);\n\n  var composers = descriptor.composers;\n  if (isArray(composers) && composers.length > 0) {\n    for (var j = 0; j < composers.length; j += 1) {\n      var composer = composers[j];\n      var returnedValue = composer({stamp: stamp, composables: composables});\n      stamp = isStamp(returnedValue) ? returnedValue : stamp;\n    }\n  }\n\n  return stamp;\n};\n\n\n/**\n * The Stamp Descriptor\n * @typedef {Function|Object} Descriptor\n * @returns {Stamp} A new stamp based on this Stamp\n * @property {Object} [methods] Methods or other data used as object instances' prototype\n * @property {Array<Function>} [initializers] List of initializers called for each object instance\n * @property {Array<Function>} [composers] List of callbacks called each time a composition happens\n * @property {Object} [properties] Shallow assigned properties of object instances\n * @property {Object} [deepProperties] Deeply merged properties of object instances\n * @property {Object} [staticProperties] Shallow assigned properties of Stamps\n * @property {Object} [staticDeepProperties] Deeply merged properties of Stamps\n * @property {Object} [configuration] Shallow assigned properties of Stamp arbitrary metadata\n * @property {Object} [deepConfiguration] Deeply merged properties of Stamp arbitrary metadata\n * @property {Object} [propertyDescriptors] ES5 Property Descriptors applied to object instances\n * @property {Object} [staticPropertyDescriptors] ES5 Property Descriptors applied to Stamps\n */\n\n/**\n * The Stamp factory function\n * @typedef {Function} Stamp\n * @returns {*} Instantiated object\n * @property {Descriptor} compose - The Stamp descriptor and composition function\n */\n\n/**\n * A composable object - stamp or descriptor\n * @typedef {Stamp|Descriptor} Composable\n */\n\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = function isFunction(arg) {\n  return typeof arg === 'function';\n};\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nmodule.exports = Array.isArray;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isFunction = __webpack_require__(3);\n\nmodule.exports = function isStamp(arg) {\n  return isFunction(arg) && isFunction(arg.compose);\n};\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nmodule.exports = Object.assign;\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar isPlainObject = __webpack_require__(15);\nvar isObject = __webpack_require__(1);\nvar isArray = __webpack_require__(5);\n\n/**\n * The 'src' argument plays the command role.\n * The returned values is always of the same type as the 'src'.\n * @param dst The object to merge into\n * @param src The object to merge from\n * @returns {*}\n */\nfunction mergeOne(dst, src) {\n  if (src === undefined) return dst;\n\n  // According to specification arrays must be concatenated.\n  // Also, the '.concat' creates a new array instance. Overrides the 'dst'.\n  if (isArray(src)) return (isArray(dst) ? dst : []).concat(src);\n\n  // Now deal with non plain 'src' object. 'src' overrides 'dst'\n  // Note that functions are also assigned! We do not deep merge functions.\n  if (!isPlainObject(src)) return src;\n\n  // See if 'dst' is allowed to be mutated.\n  // If not - it's overridden with a new plain object.\n  var returnValue = isObject(dst) ? dst : {};\n\n  var keys = Object.keys(src);\n  for (var i = 0; i < keys.length; i += 1) {\n    var key = keys[i];\n\n    var srcValue = src[key];\n    // Do not merge properties with the 'undefined' value.\n    if (srcValue !== undefined) {\n      var dstValue = returnValue[key];\n      // Recursive calls to mergeOne() must allow only plain objects or arrays in dst\n      var newDst = isPlainObject(dstValue) || isArray(srcValue) ? dstValue : {};\n\n      // deep merge each property. Recursion!\n      returnValue[key] = mergeOne(newDst, srcValue);\n    }\n  }\n\n  return returnValue;\n}\n\nmodule.exports = function (dst) {\n  for (var i = 1; i < arguments.length; i++) {\n    dst = mergeOne(dst, arguments[i]);\n  }\n  return dst;\n};\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _it = __webpack_require__(0);\n\nvar _it2 = _interopRequireDefault(_it);\n\nvar _privatize = __webpack_require__(18);\n\nvar _privatize2 = _interopRequireDefault(_privatize);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = (0, _it2.default)({\n  properties: {\n    name: 'baseModel',\n    config: {\n      remote: {\n        path: undefined,\n        token: undefined,\n        pullForm: false\n      },\n      local: {\n        connector: 'loki'\n      },\n      merge: {\n        connector: 'formio-loki'\n      }\n    }\n  },\n  methods: {\n    /**\r\n     * \r\n     */\n    getModelName: function getModelName() {\n      return this.name;\n    },\n\n    /**\r\n     * \r\n     */\n    getFluentConfig: function getFluentConfig() {\n      var FLUENT = void 0;\n      if (typeof window !== 'undefined' && window && window._FLUENT_) {\n        FLUENT = window._FLUENT_;\n      } else if (global && global._FLUENT_) {\n        FLUENT = global._FLUENT_;\n      }\n\n      return FLUENT;\n    },\n\n    /**\r\n     * \r\n     * @param {*} connectors \r\n     * @param {*} type \r\n     */\n    getConnector: function getConnector(connectors, type) {\n      var connectorName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (Array.isArray(connectors)) {\n        return this.getConnectorFromArray(connectors, type, connectorName);\n      }\n\n      if (connectors instanceof Object) {\n        return connectors;\n      }\n\n      return undefined;\n    },\n\n    /**\r\n     * \r\n     * @param {*} connectors \r\n     * @param {*} type \r\n     */\n    getConnectorFromArray: function getConnectorFromArray(connectors, type) {\n      var _this = this;\n\n      var connectorName = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      // Default case\n      if (connectors.length === 1) return connectors[0];\n\n      // If the model assigns specific one\n      if (this.config && this.config[type] && this.config[type].connector) {\n        var Lcon = connectors.find(function (c) {\n          return c.name === _this.config[type].connector;\n        });\n\n        if (Lcon instanceof Object) return Lcon;\n      }\n\n      // If connectorName is specified\n      if (connectorName) {\n        var _Lcon = connectors.find(function (c) {\n          return c.name === connectorName;\n        });\n\n        if (_Lcon instanceof Object) return _Lcon;\n      }\n\n      var base = connectors.find(function (c) {\n        return c.default;\n      });\n\n      if (base instanceof Object) return base;\n\n      return undefined;\n    },\n\n    /**\r\n     * [remote description]\r\n     * @return {[type]} [description]\r\n     */\n    remote: function remote() {\n      var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref$token = _ref.token,\n          token = _ref$token === undefined ? undefined : _ref$token,\n          _ref$pullForm = _ref.pullForm,\n          pullForm = _ref$pullForm === undefined ? undefined : _ref$pullForm,\n          _ref$connectorName = _ref.connectorName,\n          connectorName = _ref$connectorName === undefined ? undefined : _ref$connectorName;\n\n      var FLUENT = this.getFluentConfig();\n      var connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.remote;\n\n      if (!connectors) {\n        throw new Error('No remote connector was defined. Please define it using Fluent.config()');\n      }\n\n      var remoteConnector = this.getConnector(connectors, 'remote', connectorName || false);\n\n      this.config.remote.token = token || this.config.remote.token;\n\n      if (pullForm) {\n        this.config.remote.pullForm = pullForm || this.config.remote.pullForm;\n      }\n\n      if (remoteConnector) {\n        return remoteConnector.connector({\n          remoteConnection: this.config.remote,\n          connector: remoteConnector\n        });\n      }\n\n      throw new Error('No default remote connector found. Please assign one as your default in Fluent.config');\n    },\n\n    /**\r\n     * [local description]\r\n     * @return {[type]} [description]\r\n     */\n    local: function local() {\n      var _ref2 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref2$connectorName = _ref2.connectorName,\n          connectorName = _ref2$connectorName === undefined ? undefined : _ref2$connectorName;\n\n      var FLUENT = this.getFluentConfig();\n      var connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.local;\n\n      if (!connectors) throw new Error('No local connector was defined. Please define it using Fluent.config()');\n\n      var localConnector = this.getConnector(connectors, 'local', connectorName || false);\n\n      if (localConnector) return localConnector.connector({ name: this.name, connector: localConnector });\n\n      throw new Error('No default local connector found. Please assign one as your default in Fluent.config');\n    },\n\n    /**\r\n    * [local description]\r\n    * @return {[type]} [description]\r\n    */\n    merged: function merged() {\n      var local = this.local();\n      var remote = this.remote();\n\n      var FLUENT = this.getFluentConfig();\n      var connectors = FLUENT && FLUENT.connectors && FLUENT.connectors.merge;\n\n      if (!connectors) {\n        throw new Error('No merge connector was defined. Please define it using Fluent.config()');\n      }\n\n      var mergeConnector = this.getConnector(connectors, 'merge');\n\n      if (mergeConnector) {\n        return mergeConnector.connector({ local: local, remote: remote, name: this.name, connector: mergeConnector });\n      }\n\n      throw new Error('No default merge connector found. Please assign one as your default in Fluent.config');\n    }\n  }\n}).compose(_privatize2.default);\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(4)))\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _it = __webpack_require__(0);\n\nvar _it2 = _interopRequireDefault(_it);\n\nvar _utilities = __webpack_require__(11);\n\nvar _utilities2 = _interopRequireDefault(_utilities);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nexports.default = (0, _it2.default)({\n  init: function init(data) {\n    if (!Array.isArray(data)) {\n      throw new Error('Collect method only accepts arrays of data');\n    }\n    this.data = data;\n  },\n\n  properties: {\n    data: []\n  },\n  methods: {\n    /**\r\n     * \r\n     */\n    get: function get() {\n      return this.data;\n    },\n\n    /**\r\n     * Alias for the \"get\" method\r\n     * @return function\r\n     */\n    all: function all() {\n      return this.get();\n    },\n\n    /**\r\n     * Alias for the \"average\" method.\r\n     *\r\n     * @param  {String}  path Path of the key\r\n     * @return function\r\n     */\n    avg: function avg(path) {\n      return this.average(path);\n    },\n\n    /**\r\n     * Get the average value of a given key.\r\n     *\r\n     * @param  {String}  path Path of the key\r\n     * @return static\r\n     */\n    average: function average() {\n      var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n      var data = [].concat(_toConsumableArray(this.data));\n      var sum = data.reduce(function (acc, element) {\n        var value = element;\n\n        if (element instanceof Object) {\n          var extract = _utilities2.default.getFromPath(element, path, undefined);\n          if (typeof extract !== 'undefined' && extract.value) {\n            value = extract.value;\n          }\n        }\n        return acc + value;\n      }, 0);\n\n      try {\n        var avg = sum / data.length;\n        return avg;\n      } catch (e) {\n        throw new Error('Division between \"' + sum + '\" and \"' + data.length + '\" is not valid.');\n      }\n    },\n    chunkApply: function chunkApply(size, callback) {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var totalSize, count, reducer, promiseChain;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(callback === undefined)) {\n                  _context.next = 2;\n                  break;\n                }\n\n                throw new Error('Callback function not defined.');\n\n              case 2:\n                totalSize = _this.data.length;\n                count = 0;\n\n\n                _this.chunks(size);\n\n                // console.log(`Processed ${count}/${totalSize} elements...`);\n\n                /* for (const chunk of this.data) {\r\n                  const promises = [];\r\n                    chunk.forEach((element) => {\r\n                    promises.push(callback(element, count));\r\n                    count = count + 1;\r\n                  });\r\n                    await Promise.all(promises);\r\n                    // count = (count + size) > totalSize ? totalSize : count + size;\r\n                  console.log(`Processed ${count}/${totalSize} elements...`);\r\n                } */\n\n                reducer = function reducer(chain, batch) {\n                  return chain.then(function () {\n                    return Promise.all(batch.map(function (d) {\n                      return callback(d);\n                    }));\n                  }).then(function () {\n                    count = count + size > totalSize ? totalSize : count + size;\n                    console.log('Processed ' + count + '/' + totalSize + ' elements...');\n                  });\n                };\n\n                console.log('Processed ' + count + '/' + totalSize + ' elements...');\n                promiseChain = _this.data.reduce(reducer, Promise.resolve());\n                return _context.abrupt('return', promiseChain);\n\n              case 9:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this);\n      }))();\n    },\n\n    /**\r\n     * Chunks the given array\r\n     *\r\n     * @param {Int} size\r\n     * @return static\r\n     */\n    chunks: function chunks(size) {\n      var data = [].concat(_toConsumableArray(this.data));\n      var results = [];\n\n      while (data.length) {\n        results.push(data.splice(0, size));\n      }\n\n      this.data = results;\n      return this;\n    },\n\n    /**\r\n     * \r\n     */\n    collapse: function collapse() {\n      var data = [].concat(_toConsumableArray(this.data));\n      var results = [];\n\n      data.forEach(function (chunk) {\n        if (Array.isArray(chunk)) {\n          chunk.forEach(function (element) {\n            results.push(element);\n          });\n        } else {\n          results.push(chunk);\n        }\n      });\n      this.data = results;\n\n      return this;\n    },\n    unChunk: function unChunk() {\n      return this.collapse();\n    },\n    combine: function combine(array) {\n      var data = [].concat(_toConsumableArray(this.data));\n      var result = void 0;\n      data.forEach(function (e, index) {\n        if (!(e instanceof Object)) {\n          if (!result) {\n            result = {};\n          }\n          result[e] = array[index];\n        } else {\n          if (!result) {\n            result = [];\n          }\n          result[index] = _extends({}, e, { _value: array[index] });\n        }\n      });\n\n      this.data = result;\n      return this;\n    },\n    concat: function concat(array) {\n      this.data = [].concat(_toConsumableArray(this.data), _toConsumableArray(array));\n      return this;\n    },\n    contains: function contains() {\n      var value = void 0;\n      var path = void 0;\n      var Fx = void 0;\n      if (arguments.length === 1) {\n        if (this.isFunction(arguments.length <= 0 ? undefined : arguments[0])) {\n          Fx = arguments.length <= 0 ? undefined : arguments[0];\n        }\n        value = arguments.length <= 0 ? undefined : arguments[0];\n      } else {\n        value = arguments.length <= 1 ? undefined : arguments[1];\n        path = arguments.length <= 0 ? undefined : arguments[0];\n      }\n      var data = [].concat(_toConsumableArray(this.data));\n\n      return data.some(function (e, index) {\n        if (Fx) {\n          return !!Fx(e, index);\n        }\n        var val = e;\n        if (e instanceof Object) {\n          var extract = _utilities2.default.getFromPath(e, path, undefined);\n          if (extract.value) {\n            val = extract.value;\n          }\n        }\n        return val === value;\n      });\n    },\n\n    /**\r\n     * Returns an array of duplicate submissions, based on an array of keys.\r\n     * @param {Array} keys - Keys where the function compares an object to evaluate its similarity. \r\n     */\n    duplicatesBy: function duplicatesBy(keys) {\n      var data = [].concat(_toConsumableArray(this.data));\n      var duplicates = [];\n\n      data.reduce(function (object, submission) {\n        var finalKey = keys.reduce(function (string, key) {\n          return string + _utilities2.default.getFromPath(submission, key, '').value;\n        }, '');\n\n        if (object.hasOwnProperty(finalKey)) {\n          duplicates.push(submission);\n        } else {\n          object[finalKey] = true;\n        }\n\n        return object;\n      }, {});\n\n      this.data = duplicates;\n\n      return this;\n    },\n    count: function count() {\n      return this.data.length;\n    },\n    isFunction: function isFunction(functionToCheck) {\n      return functionToCheck && {}.toString.call(functionToCheck) === '[object Function]';\n    }\n  }\n});\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/* eslint-disable no-unused-vars */\nvar Utilities = function () {\n  /**\r\n   * Given an Object and its path, if exisits it will\r\n   * return the value of it, if not the default\r\n   * @param {Object} obj\r\n   * @param {String} path\r\n   * @param {*} def\r\n   */\n  var get = function get(fn, def) {\n    try {\n      return fn();\n    } catch (e) {\n      return def;\n    }\n  };\n  /**\r\n   *\r\n   * @param {*} obj\r\n   * @param {*} path\r\n   * @param {*} def\r\n   */\n  var getFromPath = function getFromPath(obj, path, def) {\n    var _path = path;\n\n    if (path.includes(' as ')) {\n      path = path.split(' as ');\n      _path = path[0];\n    }\n\n    var assignedName = get(function () {\n      return Array.isArray(path) && path[1].trim();\n    }, undefined);\n\n    var fullPath = _path.replace(/\\[/g, '.').replace(/]/g, '').split('.').filter(Boolean).map(function (e) {\n      return e.trim();\n    });\n\n    function everyFunc(step) {\n      return !(step && (obj = obj[step]) === undefined);\n    }\n\n    var result = fullPath.every(everyFunc) ? obj : def;\n\n    return { label: assignedName || _path, value: result };\n  };\n\n  return Object.freeze({\n    get: get,\n    getFromPath: getFromPath\n  });\n}();\n\nexports.default = Utilities;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Interface = exports.Fluent = exports.Model = undefined;\n\nvar _Fluent = __webpack_require__(13);\n\nvar _Fluent2 = _interopRequireDefault(_Fluent);\n\nvar _Model = __webpack_require__(9);\n\nvar _Model2 = _interopRequireDefault(_Model);\n\nvar _Interface = __webpack_require__(19);\n\nvar _Interface2 = _interopRequireDefault(_Interface);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Model = _Model2.default;\nexports.Fluent = _Fluent2.default;\nexports.Interface = _Interface2.default;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _it = __webpack_require__(0);\n\nvar _it2 = _interopRequireDefault(_it);\n\nvar _Model = __webpack_require__(9);\n\nvar _Model2 = _interopRequireDefault(_Model);\n\nvar _Collection = __webpack_require__(10);\n\nvar _Collection2 = _interopRequireDefault(_Collection);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar Fluent = (0, _it2.default)({\n  init: function init() {\n    this.registerGlobalVariable();\n  },\n\n  properties: {},\n  methods: {\n    model: function model() {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      this.registerModel(args);\n      return _Model2.default.compose.apply(_Model2.default, _toConsumableArray(args));\n    },\n    extend: function extend() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      this.registerModel(args);\n      return _Model2.default.compose.apply(_Model2.default, _toConsumableArray(args));\n    },\n    compose: function compose() {\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this.registerModel(args);\n      return _Model2.default.compose.apply(_Model2.default, _toConsumableArray(args));\n    },\n    collect: function collect(args) {\n      return (0, _Collection2.default)(args);\n    },\n    registerGlobalVariable: function registerGlobalVariable() {\n      if (typeof window !== \"undefined\" && window && !window._FLUENT_) {\n        window._FLUENT_ = {\n          connectors: {},\n          models: {}\n        };\n      }\n\n      if (global && !global._FLUENT_) {\n        global._FLUENT_ = {\n          connectors: {},\n          models: {}\n        };\n      }\n    },\n    registerModel: function registerModel(args) {\n      var name = args && args[0] && args[0].properties && args[0].properties.name ? args[0].properties.name : undefined;\n\n      if (!name || name === \"baseModel\") {\n        return;\n      }\n\n      if (!(typeof name === \"string\")) {\n        throw new Error(\"You must assign a name to your Model when using Fluent.compose\");\n      }\n\n      if (typeof window !== \"undefined\") {\n        window._FLUENT_.models[name] = true;\n        return;\n      }\n      global._FLUENT_.models[name] = true;\n    },\n    config: function config(_ref) {\n      var _ref$REMOTE_CONNECTOR = _ref.REMOTE_CONNECTORS,\n          REMOTE_CONNECTORS = _ref$REMOTE_CONNECTOR === undefined ? undefined : _ref$REMOTE_CONNECTOR,\n          _ref$LOCAL_CONNECTORS = _ref.LOCAL_CONNECTORS,\n          LOCAL_CONNECTORS = _ref$LOCAL_CONNECTORS === undefined ? undefined : _ref$LOCAL_CONNECTORS,\n          _ref$MERGE_CONNECTORS = _ref.MERGE_CONNECTORS,\n          MERGE_CONNECTORS = _ref$MERGE_CONNECTORS === undefined ? undefined : _ref$MERGE_CONNECTORS;\n\n      if (typeof window !== \"undefined\" && window) {\n        window._FLUENT_.connectors = {\n          local: LOCAL_CONNECTORS,\n          remote: REMOTE_CONNECTORS,\n          merge: MERGE_CONNECTORS\n        };\n      }\n\n      if (typeof global !== \"undefined\" && global) {\n        global._FLUENT_.connectors = {\n          local: LOCAL_CONNECTORS,\n          remote: REMOTE_CONNECTORS,\n          merge: MERGE_CONNECTORS\n        };\n      }\n    },\n    getConfig: function getConfig() {\n      if (typeof window !== \"undefined\" && window) {\n        return window._FLUENT_;\n      }\n\n      if (typeof global !== \"undefined\" && global) {\n        return global._FLUENT_;\n      }\n    }\n  }\n})();\n\nexports.default = Fluent;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(4)))\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// More proper implementation would be\n// isDescriptor(obj) || isStamp(obj)\n// but there is no sense since stamp is function and function is object.\nmodule.exports = __webpack_require__(1);\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nmodule.exports = function isPlainObject(value) {\n  return Boolean(value) && typeof value === 'object' &&\n    Object.getPrototypeOf(value) === Object.prototype;\n};\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar compose = __webpack_require__(2);\n\nfunction createShortcut(propName) {\n  return function (arg) {\n    'use strict';\n    var param = {};\n    param[propName] = arg;\n    return this && this.compose ? this.compose(param) : compose(param);\n  };\n}\n\nvar properties = createShortcut('properties');\nvar staticProperties = createShortcut('staticProperties');\nvar configuration = createShortcut('configuration');\nvar deepProperties = createShortcut('deepProperties');\nvar staticDeepProperties = createShortcut('staticDeepProperties');\nvar deepConfiguration = createShortcut('deepConfiguration');\nvar initializers = createShortcut('initializers');\n\nmodule.exports = compose({\n  staticProperties: {\n    methods: createShortcut('methods'),\n\n    props: properties,\n    properties: properties,\n\n    statics: staticProperties,\n    staticProperties: staticProperties,\n\n    conf: configuration,\n    configuration: configuration,\n\n    deepProps: deepProperties,\n    deepProperties: deepProperties,\n\n    deepStatics: staticDeepProperties,\n    staticDeepProperties: staticDeepProperties,\n\n    deepConf: deepConfiguration,\n    deepConfiguration: deepConfiguration,\n\n    init: initializers,\n    initializers: initializers,\n\n    composers: createShortcut('composers'),\n\n    propertyDescriptors: createShortcut('propertyDescriptors'),\n\n    staticPropertyDescriptors: createShortcut('staticPropertyDescriptors')\n  }\n});\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\nmodule.exports = function isString(arg) {\n  return typeof arg === 'string';\n};\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar compose = __webpack_require__(2);\nvar privates = new WeakMap(); // WeakMap works in IE11, node 0.12\n\nvar makeProxyFunction = function (fn, name) {\n  function proxiedFn() {\n    'use strict';\n    var fields = privates.get(this); // jshint ignore:line\n    return fn.apply(fields, arguments);\n  }\n\n  Object.defineProperty(proxiedFn, 'name', {\n    value: name,\n    configurable: true\n  });\n\n  return proxiedFn;\n};\n\nfunction initializer(_, opts) {\n  var descriptor = opts.stamp.compose;\n  var privateMethodNames = descriptor.deepConfiguration.Privatize.methods;\n\n  var newObject = {}; // our proxy object\n  privates.set(newObject, this);\n\n  var methods = descriptor.methods;\n  if (!methods) {\n    return newObject;\n  }\n\n  var methodNames = Object.keys(methods);\n  for (var i = 0; i < methodNames.length; i++) {\n    var name = methodNames[i];\n    if (privateMethodNames.indexOf(name) < 0) { // not private, thus wrap\n      newObject[name] = makeProxyFunction(methods[name], name);\n    }\n  }\n\n  // Integration with @stamp/instanceof\n  if (typeof Symbol !== \"undefined\") {\n    var stampSymbol = Symbol.for('stamp');\n    if (methods[stampSymbol]) {\n      newObject[stampSymbol] = opts.stamp;\n    }\n  }\n\n  return newObject;\n}\n\nvar Privatize = compose({\n  initializers: [initializer],\n  deepConfiguration: {Privatize: {methods: []}},\n  staticProperties: {\n    privatizeMethods: function () {\n      'use strict';\n      var methodNames = [];\n      for (var i = 0; i < arguments.length; i++) {\n        var arg = arguments[i];\n        if (typeof arg === 'string' && arg.length > 0) {\n          methodNames.push(arg);\n        }\n      }\n      var Stamp = this && this.compose ? this : Privatize;\n      return Stamp.compose({\n        deepConfiguration: {\n          Privatize: {\n            methods: methodNames\n          }\n        }\n      });\n    }\n  },\n  composers: [function (opts) {\n    var initializers = opts.stamp.compose.initializers;\n    // Keep our initializer the last to return proxy object\n    initializers.splice(initializers.indexOf(initializer), 1);\n    initializers.push(initializer);\n  }]\n});\n\nmodule.exports = Privatize;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _it = __webpack_require__(0);\n\nvar _it2 = _interopRequireDefault(_it);\n\nvar _utilities = __webpack_require__(11);\n\nvar _utilities2 = _interopRequireDefault(_utilities);\n\nvar _Collection = __webpack_require__(10);\n\nvar _Collection2 = _interopRequireDefault(_Collection);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\nexports.default = (0, _it2.default)({\n  init: function init(_ref) {\n    var name = _ref.name,\n        remoteConnection = _ref.remoteConnection,\n        connector = _ref.connector;\n\n    if (!name && !remoteConnection) {\n      throw new Error(\"Model must have a name or path\");\n    }\n\n    if (!connector) {\n      throw new Error(\"Model must have a connector. Please register one using Fluent.config\");\n    }\n    this.name = name || this.name;\n    this.remoteConnection = remoteConnection || this.remoteConnection;\n    this.connector = connector || this.connector;\n    this.chainReference = [];\n    this.whereArray = [];\n    this.orWhereArray = [];\n    this.selectArray = [];\n    this.orderByArray = [];\n    this.limitNumber = undefined;\n    this.offsetNumber = undefined;\n    this.populate = [];\n    this.chunk = null;\n    this.pullSize = null;\n    this.ownerId = undefined;\n    this.paginator = undefined;\n    this.rawQuery = undefined;\n  },\n\n  properties: {\n    operators: [\"=\", \"<\", \">\", \"<=\", \">=\", \"<>\", \"!=\", \"in\", \"nin\", \"like\", \"regexp\", \"startsWith\", \"endsWith\", \"contains\"]\n  },\n  methods: {\n    /**\r\n     *\r\n     */\n    get: function get() {\n      throw new Error(\"get() method not implemented\");\n    },\n\n    /**\r\n     *\r\n     */\n    all: function all() {\n      throw new Error(\"all() method not implemented\");\n    },\n\n    /**\r\n     *\r\n     */\n    find: function find(id) {\n      throw new Error(\"find() method not implemented\");\n    },\n\n    /**\r\n     *\r\n     */\n    findOne: function findOne() {\n      throw new Error(\"findOne() method not implemented\");\n    },\n\n    /**\r\n     *\r\n     */\n    remove: function remove() {\n      throw new Error(\"remove() method not implemented\");\n    },\n\n    /**\r\n     *\r\n     */\n    softDelete: function softDelete() {\n      throw new Error(\"softDelete() method not implemented\");\n    },\n\n    /**\r\n     *\r\n     */\n    insert: function insert() {\n      throw new Error(\"insert() method not implemented\");\n    },\n\n    /**\r\n     *\r\n     */\n    update: function update() {\n      throw new Error(\"update() method not implemented\");\n    },\n\n    /**\r\n     *\r\n     */\n    clear: function clear() {\n      throw new Error(\"clear() method not implemented\");\n    },\n\n    /**\r\n     *\r\n     */\n    updateOrCreate: function updateOrCreate() {\n      throw new Error(\"updateOrCreate() method not implemented\");\n    },\n\n    /**\r\n     *\r\n     */\n    findAndRemove: function findAndRemove() {\n      throw new Error(\"findAndRemove() method not implemented\");\n    },\n\n    /**\r\n     *\r\n     * @param {*} paginator\r\n     */\n    paginate: function paginate() {\n      throw new Error(\"paginate() method not implemented\");\n    },\n\n    /**\r\n     * @param {*} tableView\r\n     */\n    tableView: function tableView() {\n      throw new Error(\"tableView() method not implemented\");\n    },\n\n    /**\r\n     * @param {*} raw\r\n     */\n    raw: function raw() {\n      throw new Error(\"raw() method not implemented\");\n    },\n    owner: function owner(user) {\n      this.chainReference.push({ method: \"owner\", args: user });\n      this.ownerId = user;\n      return this;\n    },\n    own: function own(user) {\n      return this.owner(user);\n    },\n\n    /**\r\n     * Executes the Get() method and\r\n     * returns the its first result\r\n     *\r\n     * @return {Object} First result\r\n     */\n    first: function first() {\n      var _this = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var data;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return _this.get();\n\n              case 2:\n                data = _context.sent;\n                return _context.abrupt(\"return\", _utilities2.default.get(function () {\n                  return data[0];\n                }, []));\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, _this);\n      }))();\n    },\n\n    /**\r\n     *\r\n     * Gets the data in the current query and\r\n     * transforms it into a collection\r\n     * @returns {Collection} Fluent Collection\r\n     */\n    collect: function collect() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n        var data;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return _this2.get();\n\n              case 2:\n                data = _context2.sent;\n\n                if (Array.isArray(data)) {\n                  _context2.next = 5;\n                  break;\n                }\n\n                throw new Error(\"Collect method only accepts arrays of data\");\n\n              case 5:\n                return _context2.abrupt(\"return\", (0, _Collection2.default)(data));\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, _this2);\n      }))();\n    },\n\n    /**\r\n     * Adds the given columns to the SelectArray\r\n     * to use as column filter for the data\r\n     *\r\n     * @param {Array|String} columns The columns to select\r\n     * @returns {Model} Fluent Model\r\n     */\n    select: function select() {\n      for (var _len = arguments.length, columns = Array(_len), _key = 0; _key < _len; _key++) {\n        columns[_key] = arguments[_key];\n      }\n\n      columns = this.prepareInput(columns);\n      this.chainReference.push({ method: \"select\", args: columns });\n      this.selectArray = this.selectArray.concat(columns).filter(function (elem, pos, arr) {\n        return arr.indexOf(elem) === pos;\n      });\n\n      return this;\n    },\n\n    /**\r\n     * Maps the given Data to show only those fields\r\n     * explicitly detailed on the Select function\r\n     *\r\n     * @param {Array} data Data from local or remote DB\r\n     * @returns {Array} Formatted data with the selected columns\r\n     */\n    jsApplySelect: function jsApplySelect(data) {\n      var _this3 = this;\n\n      var _data = Array.isArray(data) ? [].concat(_toConsumableArray(data)) : [data];\n\n      if (this.selectArray.length > 0) {\n        _data = _data.map(function (element) {\n          var newElement = {};\n\n          _this3.selectArray.forEach(function (attribute) {\n            var extract = _utilities2.default.getFromPath(element, attribute, undefined);\n\n            var value = _utilities2.default.get(function () {\n              return extract.value;\n            }, undefined);\n\n            if (typeof value !== \"undefined\") {\n              if ((typeof value === \"undefined\" ? \"undefined\" : _typeof(value)) === \"object\" && value.hasOwnProperty(\"data\") && value.data.hasOwnProperty(\"name\")) {\n                newElement[extract.label] = value.data.name;\n              } else {\n                newElement[extract.label] = value;\n              }\n            }\n          });\n\n          return newElement;\n        });\n      }\n\n      return _data;\n    },\n\n    /**\r\n     *  Sets the offset number for\r\n     *  the given query\r\n     *\r\n     * @param {int} offset The given offset\r\n     * @returns {Model} Fluent Model\r\n     */\n    offset: function offset(_offset) {\n      this.chainReference.push({ method: \"offset\", args: _offset });\n      this.offsetNumber = _offset;\n      return this;\n    },\n\n    /**\r\n     *  Alias for the offset method\r\n     *\r\n     * @param {int} offset the given offset\r\n     */\n    skip: function skip(offset) {\n      return this.offset(offset);\n    },\n\n    /**\r\n     *  Adds where filters to the query\r\n     *  whereArray\r\n     * @param {String|Array} args Where filters\r\n     * @returns {Model} Fluent Model\r\n     */\n    where: function where() {\n      var _this4 = this;\n\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      this.chainReference.push({ method: \"where\", args: args });\n      this.whereArray = [];\n      args = Array.isArray(args[0]) ? args : [args];\n      args.forEach(function (arg) {\n        if (arg.length !== 3) {\n          throw new Error('There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' + JSON.stringify(arg) + '\" ');\n        }\n        _this4.whereArray.push(arg);\n      });\n      return this;\n    },\n\n    /**\r\n     * Pushes where filters with AND condition\r\n     * to the whereArray\r\n     *\r\n     * @param {String|Array} args Where filters\r\n     * @returns {Model} Fluent Model\r\n     */\n    andWhere: function andWhere() {\n      var _this5 = this;\n\n      for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      this.chainReference.push({ method: \"andWhere\", args: args });\n      args = Array.isArray(args[0]) ? args : [args];\n      args.forEach(function (arg) {\n        if (arg.length !== 3) {\n          throw new Error('There where clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' + JSON.stringify(arg) + '\" ');\n        }\n        _this5.whereArray.push(arg);\n      });\n      return this;\n    },\n\n    /**\r\n     * Pushes where filter with OR condition\r\n     * to the orWhereArray\r\n     *\r\n     * @param {String|Array} args OR where filters\r\n     * @returns {Model} Fluent Model\r\n     */\n    orWhere: function orWhere() {\n      var _this6 = this;\n\n      for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      this.chainReference.push({ method: \"orWhere\", args: args });\n      args = Array.isArray(args[0]) ? args : [args];\n      args.forEach(function (arg) {\n        if (arg.length !== 3) {\n          throw new Error('There orWhere clouse is not properly formatted, expecting: [\"attribute\", \"operator\",\"value\"] but got \"' + JSON.stringify(arg) + '\" ');\n        }\n        _this6.orWhereArray.push(arg);\n      });\n      return this;\n    },\n\n    /**\r\n     * Limits the number of results for the\r\n     * given query\r\n     * @param {int} limit limit number\r\n     * @returns {Model} Fluent Model\r\n     */\n    limit: function limit(_limit) {\n      this.chainReference.push({ method: \"limit\", args: _limit });\n      this.limitNumber = _limit;\n      return this;\n    },\n\n    /**\r\n     * Alias for the limit method\r\n     *\r\n     * @param {*} limit limit number\r\n     * @returns {Model} Fluent Model\r\n     */\n    take: function take(limit) {\n      return this.limit(limit);\n    },\n\n    /**\r\n     * Gets all values for a given KEY\r\n     * @param {String} keyPath The path to the key\r\n     * @returns {Array}\r\n     */\n    pluck: function pluck(keyPath) {\n      var _this7 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n        var data;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _this7.chainReference.push({ method: \"pluck\", args: keyPath });\n                _context3.next = 3;\n                return _this7.get();\n\n              case 3:\n                data = _context3.sent;\n\n\n                data = data.map(function (e) {\n                  var extracted = _utilities2.default.getFromPath(e, keyPath, undefined);\n\n                  if (typeof extracted.value !== \"undefined\") {\n                    return extracted.value;\n                  }\n                });\n                return _context3.abrupt(\"return\", data);\n\n              case 6:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, _this7);\n      }))();\n    },\n\n    /**\r\n     *\r\n     * @param {*} args\r\n     */\n    orderBy: function orderBy() {\n      for (var _len5 = arguments.length, args = Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      this.chainReference.push({ method: \"orderBy\", args: args });\n      this.orderByArray = args;\n      return this;\n    },\n\n    /**\r\n     *\r\n     * @param {*} data\r\n     */\n    jsApplyOrderBy: function jsApplyOrderBy(data) {\n      var _data = [].concat(_toConsumableArray(data));\n\n      if (this.orderByArray.length === 0) {\n        return _data;\n      }\n      var field = this.orderByArray[0];\n\n      if (this.selectArray.length > 0 && (field.includes(\".\") || field.includes(\"[\"))) {\n        throw new Error('Cannot orderBy nested attribute \"' + field + '\" when using Select. You must rename the attribute');\n      }\n\n      var order = this.orderByArray[1];\n      var type = this.orderByArray[2];\n\n      if (!type) {\n        type = \"string\";\n      }\n\n      _data = _data.sort(function (a, b) {\n        var A = _utilities2.default.getFromPath(a, field, undefined).value;\n        var B = _utilities2.default.getFromPath(b, field, undefined).value;\n\n        if (typeof A === \"undefined\" || typeof B === \"undefined\") {\n          throw new Error('Cannot order by property \"' + field + '\" not all values have this property');\n        }\n        // For default order and numbers\n        if (type.includes(\"string\") || type.includes(\"number\")) {\n          if (order === \"asc\") {\n            return A > B ? 1 : A < B ? -1 : 0;\n          }\n          return A > B ? -1 : A < B ? 1 : 0;\n        } else if (type.includes(\"date\")) {\n          if (order === \"asc\") {\n            return new Date(A) - new Date(B);\n          }\n          return new Date(B) - new Date(A);\n        }\n      });\n      return _data;\n    },\n\n    /**\r\n     *\r\n     * @param {*} input\r\n     */\n    prepareInput: function prepareInput(input) {\n      var cols = [];\n\n      input.forEach(function (item) {\n        var value = Array.isArray(item) ? item : item.split(\",\");\n\n        value = value.map(function (e) {\n          return e.trim();\n        });\n        cols = cols.concat(value);\n      });\n\n      cols.filter(function (elem, pos, arr) {\n        return arr.indexOf(elem) === pos;\n      });\n\n      return cols;\n    },\n    ArrayInsert: function ArrayInsert(dataArray, options) {\n      var _this8 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4() {\n        var initial, length, _iteratorNormalCompletion, _didIteratorError, _iteratorError, _iterator, _step, element, a;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                initial = 1;\n                length = dataArray.length;\n                _iteratorNormalCompletion = true;\n                _didIteratorError = false;\n                _iteratorError = undefined;\n                _context4.prev = 5;\n                _iterator = dataArray[Symbol.iterator]();\n\n              case 7:\n                if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n                  _context4.next = 26;\n                  break;\n                }\n\n                element = _step.value;\n\n                if (options && options.showProgress) {\n                  console.log(\"Inserting \" + initial + \" of \" + length);\n                }\n                _context4.prev = 10;\n                _context4.next = 13;\n                return _this8.insert(element, options);\n\n              case 13:\n                a = _context4.sent;\n\n                if (options && options.showProgress) {\n                  console.log(\"Element \" + initial + \" inserted\");\n                }\n                initial++;\n                _context4.next = 23;\n                break;\n\n              case 18:\n                _context4.prev = 18;\n                _context4.t0 = _context4[\"catch\"](10);\n\n                console.log(\"ERROR - Element \" + initial + \" - \" + JSON.stringify(element) + \" could not be inserted\");\n                console.log(_context4.t0);\n                initial++;\n\n              case 23:\n                _iteratorNormalCompletion = true;\n                _context4.next = 7;\n                break;\n\n              case 26:\n                _context4.next = 32;\n                break;\n\n              case 28:\n                _context4.prev = 28;\n                _context4.t1 = _context4[\"catch\"](5);\n                _didIteratorError = true;\n                _iteratorError = _context4.t1;\n\n              case 32:\n                _context4.prev = 32;\n                _context4.prev = 33;\n\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                  _iterator.return();\n                }\n\n              case 35:\n                _context4.prev = 35;\n\n                if (!_didIteratorError) {\n                  _context4.next = 38;\n                  break;\n                }\n\n                throw _iteratorError;\n\n              case 38:\n                return _context4.finish(35);\n\n              case 39:\n                return _context4.finish(32);\n\n              case 40:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, _this8, [[5, 28, 32, 40], [10, 18], [33,, 35, 39]]);\n      }))();\n    }\n  }\n});\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=goat-fluent.js.map","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import Event from './Event';\r\nimport Promise from 'bluebird';\r\nimport axios from 'axios';\r\n/* eslint-disable no-unused-vars */\r\nlet Connection = (() => {\r\n  let online = (typeof window !== 'undefined') && window && window.navigator ? window.navigator.onLine : true;\r\n\r\n  function setOnline() {\r\n    if (!online) {\r\n      online = true;\r\n      Event.emit({\r\n        name: 'FAST:CONNECTION:ONLINE',\r\n        data: online,\r\n        text: 'Application is now online'\r\n      });\r\n    }\r\n  }\r\n\r\n  function setOffline() {\r\n    if (online) {\r\n      online = false;\r\n      Event.emit({\r\n        name: 'FAST:CONNECTION:OFFLINE',\r\n        data: online,\r\n        text: 'Application is now offline'\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * [status description]\r\n   * @return {Promise} [description]\r\n   */\r\n  function initEventListeners() {\r\n    Event.listen({\r\n      name: 'online',\r\n      callback: function () {\r\n        console.log('App is now online');\r\n        setOnline();\r\n      }\r\n    });\r\n    Event.listen({\r\n      name: 'offline',\r\n      callback: function () {\r\n        console.log('App is now offline');\r\n        setOffline();\r\n      }\r\n    });\r\n  }\r\n\r\n  function isOnline() {\r\n    return new Promise((resolve, reject) => {\r\n      axios.get('https://yesno.wtf/api')\r\n        .then( res => {\r\n          resolve(true);\r\n        })\r\n        .catch( err => {\r\n          resolve(false);\r\n        })\r\n    });\r\n  }\r\n\r\n  return Object.freeze({\r\n    isOnline,\r\n    initEventListeners\r\n  });\r\n})();\r\n\r\nexport default Connection;\r\n","let Event = (() => {\r\n  let CustomEvent = function (event, params) {\r\n    var evt = document.createEvent('CustomEvent');\r\n\r\n    params = params || { bubbles: false, cancelable: false, detail: undefined };\r\n\r\n    evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n    return evt;\r\n  };\r\n\r\n  function emit({ name, data, text }) {\r\n    if (!name) throw new Error('Event must have a name.');\r\n    if (!data) throw new Error('Event must have data.');\r\n    if (!text) throw new Error('Event must have a text.');\r\n    let customEvent = CustomEvent(name, {\r\n      detail: {\r\n        data: data,\r\n        text: text\r\n      }\r\n    });\r\n\r\n    window.dispatchEvent(customEvent);\r\n  }\r\n  function listen({ name, callback }) {\r\n    if (!name) throw new Error('Listener must have a name.');\r\n    if (!callback) throw new Error('Listener must have a callback.');\r\n    window.addEventListener(name, callback);\r\n  }\r\n\r\n  function remove({ name, callback }) {\r\n    if (!name) throw new Error('Listener must have a name to detach');\r\n    if (!callback) throw new Error('Listener must have a callback to detach');\r\n    window.removeEventListener(name, callback);\r\n  }\r\n  return Object.freeze({\r\n    emit,\r\n    listen,\r\n    remove\r\n  });\r\n})();\r\n\r\nexport default Event;\r\n","/* @preserve\n * The MIT License (MIT)\n * \n * Copyright (c) 2013-2018 Petka Antonov\n * \n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n * \n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n * \n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n * \n */\n/**\n * bluebird build version 3.5.3\n * Features enabled: core, race, call_get, generators, map, nodeify, promisify, props, reduce, settle, some, using, timers, filter, any, each\n*/\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof _dereq_==\"function\"&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof _dereq_==\"function\"&&_dereq_;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar SomePromiseArray = Promise._SomePromiseArray;\nfunction any(promises) {\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(1);\n    ret.setUnwrap();\n    ret.init();\n    return promise;\n}\n\nPromise.any = function (promises) {\n    return any(promises);\n};\n\nPromise.prototype.any = function () {\n    return any(this);\n};\n\n};\n\n},{}],2:[function(_dereq_,module,exports){\n\"use strict\";\nvar firstLineError;\ntry {throw new Error(); } catch (e) {firstLineError = e;}\nvar schedule = _dereq_(\"./schedule\");\nvar Queue = _dereq_(\"./queue\");\nvar util = _dereq_(\"./util\");\n\nfunction Async() {\n    this._customScheduler = false;\n    this._isTickUsed = false;\n    this._lateQueue = new Queue(16);\n    this._normalQueue = new Queue(16);\n    this._haveDrainedQueues = false;\n    this._trampolineEnabled = true;\n    var self = this;\n    this.drainQueues = function () {\n        self._drainQueues();\n    };\n    this._schedule = schedule;\n}\n\nAsync.prototype.setScheduler = function(fn) {\n    var prev = this._schedule;\n    this._schedule = fn;\n    this._customScheduler = true;\n    return prev;\n};\n\nAsync.prototype.hasCustomScheduler = function() {\n    return this._customScheduler;\n};\n\nAsync.prototype.enableTrampoline = function() {\n    this._trampolineEnabled = true;\n};\n\nAsync.prototype.disableTrampolineIfNecessary = function() {\n    if (util.hasDevTools) {\n        this._trampolineEnabled = false;\n    }\n};\n\nAsync.prototype.haveItemsQueued = function () {\n    return this._isTickUsed || this._haveDrainedQueues;\n};\n\n\nAsync.prototype.fatalError = function(e, isNode) {\n    if (isNode) {\n        process.stderr.write(\"Fatal \" + (e instanceof Error ? e.stack : e) +\n            \"\\n\");\n        process.exit(2);\n    } else {\n        this.throwLater(e);\n    }\n};\n\nAsync.prototype.throwLater = function(fn, arg) {\n    if (arguments.length === 1) {\n        arg = fn;\n        fn = function () { throw arg; };\n    }\n    if (typeof setTimeout !== \"undefined\") {\n        setTimeout(function() {\n            fn(arg);\n        }, 0);\n    } else try {\n        this._schedule(function() {\n            fn(arg);\n        });\n    } catch (e) {\n        throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n};\n\nfunction AsyncInvokeLater(fn, receiver, arg) {\n    this._lateQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncInvoke(fn, receiver, arg) {\n    this._normalQueue.push(fn, receiver, arg);\n    this._queueTick();\n}\n\nfunction AsyncSettlePromises(promise) {\n    this._normalQueue._pushOne(promise);\n    this._queueTick();\n}\n\nif (!util.hasDevTools) {\n    Async.prototype.invokeLater = AsyncInvokeLater;\n    Async.prototype.invoke = AsyncInvoke;\n    Async.prototype.settlePromises = AsyncSettlePromises;\n} else {\n    Async.prototype.invokeLater = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvokeLater.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                setTimeout(function() {\n                    fn.call(receiver, arg);\n                }, 100);\n            });\n        }\n    };\n\n    Async.prototype.invoke = function (fn, receiver, arg) {\n        if (this._trampolineEnabled) {\n            AsyncInvoke.call(this, fn, receiver, arg);\n        } else {\n            this._schedule(function() {\n                fn.call(receiver, arg);\n            });\n        }\n    };\n\n    Async.prototype.settlePromises = function(promise) {\n        if (this._trampolineEnabled) {\n            AsyncSettlePromises.call(this, promise);\n        } else {\n            this._schedule(function() {\n                promise._settlePromises();\n            });\n        }\n    };\n}\n\nfunction _drainQueue(queue) {\n    while (queue.length() > 0) {\n        _drainQueueStep(queue);\n    }\n}\n\nfunction _drainQueueStep(queue) {\n    var fn = queue.shift();\n    if (typeof fn !== \"function\") {\n        fn._settlePromises();\n    } else {\n        var receiver = queue.shift();\n        var arg = queue.shift();\n        fn.call(receiver, arg);\n    }\n}\n\nAsync.prototype._drainQueues = function () {\n    _drainQueue(this._normalQueue);\n    this._reset();\n    this._haveDrainedQueues = true;\n    _drainQueue(this._lateQueue);\n};\n\nAsync.prototype._queueTick = function () {\n    if (!this._isTickUsed) {\n        this._isTickUsed = true;\n        this._schedule(this.drainQueues);\n    }\n};\n\nAsync.prototype._reset = function () {\n    this._isTickUsed = false;\n};\n\nmodule.exports = Async;\nmodule.exports.firstLineError = firstLineError;\n\n},{\"./queue\":26,\"./schedule\":29,\"./util\":36}],3:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise, debug) {\nvar calledBind = false;\nvar rejectThis = function(_, e) {\n    this._reject(e);\n};\n\nvar targetRejected = function(e, context) {\n    context.promiseRejectionQueued = true;\n    context.bindingPromise._then(rejectThis, rejectThis, null, this, e);\n};\n\nvar bindingResolved = function(thisArg, context) {\n    if (((this._bitField & 50397184) === 0)) {\n        this._resolveCallback(context.target);\n    }\n};\n\nvar bindingRejected = function(e, context) {\n    if (!context.promiseRejectionQueued) this._reject(e);\n};\n\nPromise.prototype.bind = function (thisArg) {\n    if (!calledBind) {\n        calledBind = true;\n        Promise.prototype._propagateFrom = debug.propagateFromFunction();\n        Promise.prototype._boundValue = debug.boundValueFunction();\n    }\n    var maybePromise = tryConvertToPromise(thisArg);\n    var ret = new Promise(INTERNAL);\n    ret._propagateFrom(this, 1);\n    var target = this._target();\n    ret._setBoundTo(maybePromise);\n    if (maybePromise instanceof Promise) {\n        var context = {\n            promiseRejectionQueued: false,\n            promise: ret,\n            target: target,\n            bindingPromise: maybePromise\n        };\n        target._then(INTERNAL, targetRejected, undefined, ret, context);\n        maybePromise._then(\n            bindingResolved, bindingRejected, undefined, ret, context);\n        ret._setOnCancel(maybePromise);\n    } else {\n        ret._resolveCallback(target);\n    }\n    return ret;\n};\n\nPromise.prototype._setBoundTo = function (obj) {\n    if (obj !== undefined) {\n        this._bitField = this._bitField | 2097152;\n        this._boundTo = obj;\n    } else {\n        this._bitField = this._bitField & (~2097152);\n    }\n};\n\nPromise.prototype._isBound = function () {\n    return (this._bitField & 2097152) === 2097152;\n};\n\nPromise.bind = function (thisArg, value) {\n    return Promise.resolve(value).bind(thisArg);\n};\n};\n\n},{}],4:[function(_dereq_,module,exports){\n\"use strict\";\nvar old;\nif (typeof Promise !== \"undefined\") old = Promise;\nfunction noConflict() {\n    try { if (Promise === bluebird) Promise = old; }\n    catch (e) {}\n    return bluebird;\n}\nvar bluebird = _dereq_(\"./promise\")();\nbluebird.noConflict = noConflict;\nmodule.exports = bluebird;\n\n},{\"./promise\":22}],5:[function(_dereq_,module,exports){\n\"use strict\";\nvar cr = Object.create;\nif (cr) {\n    var callerCache = cr(null);\n    var getterCache = cr(null);\n    callerCache[\" size\"] = getterCache[\" size\"] = 0;\n}\n\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar isIdentifier = util.isIdentifier;\n\nvar getMethodCaller;\nvar getGetter;\nif (!true) {\nvar makeMethodCaller = function (methodName) {\n    return new Function(\"ensureMethod\", \"                                    \\n\\\n        return function(obj) {                                               \\n\\\n            'use strict'                                                     \\n\\\n            var len = this.length;                                           \\n\\\n            ensureMethod(obj, 'methodName');                                 \\n\\\n            switch(len) {                                                    \\n\\\n                case 1: return obj.methodName(this[0]);                      \\n\\\n                case 2: return obj.methodName(this[0], this[1]);             \\n\\\n                case 3: return obj.methodName(this[0], this[1], this[2]);    \\n\\\n                case 0: return obj.methodName();                             \\n\\\n                default:                                                     \\n\\\n                    return obj.methodName.apply(obj, this);                  \\n\\\n            }                                                                \\n\\\n        };                                                                   \\n\\\n        \".replace(/methodName/g, methodName))(ensureMethod);\n};\n\nvar makeGetter = function (propertyName) {\n    return new Function(\"obj\", \"                                             \\n\\\n        'use strict';                                                        \\n\\\n        return obj.propertyName;                                             \\n\\\n        \".replace(\"propertyName\", propertyName));\n};\n\nvar getCompiled = function(name, compiler, cache) {\n    var ret = cache[name];\n    if (typeof ret !== \"function\") {\n        if (!isIdentifier(name)) {\n            return null;\n        }\n        ret = compiler(name);\n        cache[name] = ret;\n        cache[\" size\"]++;\n        if (cache[\" size\"] > 512) {\n            var keys = Object.keys(cache);\n            for (var i = 0; i < 256; ++i) delete cache[keys[i]];\n            cache[\" size\"] = keys.length - 256;\n        }\n    }\n    return ret;\n};\n\ngetMethodCaller = function(name) {\n    return getCompiled(name, makeMethodCaller, callerCache);\n};\n\ngetGetter = function(name) {\n    return getCompiled(name, makeGetter, getterCache);\n};\n}\n\nfunction ensureMethod(obj, methodName) {\n    var fn;\n    if (obj != null) fn = obj[methodName];\n    if (typeof fn !== \"function\") {\n        var message = \"Object \" + util.classString(obj) + \" has no method '\" +\n            util.toString(methodName) + \"'\";\n        throw new Promise.TypeError(message);\n    }\n    return fn;\n}\n\nfunction caller(obj) {\n    var methodName = this.pop();\n    var fn = ensureMethod(obj, methodName);\n    return fn.apply(obj, this);\n}\nPromise.prototype.call = function (methodName) {\n    var args = [].slice.call(arguments, 1);;\n    if (!true) {\n        if (canEvaluate) {\n            var maybeCaller = getMethodCaller(methodName);\n            if (maybeCaller !== null) {\n                return this._then(\n                    maybeCaller, undefined, undefined, args, undefined);\n            }\n        }\n    }\n    args.push(methodName);\n    return this._then(caller, undefined, undefined, args, undefined);\n};\n\nfunction namedGetter(obj) {\n    return obj[this];\n}\nfunction indexedGetter(obj) {\n    var index = +this;\n    if (index < 0) index = Math.max(0, index + obj.length);\n    return obj[index];\n}\nPromise.prototype.get = function (propertyName) {\n    var isIndex = (typeof propertyName === \"number\");\n    var getter;\n    if (!isIndex) {\n        if (canEvaluate) {\n            var maybeGetter = getGetter(propertyName);\n            getter = maybeGetter !== null ? maybeGetter : namedGetter;\n        } else {\n            getter = namedGetter;\n        }\n    } else {\n        getter = indexedGetter;\n    }\n    return this._then(getter, undefined, undefined, propertyName, undefined);\n};\n};\n\n},{\"./util\":36}],6:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, PromiseArray, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nPromise.prototype[\"break\"] = Promise.prototype.cancel = function() {\n    if (!debug.cancellation()) return this._warn(\"cancellation is disabled\");\n\n    var promise = this;\n    var child = promise;\n    while (promise._isCancellable()) {\n        if (!promise._cancelBy(child)) {\n            if (child._isFollowing()) {\n                child._followee().cancel();\n            } else {\n                child._cancelBranched();\n            }\n            break;\n        }\n\n        var parent = promise._cancellationParent;\n        if (parent == null || !parent._isCancellable()) {\n            if (promise._isFollowing()) {\n                promise._followee().cancel();\n            } else {\n                promise._cancelBranched();\n            }\n            break;\n        } else {\n            if (promise._isFollowing()) promise._followee().cancel();\n            promise._setWillBeCancelled();\n            child = promise;\n            promise = parent;\n        }\n    }\n};\n\nPromise.prototype._branchHasCancelled = function() {\n    this._branchesRemainingToCancel--;\n};\n\nPromise.prototype._enoughBranchesHaveCancelled = function() {\n    return this._branchesRemainingToCancel === undefined ||\n           this._branchesRemainingToCancel <= 0;\n};\n\nPromise.prototype._cancelBy = function(canceller) {\n    if (canceller === this) {\n        this._branchesRemainingToCancel = 0;\n        this._invokeOnCancel();\n        return true;\n    } else {\n        this._branchHasCancelled();\n        if (this._enoughBranchesHaveCancelled()) {\n            this._invokeOnCancel();\n            return true;\n        }\n    }\n    return false;\n};\n\nPromise.prototype._cancelBranched = function() {\n    if (this._enoughBranchesHaveCancelled()) {\n        this._cancel();\n    }\n};\n\nPromise.prototype._cancel = function() {\n    if (!this._isCancellable()) return;\n    this._setCancelled();\n    async.invoke(this._cancelPromises, this, undefined);\n};\n\nPromise.prototype._cancelPromises = function() {\n    if (this._length() > 0) this._settlePromises();\n};\n\nPromise.prototype._unsetOnCancel = function() {\n    this._onCancelField = undefined;\n};\n\nPromise.prototype._isCancellable = function() {\n    return this.isPending() && !this._isCancelled();\n};\n\nPromise.prototype.isCancellable = function() {\n    return this.isPending() && !this.isCancelled();\n};\n\nPromise.prototype._doInvokeOnCancel = function(onCancelCallback, internalOnly) {\n    if (util.isArray(onCancelCallback)) {\n        for (var i = 0; i < onCancelCallback.length; ++i) {\n            this._doInvokeOnCancel(onCancelCallback[i], internalOnly);\n        }\n    } else if (onCancelCallback !== undefined) {\n        if (typeof onCancelCallback === \"function\") {\n            if (!internalOnly) {\n                var e = tryCatch(onCancelCallback).call(this._boundValue());\n                if (e === errorObj) {\n                    this._attachExtraTrace(e.e);\n                    async.throwLater(e.e);\n                }\n            }\n        } else {\n            onCancelCallback._resultCancelled(this);\n        }\n    }\n};\n\nPromise.prototype._invokeOnCancel = function() {\n    var onCancelCallback = this._onCancel();\n    this._unsetOnCancel();\n    async.invoke(this._doInvokeOnCancel, this, onCancelCallback);\n};\n\nPromise.prototype._invokeInternalOnCancel = function() {\n    if (this._isCancellable()) {\n        this._doInvokeOnCancel(this._onCancel(), true);\n        this._unsetOnCancel();\n    }\n};\n\nPromise.prototype._resultCancelled = function() {\n    this.cancel();\n};\n\n};\n\n},{\"./util\":36}],7:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar getKeys = _dereq_(\"./es5\").keys;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction catchFilter(instances, cb, promise) {\n    return function(e) {\n        var boundTo = promise._boundValue();\n        predicateLoop: for (var i = 0; i < instances.length; ++i) {\n            var item = instances[i];\n\n            if (item === Error ||\n                (item != null && item.prototype instanceof Error)) {\n                if (e instanceof item) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (typeof item === \"function\") {\n                var matchesPredicate = tryCatch(item).call(boundTo, e);\n                if (matchesPredicate === errorObj) {\n                    return matchesPredicate;\n                } else if (matchesPredicate) {\n                    return tryCatch(cb).call(boundTo, e);\n                }\n            } else if (util.isObject(e)) {\n                var keys = getKeys(item);\n                for (var j = 0; j < keys.length; ++j) {\n                    var key = keys[j];\n                    if (item[key] != e[key]) {\n                        continue predicateLoop;\n                    }\n                }\n                return tryCatch(cb).call(boundTo, e);\n            }\n        }\n        return NEXT_FILTER;\n    };\n}\n\nreturn catchFilter;\n};\n\n},{\"./es5\":13,\"./util\":36}],8:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar longStackTraces = false;\nvar contextStack = [];\n\nPromise.prototype._promiseCreated = function() {};\nPromise.prototype._pushContext = function() {};\nPromise.prototype._popContext = function() {return null;};\nPromise._peekContext = Promise.prototype._peekContext = function() {};\n\nfunction Context() {\n    this._trace = new Context.CapturedTrace(peekContext());\n}\nContext.prototype._pushContext = function () {\n    if (this._trace !== undefined) {\n        this._trace._promiseCreated = null;\n        contextStack.push(this._trace);\n    }\n};\n\nContext.prototype._popContext = function () {\n    if (this._trace !== undefined) {\n        var trace = contextStack.pop();\n        var ret = trace._promiseCreated;\n        trace._promiseCreated = null;\n        return ret;\n    }\n    return null;\n};\n\nfunction createContext() {\n    if (longStackTraces) return new Context();\n}\n\nfunction peekContext() {\n    var lastIndex = contextStack.length - 1;\n    if (lastIndex >= 0) {\n        return contextStack[lastIndex];\n    }\n    return undefined;\n}\nContext.CapturedTrace = null;\nContext.create = createContext;\nContext.deactivateLongStackTraces = function() {};\nContext.activateLongStackTraces = function() {\n    var Promise_pushContext = Promise.prototype._pushContext;\n    var Promise_popContext = Promise.prototype._popContext;\n    var Promise_PeekContext = Promise._peekContext;\n    var Promise_peekContext = Promise.prototype._peekContext;\n    var Promise_promiseCreated = Promise.prototype._promiseCreated;\n    Context.deactivateLongStackTraces = function() {\n        Promise.prototype._pushContext = Promise_pushContext;\n        Promise.prototype._popContext = Promise_popContext;\n        Promise._peekContext = Promise_PeekContext;\n        Promise.prototype._peekContext = Promise_peekContext;\n        Promise.prototype._promiseCreated = Promise_promiseCreated;\n        longStackTraces = false;\n    };\n    longStackTraces = true;\n    Promise.prototype._pushContext = Context.prototype._pushContext;\n    Promise.prototype._popContext = Context.prototype._popContext;\n    Promise._peekContext = Promise.prototype._peekContext = peekContext;\n    Promise.prototype._promiseCreated = function() {\n        var ctx = this._peekContext();\n        if (ctx && ctx._promiseCreated == null) ctx._promiseCreated = this;\n    };\n};\nreturn Context;\n};\n\n},{}],9:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, Context) {\nvar getDomain = Promise._getDomain;\nvar async = Promise._async;\nvar Warning = _dereq_(\"./errors\").Warning;\nvar util = _dereq_(\"./util\");\nvar es5 = _dereq_(\"./es5\");\nvar canAttachTrace = util.canAttachTrace;\nvar unhandledRejectionHandled;\nvar possiblyUnhandledRejection;\nvar bluebirdFramePattern =\n    /[\\\\\\/]bluebird[\\\\\\/]js[\\\\\\/](release|debug|instrumented)/;\nvar nodeFramePattern = /\\((?:timers\\.js):\\d+:\\d+\\)/;\nvar parseLinePattern = /[\\/<\\(](.+?):(\\d+):(\\d+)\\)?\\s*$/;\nvar stackFramePattern = null;\nvar formatStack = null;\nvar indentStackFrames = false;\nvar printWarning;\nvar debugging = !!(util.env(\"BLUEBIRD_DEBUG\") != 0 &&\n                        (true ||\n                         util.env(\"BLUEBIRD_DEBUG\") ||\n                         util.env(\"NODE_ENV\") === \"development\"));\n\nvar warnings = !!(util.env(\"BLUEBIRD_WARNINGS\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_WARNINGS\")));\n\nvar longStackTraces = !!(util.env(\"BLUEBIRD_LONG_STACK_TRACES\") != 0 &&\n    (debugging || util.env(\"BLUEBIRD_LONG_STACK_TRACES\")));\n\nvar wForgottenReturn = util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\") != 0 &&\n    (warnings || !!util.env(\"BLUEBIRD_W_FORGOTTEN_RETURN\"));\n\nPromise.prototype.suppressUnhandledRejections = function() {\n    var target = this._target();\n    target._bitField = ((target._bitField & (~1048576)) |\n                      524288);\n};\n\nPromise.prototype._ensurePossibleRejectionHandled = function () {\n    if ((this._bitField & 524288) !== 0) return;\n    this._setRejectionIsUnhandled();\n    var self = this;\n    setTimeout(function() {\n        self._notifyUnhandledRejection();\n    }, 1);\n};\n\nPromise.prototype._notifyUnhandledRejectionIsHandled = function () {\n    fireRejectionEvent(\"rejectionHandled\",\n                                  unhandledRejectionHandled, undefined, this);\n};\n\nPromise.prototype._setReturnedNonUndefined = function() {\n    this._bitField = this._bitField | 268435456;\n};\n\nPromise.prototype._returnedNonUndefined = function() {\n    return (this._bitField & 268435456) !== 0;\n};\n\nPromise.prototype._notifyUnhandledRejection = function () {\n    if (this._isRejectionUnhandled()) {\n        var reason = this._settledValue();\n        this._setUnhandledRejectionIsNotified();\n        fireRejectionEvent(\"unhandledRejection\",\n                                      possiblyUnhandledRejection, reason, this);\n    }\n};\n\nPromise.prototype._setUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField | 262144;\n};\n\nPromise.prototype._unsetUnhandledRejectionIsNotified = function () {\n    this._bitField = this._bitField & (~262144);\n};\n\nPromise.prototype._isUnhandledRejectionNotified = function () {\n    return (this._bitField & 262144) > 0;\n};\n\nPromise.prototype._setRejectionIsUnhandled = function () {\n    this._bitField = this._bitField | 1048576;\n};\n\nPromise.prototype._unsetRejectionIsUnhandled = function () {\n    this._bitField = this._bitField & (~1048576);\n    if (this._isUnhandledRejectionNotified()) {\n        this._unsetUnhandledRejectionIsNotified();\n        this._notifyUnhandledRejectionIsHandled();\n    }\n};\n\nPromise.prototype._isRejectionUnhandled = function () {\n    return (this._bitField & 1048576) > 0;\n};\n\nPromise.prototype._warn = function(message, shouldUseOwnTrace, promise) {\n    return warn(message, shouldUseOwnTrace, promise || this);\n};\n\nPromise.onPossiblyUnhandledRejection = function (fn) {\n    var domain = getDomain();\n    possiblyUnhandledRejection =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nPromise.onUnhandledRejectionHandled = function (fn) {\n    var domain = getDomain();\n    unhandledRejectionHandled =\n        typeof fn === \"function\" ? (domain === null ?\n                                            fn : util.domainBind(domain, fn))\n                                 : undefined;\n};\n\nvar disableLongStackTraces = function() {};\nPromise.longStackTraces = function () {\n    if (async.haveItemsQueued() && !config.longStackTraces) {\n        throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (!config.longStackTraces && longStackTracesIsSupported()) {\n        var Promise_captureStackTrace = Promise.prototype._captureStackTrace;\n        var Promise_attachExtraTrace = Promise.prototype._attachExtraTrace;\n        var Promise_dereferenceTrace = Promise.prototype._dereferenceTrace;\n        config.longStackTraces = true;\n        disableLongStackTraces = function() {\n            if (async.haveItemsQueued() && !config.longStackTraces) {\n                throw new Error(\"cannot enable long stack traces after promises have been created\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n            }\n            Promise.prototype._captureStackTrace = Promise_captureStackTrace;\n            Promise.prototype._attachExtraTrace = Promise_attachExtraTrace;\n            Promise.prototype._dereferenceTrace = Promise_dereferenceTrace;\n            Context.deactivateLongStackTraces();\n            async.enableTrampoline();\n            config.longStackTraces = false;\n        };\n        Promise.prototype._captureStackTrace = longStackTracesCaptureStackTrace;\n        Promise.prototype._attachExtraTrace = longStackTracesAttachExtraTrace;\n        Promise.prototype._dereferenceTrace = longStackTracesDereferenceTrace;\n        Context.activateLongStackTraces();\n        async.disableTrampolineIfNecessary();\n    }\n};\n\nPromise.hasLongStackTraces = function () {\n    return config.longStackTraces && longStackTracesIsSupported();\n};\n\nvar fireDomEvent = (function() {\n    try {\n        if (typeof CustomEvent === \"function\") {\n            var event = new CustomEvent(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var eventData = {\n                    detail: event,\n                    cancelable: true\n                };\n                es5.defineProperty(\n                    eventData, \"promise\", {value: event.promise});\n                es5.defineProperty(eventData, \"reason\", {value: event.reason});\n                var domEvent = new CustomEvent(name.toLowerCase(), eventData);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else if (typeof Event === \"function\") {\n            var event = new Event(\"CustomEvent\");\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = new Event(name.toLowerCase(), {\n                    cancelable: true\n                });\n                domEvent.detail = event;\n                es5.defineProperty(domEvent, \"promise\", {value: event.promise});\n                es5.defineProperty(domEvent, \"reason\", {value: event.reason});\n                return !util.global.dispatchEvent(domEvent);\n            };\n        } else {\n            var event = document.createEvent(\"CustomEvent\");\n            event.initCustomEvent(\"testingtheevent\", false, true, {});\n            util.global.dispatchEvent(event);\n            return function(name, event) {\n                var domEvent = document.createEvent(\"CustomEvent\");\n                domEvent.initCustomEvent(name.toLowerCase(), false, true,\n                    event);\n                return !util.global.dispatchEvent(domEvent);\n            };\n        }\n    } catch (e) {}\n    return function() {\n        return false;\n    };\n})();\n\nvar fireGlobalEvent = (function() {\n    if (util.isNode) {\n        return function() {\n            return process.emit.apply(process, arguments);\n        };\n    } else {\n        if (!util.global) {\n            return function() {\n                return false;\n            };\n        }\n        return function(name) {\n            var methodName = \"on\" + name.toLowerCase();\n            var method = util.global[methodName];\n            if (!method) return false;\n            method.apply(util.global, [].slice.call(arguments, 1));\n            return true;\n        };\n    }\n})();\n\nfunction generatePromiseLifecycleEventObject(name, promise) {\n    return {promise: promise};\n}\n\nvar eventToObjectGenerator = {\n    promiseCreated: generatePromiseLifecycleEventObject,\n    promiseFulfilled: generatePromiseLifecycleEventObject,\n    promiseRejected: generatePromiseLifecycleEventObject,\n    promiseResolved: generatePromiseLifecycleEventObject,\n    promiseCancelled: generatePromiseLifecycleEventObject,\n    promiseChained: function(name, promise, child) {\n        return {promise: promise, child: child};\n    },\n    warning: function(name, warning) {\n        return {warning: warning};\n    },\n    unhandledRejection: function (name, reason, promise) {\n        return {reason: reason, promise: promise};\n    },\n    rejectionHandled: generatePromiseLifecycleEventObject\n};\n\nvar activeFireEvent = function (name) {\n    var globalEventFired = false;\n    try {\n        globalEventFired = fireGlobalEvent.apply(null, arguments);\n    } catch (e) {\n        async.throwLater(e);\n        globalEventFired = true;\n    }\n\n    var domEventFired = false;\n    try {\n        domEventFired = fireDomEvent(name,\n                    eventToObjectGenerator[name].apply(null, arguments));\n    } catch (e) {\n        async.throwLater(e);\n        domEventFired = true;\n    }\n\n    return domEventFired || globalEventFired;\n};\n\nPromise.config = function(opts) {\n    opts = Object(opts);\n    if (\"longStackTraces\" in opts) {\n        if (opts.longStackTraces) {\n            Promise.longStackTraces();\n        } else if (!opts.longStackTraces && Promise.hasLongStackTraces()) {\n            disableLongStackTraces();\n        }\n    }\n    if (\"warnings\" in opts) {\n        var warningsOption = opts.warnings;\n        config.warnings = !!warningsOption;\n        wForgottenReturn = config.warnings;\n\n        if (util.isObject(warningsOption)) {\n            if (\"wForgottenReturn\" in warningsOption) {\n                wForgottenReturn = !!warningsOption.wForgottenReturn;\n            }\n        }\n    }\n    if (\"cancellation\" in opts && opts.cancellation && !config.cancellation) {\n        if (async.haveItemsQueued()) {\n            throw new Error(\n                \"cannot enable cancellation after promises are in use\");\n        }\n        Promise.prototype._clearCancellationData =\n            cancellationClearCancellationData;\n        Promise.prototype._propagateFrom = cancellationPropagateFrom;\n        Promise.prototype._onCancel = cancellationOnCancel;\n        Promise.prototype._setOnCancel = cancellationSetOnCancel;\n        Promise.prototype._attachCancellationCallback =\n            cancellationAttachCancellationCallback;\n        Promise.prototype._execute = cancellationExecute;\n        propagateFromFunction = cancellationPropagateFrom;\n        config.cancellation = true;\n    }\n    if (\"monitoring\" in opts) {\n        if (opts.monitoring && !config.monitoring) {\n            config.monitoring = true;\n            Promise.prototype._fireEvent = activeFireEvent;\n        } else if (!opts.monitoring && config.monitoring) {\n            config.monitoring = false;\n            Promise.prototype._fireEvent = defaultFireEvent;\n        }\n    }\n    return Promise;\n};\n\nfunction defaultFireEvent() { return false; }\n\nPromise.prototype._fireEvent = defaultFireEvent;\nPromise.prototype._execute = function(executor, resolve, reject) {\n    try {\n        executor(resolve, reject);\n    } catch (e) {\n        return e;\n    }\n};\nPromise.prototype._onCancel = function () {};\nPromise.prototype._setOnCancel = function (handler) { ; };\nPromise.prototype._attachCancellationCallback = function(onCancel) {\n    ;\n};\nPromise.prototype._captureStackTrace = function () {};\nPromise.prototype._attachExtraTrace = function () {};\nPromise.prototype._dereferenceTrace = function () {};\nPromise.prototype._clearCancellationData = function() {};\nPromise.prototype._propagateFrom = function (parent, flags) {\n    ;\n    ;\n};\n\nfunction cancellationExecute(executor, resolve, reject) {\n    var promise = this;\n    try {\n        executor(resolve, reject, function(onCancel) {\n            if (typeof onCancel !== \"function\") {\n                throw new TypeError(\"onCancel must be a function, got: \" +\n                                    util.toString(onCancel));\n            }\n            promise._attachCancellationCallback(onCancel);\n        });\n    } catch (e) {\n        return e;\n    }\n}\n\nfunction cancellationAttachCancellationCallback(onCancel) {\n    if (!this._isCancellable()) return this;\n\n    var previousOnCancel = this._onCancel();\n    if (previousOnCancel !== undefined) {\n        if (util.isArray(previousOnCancel)) {\n            previousOnCancel.push(onCancel);\n        } else {\n            this._setOnCancel([previousOnCancel, onCancel]);\n        }\n    } else {\n        this._setOnCancel(onCancel);\n    }\n}\n\nfunction cancellationOnCancel() {\n    return this._onCancelField;\n}\n\nfunction cancellationSetOnCancel(onCancel) {\n    this._onCancelField = onCancel;\n}\n\nfunction cancellationClearCancellationData() {\n    this._cancellationParent = undefined;\n    this._onCancelField = undefined;\n}\n\nfunction cancellationPropagateFrom(parent, flags) {\n    if ((flags & 1) !== 0) {\n        this._cancellationParent = parent;\n        var branchesRemainingToCancel = parent._branchesRemainingToCancel;\n        if (branchesRemainingToCancel === undefined) {\n            branchesRemainingToCancel = 0;\n        }\n        parent._branchesRemainingToCancel = branchesRemainingToCancel + 1;\n    }\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\n\nfunction bindingPropagateFrom(parent, flags) {\n    if ((flags & 2) !== 0 && parent._isBound()) {\n        this._setBoundTo(parent._boundTo);\n    }\n}\nvar propagateFromFunction = bindingPropagateFrom;\n\nfunction boundValueFunction() {\n    var ret = this._boundTo;\n    if (ret !== undefined) {\n        if (ret instanceof Promise) {\n            if (ret.isFulfilled()) {\n                return ret.value();\n            } else {\n                return undefined;\n            }\n        }\n    }\n    return ret;\n}\n\nfunction longStackTracesCaptureStackTrace() {\n    this._trace = new CapturedTrace(this._peekContext());\n}\n\nfunction longStackTracesAttachExtraTrace(error, ignoreSelf) {\n    if (canAttachTrace(error)) {\n        var trace = this._trace;\n        if (trace !== undefined) {\n            if (ignoreSelf) trace = trace._parent;\n        }\n        if (trace !== undefined) {\n            trace.attachExtraTrace(error);\n        } else if (!error.__stackCleaned__) {\n            var parsed = parseStackAndMessage(error);\n            util.notEnumerableProp(error, \"stack\",\n                parsed.message + \"\\n\" + parsed.stack.join(\"\\n\"));\n            util.notEnumerableProp(error, \"__stackCleaned__\", true);\n        }\n    }\n}\n\nfunction longStackTracesDereferenceTrace() {\n    this._trace = undefined;\n}\n\nfunction checkForgottenReturns(returnValue, promiseCreated, name, promise,\n                               parent) {\n    if (returnValue === undefined && promiseCreated !== null &&\n        wForgottenReturn) {\n        if (parent !== undefined && parent._returnedNonUndefined()) return;\n        if ((promise._bitField & 65535) === 0) return;\n\n        if (name) name = name + \" \";\n        var handlerLine = \"\";\n        var creatorLine = \"\";\n        if (promiseCreated._trace) {\n            var traceLines = promiseCreated._trace.stack.split(\"\\n\");\n            var stack = cleanStack(traceLines);\n            for (var i = stack.length - 1; i >= 0; --i) {\n                var line = stack[i];\n                if (!nodeFramePattern.test(line)) {\n                    var lineMatches = line.match(parseLinePattern);\n                    if (lineMatches) {\n                        handlerLine  = \"at \" + lineMatches[1] +\n                            \":\" + lineMatches[2] + \":\" + lineMatches[3] + \" \";\n                    }\n                    break;\n                }\n            }\n\n            if (stack.length > 0) {\n                var firstUserLine = stack[0];\n                for (var i = 0; i < traceLines.length; ++i) {\n\n                    if (traceLines[i] === firstUserLine) {\n                        if (i > 0) {\n                            creatorLine = \"\\n\" + traceLines[i - 1];\n                        }\n                        break;\n                    }\n                }\n\n            }\n        }\n        var msg = \"a promise was created in a \" + name +\n            \"handler \" + handlerLine + \"but was not returned from it, \" +\n            \"see http://goo.gl/rRqMUw\" +\n            creatorLine;\n        promise._warn(msg, true, promiseCreated);\n    }\n}\n\nfunction deprecated(name, replacement) {\n    var message = name +\n        \" is deprecated and will be removed in a future version.\";\n    if (replacement) message += \" Use \" + replacement + \" instead.\";\n    return warn(message);\n}\n\nfunction warn(message, shouldUseOwnTrace, promise) {\n    if (!config.warnings) return;\n    var warning = new Warning(message);\n    var ctx;\n    if (shouldUseOwnTrace) {\n        promise._attachExtraTrace(warning);\n    } else if (config.longStackTraces && (ctx = Promise._peekContext())) {\n        ctx.attachExtraTrace(warning);\n    } else {\n        var parsed = parseStackAndMessage(warning);\n        warning.stack = parsed.message + \"\\n\" + parsed.stack.join(\"\\n\");\n    }\n\n    if (!activeFireEvent(\"warning\", warning)) {\n        formatAndLogError(warning, \"\", true);\n    }\n}\n\nfunction reconstructStack(message, stacks) {\n    for (var i = 0; i < stacks.length - 1; ++i) {\n        stacks[i].push(\"From previous event:\");\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    if (i < stacks.length) {\n        stacks[i] = stacks[i].join(\"\\n\");\n    }\n    return message + \"\\n\" + stacks.join(\"\\n\");\n}\n\nfunction removeDuplicateOrEmptyJumps(stacks) {\n    for (var i = 0; i < stacks.length; ++i) {\n        if (stacks[i].length === 0 ||\n            ((i + 1 < stacks.length) && stacks[i][0] === stacks[i+1][0])) {\n            stacks.splice(i, 1);\n            i--;\n        }\n    }\n}\n\nfunction removeCommonRoots(stacks) {\n    var current = stacks[0];\n    for (var i = 1; i < stacks.length; ++i) {\n        var prev = stacks[i];\n        var currentLastIndex = current.length - 1;\n        var currentLastLine = current[currentLastIndex];\n        var commonRootMeetPoint = -1;\n\n        for (var j = prev.length - 1; j >= 0; --j) {\n            if (prev[j] === currentLastLine) {\n                commonRootMeetPoint = j;\n                break;\n            }\n        }\n\n        for (var j = commonRootMeetPoint; j >= 0; --j) {\n            var line = prev[j];\n            if (current[currentLastIndex] === line) {\n                current.pop();\n                currentLastIndex--;\n            } else {\n                break;\n            }\n        }\n        current = prev;\n    }\n}\n\nfunction cleanStack(stack) {\n    var ret = [];\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        var isTraceLine = \"    (No stack trace)\" === line ||\n            stackFramePattern.test(line);\n        var isInternalFrame = isTraceLine && shouldIgnore(line);\n        if (isTraceLine && !isInternalFrame) {\n            if (indentStackFrames && line.charAt(0) !== \" \") {\n                line = \"    \" + line;\n            }\n            ret.push(line);\n        }\n    }\n    return ret;\n}\n\nfunction stackFramesAsArray(error) {\n    var stack = error.stack.replace(/\\s+$/g, \"\").split(\"\\n\");\n    for (var i = 0; i < stack.length; ++i) {\n        var line = stack[i];\n        if (\"    (No stack trace)\" === line || stackFramePattern.test(line)) {\n            break;\n        }\n    }\n    if (i > 0 && error.name != \"SyntaxError\") {\n        stack = stack.slice(i);\n    }\n    return stack;\n}\n\nfunction parseStackAndMessage(error) {\n    var stack = error.stack;\n    var message = error.toString();\n    stack = typeof stack === \"string\" && stack.length > 0\n                ? stackFramesAsArray(error) : [\"    (No stack trace)\"];\n    return {\n        message: message,\n        stack: error.name == \"SyntaxError\" ? stack : cleanStack(stack)\n    };\n}\n\nfunction formatAndLogError(error, title, isSoft) {\n    if (typeof console !== \"undefined\") {\n        var message;\n        if (util.isObject(error)) {\n            var stack = error.stack;\n            message = title + formatStack(stack, error);\n        } else {\n            message = title + String(error);\n        }\n        if (typeof printWarning === \"function\") {\n            printWarning(message, isSoft);\n        } else if (typeof console.log === \"function\" ||\n            typeof console.log === \"object\") {\n            console.log(message);\n        }\n    }\n}\n\nfunction fireRejectionEvent(name, localHandler, reason, promise) {\n    var localEventFired = false;\n    try {\n        if (typeof localHandler === \"function\") {\n            localEventFired = true;\n            if (name === \"rejectionHandled\") {\n                localHandler(promise);\n            } else {\n                localHandler(reason, promise);\n            }\n        }\n    } catch (e) {\n        async.throwLater(e);\n    }\n\n    if (name === \"unhandledRejection\") {\n        if (!activeFireEvent(name, reason, promise) && !localEventFired) {\n            formatAndLogError(reason, \"Unhandled rejection \");\n        }\n    } else {\n        activeFireEvent(name, promise);\n    }\n}\n\nfunction formatNonError(obj) {\n    var str;\n    if (typeof obj === \"function\") {\n        str = \"[function \" +\n            (obj.name || \"anonymous\") +\n            \"]\";\n    } else {\n        str = obj && typeof obj.toString === \"function\"\n            ? obj.toString() : util.toString(obj);\n        var ruselessToString = /\\[object [a-zA-Z0-9$_]+\\]/;\n        if (ruselessToString.test(str)) {\n            try {\n                var newStr = JSON.stringify(obj);\n                str = newStr;\n            }\n            catch(e) {\n\n            }\n        }\n        if (str.length === 0) {\n            str = \"(empty array)\";\n        }\n    }\n    return (\"(<\" + snip(str) + \">, no stack trace)\");\n}\n\nfunction snip(str) {\n    var maxChars = 41;\n    if (str.length < maxChars) {\n        return str;\n    }\n    return str.substr(0, maxChars - 3) + \"...\";\n}\n\nfunction longStackTracesIsSupported() {\n    return typeof captureStackTrace === \"function\";\n}\n\nvar shouldIgnore = function() { return false; };\nvar parseLineInfoRegex = /[\\/<\\(]([^:\\/]+):(\\d+):(?:\\d+)\\)?\\s*$/;\nfunction parseLineInfo(line) {\n    var matches = line.match(parseLineInfoRegex);\n    if (matches) {\n        return {\n            fileName: matches[1],\n            line: parseInt(matches[2], 10)\n        };\n    }\n}\n\nfunction setBounds(firstLineError, lastLineError) {\n    if (!longStackTracesIsSupported()) return;\n    var firstStackLines = firstLineError.stack.split(\"\\n\");\n    var lastStackLines = lastLineError.stack.split(\"\\n\");\n    var firstIndex = -1;\n    var lastIndex = -1;\n    var firstFileName;\n    var lastFileName;\n    for (var i = 0; i < firstStackLines.length; ++i) {\n        var result = parseLineInfo(firstStackLines[i]);\n        if (result) {\n            firstFileName = result.fileName;\n            firstIndex = result.line;\n            break;\n        }\n    }\n    for (var i = 0; i < lastStackLines.length; ++i) {\n        var result = parseLineInfo(lastStackLines[i]);\n        if (result) {\n            lastFileName = result.fileName;\n            lastIndex = result.line;\n            break;\n        }\n    }\n    if (firstIndex < 0 || lastIndex < 0 || !firstFileName || !lastFileName ||\n        firstFileName !== lastFileName || firstIndex >= lastIndex) {\n        return;\n    }\n\n    shouldIgnore = function(line) {\n        if (bluebirdFramePattern.test(line)) return true;\n        var info = parseLineInfo(line);\n        if (info) {\n            if (info.fileName === firstFileName &&\n                (firstIndex <= info.line && info.line <= lastIndex)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\nfunction CapturedTrace(parent) {\n    this._parent = parent;\n    this._promisesCreated = 0;\n    var length = this._length = 1 + (parent === undefined ? 0 : parent._length);\n    captureStackTrace(this, CapturedTrace);\n    if (length > 32) this.uncycle();\n}\nutil.inherits(CapturedTrace, Error);\nContext.CapturedTrace = CapturedTrace;\n\nCapturedTrace.prototype.uncycle = function() {\n    var length = this._length;\n    if (length < 2) return;\n    var nodes = [];\n    var stackToIndex = {};\n\n    for (var i = 0, node = this; node !== undefined; ++i) {\n        nodes.push(node);\n        node = node._parent;\n    }\n    length = this._length = i;\n    for (var i = length - 1; i >= 0; --i) {\n        var stack = nodes[i].stack;\n        if (stackToIndex[stack] === undefined) {\n            stackToIndex[stack] = i;\n        }\n    }\n    for (var i = 0; i < length; ++i) {\n        var currentStack = nodes[i].stack;\n        var index = stackToIndex[currentStack];\n        if (index !== undefined && index !== i) {\n            if (index > 0) {\n                nodes[index - 1]._parent = undefined;\n                nodes[index - 1]._length = 1;\n            }\n            nodes[i]._parent = undefined;\n            nodes[i]._length = 1;\n            var cycleEdgeNode = i > 0 ? nodes[i - 1] : this;\n\n            if (index < length - 1) {\n                cycleEdgeNode._parent = nodes[index + 1];\n                cycleEdgeNode._parent.uncycle();\n                cycleEdgeNode._length =\n                    cycleEdgeNode._parent._length + 1;\n            } else {\n                cycleEdgeNode._parent = undefined;\n                cycleEdgeNode._length = 1;\n            }\n            var currentChildLength = cycleEdgeNode._length + 1;\n            for (var j = i - 2; j >= 0; --j) {\n                nodes[j]._length = currentChildLength;\n                currentChildLength++;\n            }\n            return;\n        }\n    }\n};\n\nCapturedTrace.prototype.attachExtraTrace = function(error) {\n    if (error.__stackCleaned__) return;\n    this.uncycle();\n    var parsed = parseStackAndMessage(error);\n    var message = parsed.message;\n    var stacks = [parsed.stack];\n\n    var trace = this;\n    while (trace !== undefined) {\n        stacks.push(cleanStack(trace.stack.split(\"\\n\")));\n        trace = trace._parent;\n    }\n    removeCommonRoots(stacks);\n    removeDuplicateOrEmptyJumps(stacks);\n    util.notEnumerableProp(error, \"stack\", reconstructStack(message, stacks));\n    util.notEnumerableProp(error, \"__stackCleaned__\", true);\n};\n\nvar captureStackTrace = (function stackDetection() {\n    var v8stackFramePattern = /^\\s*at\\s*/;\n    var v8stackFormatter = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if (error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    if (typeof Error.stackTraceLimit === \"number\" &&\n        typeof Error.captureStackTrace === \"function\") {\n        Error.stackTraceLimit += 6;\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        var captureStackTrace = Error.captureStackTrace;\n\n        shouldIgnore = function(line) {\n            return bluebirdFramePattern.test(line);\n        };\n        return function(receiver, ignoreUntil) {\n            Error.stackTraceLimit += 6;\n            captureStackTrace(receiver, ignoreUntil);\n            Error.stackTraceLimit -= 6;\n        };\n    }\n    var err = new Error();\n\n    if (typeof err.stack === \"string\" &&\n        err.stack.split(\"\\n\")[0].indexOf(\"stackDetection@\") >= 0) {\n        stackFramePattern = /@/;\n        formatStack = v8stackFormatter;\n        indentStackFrames = true;\n        return function captureStackTrace(o) {\n            o.stack = new Error().stack;\n        };\n    }\n\n    var hasStackAfterThrow;\n    try { throw new Error(); }\n    catch(e) {\n        hasStackAfterThrow = (\"stack\" in e);\n    }\n    if (!(\"stack\" in err) && hasStackAfterThrow &&\n        typeof Error.stackTraceLimit === \"number\") {\n        stackFramePattern = v8stackFramePattern;\n        formatStack = v8stackFormatter;\n        return function captureStackTrace(o) {\n            Error.stackTraceLimit += 6;\n            try { throw new Error(); }\n            catch(e) { o.stack = e.stack; }\n            Error.stackTraceLimit -= 6;\n        };\n    }\n\n    formatStack = function(stack, error) {\n        if (typeof stack === \"string\") return stack;\n\n        if ((typeof error === \"object\" ||\n            typeof error === \"function\") &&\n            error.name !== undefined &&\n            error.message !== undefined) {\n            return error.toString();\n        }\n        return formatNonError(error);\n    };\n\n    return null;\n\n})([]);\n\nif (typeof console !== \"undefined\" && typeof console.warn !== \"undefined\") {\n    printWarning = function (message) {\n        console.warn(message);\n    };\n    if (util.isNode && process.stderr.isTTY) {\n        printWarning = function(message, isSoft) {\n            var color = isSoft ? \"\\u001b[33m\" : \"\\u001b[31m\";\n            console.warn(color + message + \"\\u001b[0m\\n\");\n        };\n    } else if (!util.isNode && typeof (new Error().stack) === \"string\") {\n        printWarning = function(message, isSoft) {\n            console.warn(\"%c\" + message,\n                        isSoft ? \"color: darkorange\" : \"color: red\");\n        };\n    }\n}\n\nvar config = {\n    warnings: warnings,\n    longStackTraces: false,\n    cancellation: false,\n    monitoring: false\n};\n\nif (longStackTraces) Promise.longStackTraces();\n\nreturn {\n    longStackTraces: function() {\n        return config.longStackTraces;\n    },\n    warnings: function() {\n        return config.warnings;\n    },\n    cancellation: function() {\n        return config.cancellation;\n    },\n    monitoring: function() {\n        return config.monitoring;\n    },\n    propagateFromFunction: function() {\n        return propagateFromFunction;\n    },\n    boundValueFunction: function() {\n        return boundValueFunction;\n    },\n    checkForgottenReturns: checkForgottenReturns,\n    setBounds: setBounds,\n    warn: warn,\n    deprecated: deprecated,\n    CapturedTrace: CapturedTrace,\n    fireDomEvent: fireDomEvent,\n    fireGlobalEvent: fireGlobalEvent\n};\n};\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],10:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction returner() {\n    return this.value;\n}\nfunction thrower() {\n    throw this.reason;\n}\n\nPromise.prototype[\"return\"] =\nPromise.prototype.thenReturn = function (value) {\n    if (value instanceof Promise) value.suppressUnhandledRejections();\n    return this._then(\n        returner, undefined, undefined, {value: value}, undefined);\n};\n\nPromise.prototype[\"throw\"] =\nPromise.prototype.thenThrow = function (reason) {\n    return this._then(\n        thrower, undefined, undefined, {reason: reason}, undefined);\n};\n\nPromise.prototype.catchThrow = function (reason) {\n    if (arguments.length <= 1) {\n        return this._then(\n            undefined, thrower, undefined, {reason: reason}, undefined);\n    } else {\n        var _reason = arguments[1];\n        var handler = function() {throw _reason;};\n        return this.caught(reason, handler);\n    }\n};\n\nPromise.prototype.catchReturn = function (value) {\n    if (arguments.length <= 1) {\n        if (value instanceof Promise) value.suppressUnhandledRejections();\n        return this._then(\n            undefined, returner, undefined, {value: value}, undefined);\n    } else {\n        var _value = arguments[1];\n        if (_value instanceof Promise) _value.suppressUnhandledRejections();\n        var handler = function() {return _value;};\n        return this.caught(value, handler);\n    }\n};\n};\n\n},{}],11:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseReduce = Promise.reduce;\nvar PromiseAll = Promise.all;\n\nfunction promiseAllThis() {\n    return PromiseAll(this);\n}\n\nfunction PromiseMapSeries(promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, INTERNAL);\n}\n\nPromise.prototype.each = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, this, undefined);\n};\n\nPromise.prototype.mapSeries = function (fn) {\n    return PromiseReduce(this, fn, INTERNAL, INTERNAL);\n};\n\nPromise.each = function (promises, fn) {\n    return PromiseReduce(promises, fn, INTERNAL, 0)\n              ._then(promiseAllThis, undefined, undefined, promises, undefined);\n};\n\nPromise.mapSeries = PromiseMapSeries;\n};\n\n\n},{}],12:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar Objectfreeze = es5.freeze;\nvar util = _dereq_(\"./util\");\nvar inherits = util.inherits;\nvar notEnumerableProp = util.notEnumerableProp;\n\nfunction subError(nameProperty, defaultMessage) {\n    function SubError(message) {\n        if (!(this instanceof SubError)) return new SubError(message);\n        notEnumerableProp(this, \"message\",\n            typeof message === \"string\" ? message : defaultMessage);\n        notEnumerableProp(this, \"name\", nameProperty);\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, this.constructor);\n        } else {\n            Error.call(this);\n        }\n    }\n    inherits(SubError, Error);\n    return SubError;\n}\n\nvar _TypeError, _RangeError;\nvar Warning = subError(\"Warning\", \"warning\");\nvar CancellationError = subError(\"CancellationError\", \"cancellation error\");\nvar TimeoutError = subError(\"TimeoutError\", \"timeout error\");\nvar AggregateError = subError(\"AggregateError\", \"aggregate error\");\ntry {\n    _TypeError = TypeError;\n    _RangeError = RangeError;\n} catch(e) {\n    _TypeError = subError(\"TypeError\", \"type error\");\n    _RangeError = subError(\"RangeError\", \"range error\");\n}\n\nvar methods = (\"join pop push shift unshift slice filter forEach some \" +\n    \"every map indexOf lastIndexOf reduce reduceRight sort reverse\").split(\" \");\n\nfor (var i = 0; i < methods.length; ++i) {\n    if (typeof Array.prototype[methods[i]] === \"function\") {\n        AggregateError.prototype[methods[i]] = Array.prototype[methods[i]];\n    }\n}\n\nes5.defineProperty(AggregateError.prototype, \"length\", {\n    value: 0,\n    configurable: false,\n    writable: true,\n    enumerable: true\n});\nAggregateError.prototype[\"isOperational\"] = true;\nvar level = 0;\nAggregateError.prototype.toString = function() {\n    var indent = Array(level * 4 + 1).join(\" \");\n    var ret = \"\\n\" + indent + \"AggregateError of:\" + \"\\n\";\n    level++;\n    indent = Array(level * 4 + 1).join(\" \");\n    for (var i = 0; i < this.length; ++i) {\n        var str = this[i] === this ? \"[Circular AggregateError]\" : this[i] + \"\";\n        var lines = str.split(\"\\n\");\n        for (var j = 0; j < lines.length; ++j) {\n            lines[j] = indent + lines[j];\n        }\n        str = lines.join(\"\\n\");\n        ret += str + \"\\n\";\n    }\n    level--;\n    return ret;\n};\n\nfunction OperationalError(message) {\n    if (!(this instanceof OperationalError))\n        return new OperationalError(message);\n    notEnumerableProp(this, \"name\", \"OperationalError\");\n    notEnumerableProp(this, \"message\", message);\n    this.cause = message;\n    this[\"isOperational\"] = true;\n\n    if (message instanceof Error) {\n        notEnumerableProp(this, \"message\", message.message);\n        notEnumerableProp(this, \"stack\", message.stack);\n    } else if (Error.captureStackTrace) {\n        Error.captureStackTrace(this, this.constructor);\n    }\n\n}\ninherits(OperationalError, Error);\n\nvar errorTypes = Error[\"__BluebirdErrorTypes__\"];\nif (!errorTypes) {\n    errorTypes = Objectfreeze({\n        CancellationError: CancellationError,\n        TimeoutError: TimeoutError,\n        OperationalError: OperationalError,\n        RejectionError: OperationalError,\n        AggregateError: AggregateError\n    });\n    es5.defineProperty(Error, \"__BluebirdErrorTypes__\", {\n        value: errorTypes,\n        writable: false,\n        enumerable: false,\n        configurable: false\n    });\n}\n\nmodule.exports = {\n    Error: Error,\n    TypeError: _TypeError,\n    RangeError: _RangeError,\n    CancellationError: errorTypes.CancellationError,\n    OperationalError: errorTypes.OperationalError,\n    TimeoutError: errorTypes.TimeoutError,\n    AggregateError: errorTypes.AggregateError,\n    Warning: Warning\n};\n\n},{\"./es5\":13,\"./util\":36}],13:[function(_dereq_,module,exports){\nvar isES5 = (function(){\n    \"use strict\";\n    return this === undefined;\n})();\n\nif (isES5) {\n    module.exports = {\n        freeze: Object.freeze,\n        defineProperty: Object.defineProperty,\n        getDescriptor: Object.getOwnPropertyDescriptor,\n        keys: Object.keys,\n        names: Object.getOwnPropertyNames,\n        getPrototypeOf: Object.getPrototypeOf,\n        isArray: Array.isArray,\n        isES5: isES5,\n        propertyIsWritable: function(obj, prop) {\n            var descriptor = Object.getOwnPropertyDescriptor(obj, prop);\n            return !!(!descriptor || descriptor.writable || descriptor.set);\n        }\n    };\n} else {\n    var has = {}.hasOwnProperty;\n    var str = {}.toString;\n    var proto = {}.constructor.prototype;\n\n    var ObjectKeys = function (o) {\n        var ret = [];\n        for (var key in o) {\n            if (has.call(o, key)) {\n                ret.push(key);\n            }\n        }\n        return ret;\n    };\n\n    var ObjectGetDescriptor = function(o, key) {\n        return {value: o[key]};\n    };\n\n    var ObjectDefineProperty = function (o, key, desc) {\n        o[key] = desc.value;\n        return o;\n    };\n\n    var ObjectFreeze = function (obj) {\n        return obj;\n    };\n\n    var ObjectGetPrototypeOf = function (obj) {\n        try {\n            return Object(obj).constructor.prototype;\n        }\n        catch (e) {\n            return proto;\n        }\n    };\n\n    var ArrayIsArray = function (obj) {\n        try {\n            return str.call(obj) === \"[object Array]\";\n        }\n        catch(e) {\n            return false;\n        }\n    };\n\n    module.exports = {\n        isArray: ArrayIsArray,\n        keys: ObjectKeys,\n        names: ObjectKeys,\n        defineProperty: ObjectDefineProperty,\n        getDescriptor: ObjectGetDescriptor,\n        freeze: ObjectFreeze,\n        getPrototypeOf: ObjectGetPrototypeOf,\n        isES5: isES5,\n        propertyIsWritable: function() {\n            return true;\n        }\n    };\n}\n\n},{}],14:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar PromiseMap = Promise.map;\n\nPromise.prototype.filter = function (fn, options) {\n    return PromiseMap(this, fn, options, INTERNAL);\n};\n\nPromise.filter = function (promises, fn, options) {\n    return PromiseMap(promises, fn, options, INTERNAL);\n};\n};\n\n},{}],15:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, tryConvertToPromise, NEXT_FILTER) {\nvar util = _dereq_(\"./util\");\nvar CancellationError = Promise.CancellationError;\nvar errorObj = util.errorObj;\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\n\nfunction PassThroughHandlerContext(promise, type, handler) {\n    this.promise = promise;\n    this.type = type;\n    this.handler = handler;\n    this.called = false;\n    this.cancelPromise = null;\n}\n\nPassThroughHandlerContext.prototype.isFinallyHandler = function() {\n    return this.type === 0;\n};\n\nfunction FinallyHandlerCancelReaction(finallyHandler) {\n    this.finallyHandler = finallyHandler;\n}\n\nFinallyHandlerCancelReaction.prototype._resultCancelled = function() {\n    checkCancel(this.finallyHandler);\n};\n\nfunction checkCancel(ctx, reason) {\n    if (ctx.cancelPromise != null) {\n        if (arguments.length > 1) {\n            ctx.cancelPromise._reject(reason);\n        } else {\n            ctx.cancelPromise._cancel();\n        }\n        ctx.cancelPromise = null;\n        return true;\n    }\n    return false;\n}\n\nfunction succeed() {\n    return finallyHandler.call(this, this.promise._target()._settledValue());\n}\nfunction fail(reason) {\n    if (checkCancel(this, reason)) return;\n    errorObj.e = reason;\n    return errorObj;\n}\nfunction finallyHandler(reasonOrValue) {\n    var promise = this.promise;\n    var handler = this.handler;\n\n    if (!this.called) {\n        this.called = true;\n        var ret = this.isFinallyHandler()\n            ? handler.call(promise._boundValue())\n            : handler.call(promise._boundValue(), reasonOrValue);\n        if (ret === NEXT_FILTER) {\n            return ret;\n        } else if (ret !== undefined) {\n            promise._setReturnedNonUndefined();\n            var maybePromise = tryConvertToPromise(ret, promise);\n            if (maybePromise instanceof Promise) {\n                if (this.cancelPromise != null) {\n                    if (maybePromise._isCancelled()) {\n                        var reason =\n                            new CancellationError(\"late cancellation observer\");\n                        promise._attachExtraTrace(reason);\n                        errorObj.e = reason;\n                        return errorObj;\n                    } else if (maybePromise.isPending()) {\n                        maybePromise._attachCancellationCallback(\n                            new FinallyHandlerCancelReaction(this));\n                    }\n                }\n                return maybePromise._then(\n                    succeed, fail, undefined, this, undefined);\n            }\n        }\n    }\n\n    if (promise.isRejected()) {\n        checkCancel(this);\n        errorObj.e = reasonOrValue;\n        return errorObj;\n    } else {\n        checkCancel(this);\n        return reasonOrValue;\n    }\n}\n\nPromise.prototype._passThrough = function(handler, type, success, fail) {\n    if (typeof handler !== \"function\") return this.then();\n    return this._then(success,\n                      fail,\n                      undefined,\n                      new PassThroughHandlerContext(this, type, handler),\n                      undefined);\n};\n\nPromise.prototype.lastly =\nPromise.prototype[\"finally\"] = function (handler) {\n    return this._passThrough(handler,\n                             0,\n                             finallyHandler,\n                             finallyHandler);\n};\n\n\nPromise.prototype.tap = function (handler) {\n    return this._passThrough(handler, 1, finallyHandler);\n};\n\nPromise.prototype.tapCatch = function (handlerOrPredicate) {\n    var len = arguments.length;\n    if(len === 1) {\n        return this._passThrough(handlerOrPredicate,\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    } else {\n         var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return Promise.reject(new TypeError(\n                    \"tapCatch statement predicate: \"\n                    + \"expecting an object but got \" + util.classString(item)\n                ));\n            }\n        }\n        catchInstances.length = j;\n        var handler = arguments[i];\n        return this._passThrough(catchFilter(catchInstances, handler, this),\n                                 1,\n                                 undefined,\n                                 finallyHandler);\n    }\n\n};\n\nreturn PassThroughHandlerContext;\n};\n\n},{\"./catch_filter\":7,\"./util\":36}],16:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          apiRejection,\n                          INTERNAL,\n                          tryConvertToPromise,\n                          Proxyable,\n                          debug) {\nvar errors = _dereq_(\"./errors\");\nvar TypeError = errors.TypeError;\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nvar yieldHandlers = [];\n\nfunction promiseFromYieldHandler(value, yieldHandlers, traceParent) {\n    for (var i = 0; i < yieldHandlers.length; ++i) {\n        traceParent._pushContext();\n        var result = tryCatch(yieldHandlers[i])(value);\n        traceParent._popContext();\n        if (result === errorObj) {\n            traceParent._pushContext();\n            var ret = Promise.reject(errorObj.e);\n            traceParent._popContext();\n            return ret;\n        }\n        var maybePromise = tryConvertToPromise(result, traceParent);\n        if (maybePromise instanceof Promise) return maybePromise;\n    }\n    return null;\n}\n\nfunction PromiseSpawn(generatorFunction, receiver, yieldHandler, stack) {\n    if (debug.cancellation()) {\n        var internal = new Promise(INTERNAL);\n        var _finallyPromise = this._finallyPromise = new Promise(INTERNAL);\n        this._promise = internal.lastly(function() {\n            return _finallyPromise;\n        });\n        internal._captureStackTrace();\n        internal._setOnCancel(this);\n    } else {\n        var promise = this._promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n    }\n    this._stack = stack;\n    this._generatorFunction = generatorFunction;\n    this._receiver = receiver;\n    this._generator = undefined;\n    this._yieldHandlers = typeof yieldHandler === \"function\"\n        ? [yieldHandler].concat(yieldHandlers)\n        : yieldHandlers;\n    this._yieldedPromise = null;\n    this._cancellationPhase = false;\n}\nutil.inherits(PromiseSpawn, Proxyable);\n\nPromiseSpawn.prototype._isResolved = function() {\n    return this._promise === null;\n};\n\nPromiseSpawn.prototype._cleanup = function() {\n    this._promise = this._generator = null;\n    if (debug.cancellation() && this._finallyPromise !== null) {\n        this._finallyPromise._fulfill();\n        this._finallyPromise = null;\n    }\n};\n\nPromiseSpawn.prototype._promiseCancelled = function() {\n    if (this._isResolved()) return;\n    var implementsReturn = typeof this._generator[\"return\"] !== \"undefined\";\n\n    var result;\n    if (!implementsReturn) {\n        var reason = new Promise.CancellationError(\n            \"generator .return() sentinel\");\n        Promise.coroutine.returnSentinel = reason;\n        this._promise._attachExtraTrace(reason);\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"throw\"]).call(this._generator,\n                                                         reason);\n        this._promise._popContext();\n    } else {\n        this._promise._pushContext();\n        result = tryCatch(this._generator[\"return\"]).call(this._generator,\n                                                          undefined);\n        this._promise._popContext();\n    }\n    this._cancellationPhase = true;\n    this._yieldedPromise = null;\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseFulfilled = function(value) {\n    this._yieldedPromise = null;\n    this._promise._pushContext();\n    var result = tryCatch(this._generator.next).call(this._generator, value);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._promiseRejected = function(reason) {\n    this._yieldedPromise = null;\n    this._promise._attachExtraTrace(reason);\n    this._promise._pushContext();\n    var result = tryCatch(this._generator[\"throw\"])\n        .call(this._generator, reason);\n    this._promise._popContext();\n    this._continue(result);\n};\n\nPromiseSpawn.prototype._resultCancelled = function() {\n    if (this._yieldedPromise instanceof Promise) {\n        var promise = this._yieldedPromise;\n        this._yieldedPromise = null;\n        promise.cancel();\n    }\n};\n\nPromiseSpawn.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseSpawn.prototype._run = function () {\n    this._generator = this._generatorFunction.call(this._receiver);\n    this._receiver =\n        this._generatorFunction = undefined;\n    this._promiseFulfilled(undefined);\n};\n\nPromiseSpawn.prototype._continue = function (result) {\n    var promise = this._promise;\n    if (result === errorObj) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._rejectCallback(result.e, false);\n        }\n    }\n\n    var value = result.value;\n    if (result.done === true) {\n        this._cleanup();\n        if (this._cancellationPhase) {\n            return promise.cancel();\n        } else {\n            return promise._resolveCallback(value);\n        }\n    } else {\n        var maybePromise = tryConvertToPromise(value, this._promise);\n        if (!(maybePromise instanceof Promise)) {\n            maybePromise =\n                promiseFromYieldHandler(maybePromise,\n                                        this._yieldHandlers,\n                                        this._promise);\n            if (maybePromise === null) {\n                this._promiseRejected(\n                    new TypeError(\n                        \"A value %s was yielded that could not be treated as a promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\\u000a\".replace(\"%s\", String(value)) +\n                        \"From coroutine:\\u000a\" +\n                        this._stack.split(\"\\n\").slice(1, -7).join(\"\\n\")\n                    )\n                );\n                return;\n            }\n        }\n        maybePromise = maybePromise._target();\n        var bitField = maybePromise._bitField;\n        ;\n        if (((bitField & 50397184) === 0)) {\n            this._yieldedPromise = maybePromise;\n            maybePromise._proxy(this, null);\n        } else if (((bitField & 33554432) !== 0)) {\n            Promise._async.invoke(\n                this._promiseFulfilled, this, maybePromise._value()\n            );\n        } else if (((bitField & 16777216) !== 0)) {\n            Promise._async.invoke(\n                this._promiseRejected, this, maybePromise._reason()\n            );\n        } else {\n            this._promiseCancelled();\n        }\n    }\n};\n\nPromise.coroutine = function (generatorFunction, options) {\n    if (typeof generatorFunction !== \"function\") {\n        throw new TypeError(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var yieldHandler = Object(options).yieldHandler;\n    var PromiseSpawn$ = PromiseSpawn;\n    var stack = new Error().stack;\n    return function () {\n        var generator = generatorFunction.apply(this, arguments);\n        var spawn = new PromiseSpawn$(undefined, undefined, yieldHandler,\n                                      stack);\n        var ret = spawn.promise();\n        spawn._generator = generator;\n        spawn._promiseFulfilled(undefined);\n        return ret;\n    };\n};\n\nPromise.coroutine.addYieldHandler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    yieldHandlers.push(fn);\n};\n\nPromise.spawn = function (generatorFunction) {\n    debug.deprecated(\"Promise.spawn()\", \"Promise.coroutine()\");\n    if (typeof generatorFunction !== \"function\") {\n        return apiRejection(\"generatorFunction must be a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var spawn = new PromiseSpawn(generatorFunction, this);\n    var ret = spawn.promise();\n    spawn._run(Promise.spawn);\n    return ret;\n};\n};\n\n},{\"./errors\":12,\"./util\":36}],17:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, tryConvertToPromise, INTERNAL, async,\n         getDomain) {\nvar util = _dereq_(\"./util\");\nvar canEvaluate = util.canEvaluate;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar reject;\n\nif (!true) {\nif (canEvaluate) {\n    var thenCallback = function(i) {\n        return new Function(\"value\", \"holder\", \"                             \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = value;                                           \\n\\\n            holder.checkFulfillment(this);                                   \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var promiseSetter = function(i) {\n        return new Function(\"promise\", \"holder\", \"                           \\n\\\n            'use strict';                                                    \\n\\\n            holder.pIndex = promise;                                         \\n\\\n            \".replace(/Index/g, i));\n    };\n\n    var generateHolderClass = function(total) {\n        var props = new Array(total);\n        for (var i = 0; i < props.length; ++i) {\n            props[i] = \"this.p\" + (i+1);\n        }\n        var assignment = props.join(\" = \") + \" = null;\";\n        var cancellationCode= \"var promise;\\n\" + props.map(function(prop) {\n            return \"                                                         \\n\\\n                promise = \" + prop + \";                                      \\n\\\n                if (promise instanceof Promise) {                            \\n\\\n                    promise.cancel();                                        \\n\\\n                }                                                            \\n\\\n            \";\n        }).join(\"\\n\");\n        var passedArguments = props.join(\", \");\n        var name = \"Holder$\" + total;\n\n\n        var code = \"return function(tryCatch, errorObj, Promise, async) {    \\n\\\n            'use strict';                                                    \\n\\\n            function [TheName](fn) {                                         \\n\\\n                [TheProperties]                                              \\n\\\n                this.fn = fn;                                                \\n\\\n                this.asyncNeeded = true;                                     \\n\\\n                this.now = 0;                                                \\n\\\n            }                                                                \\n\\\n                                                                             \\n\\\n            [TheName].prototype._callFunction = function(promise) {          \\n\\\n                promise._pushContext();                                      \\n\\\n                var ret = tryCatch(this.fn)([ThePassedArguments]);           \\n\\\n                promise._popContext();                                       \\n\\\n                if (ret === errorObj) {                                      \\n\\\n                    promise._rejectCallback(ret.e, false);                   \\n\\\n                } else {                                                     \\n\\\n                    promise._resolveCallback(ret);                           \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype.checkFulfillment = function(promise) {       \\n\\\n                var now = ++this.now;                                        \\n\\\n                if (now === [TheTotal]) {                                    \\n\\\n                    if (this.asyncNeeded) {                                  \\n\\\n                        async.invoke(this._callFunction, this, promise);     \\n\\\n                    } else {                                                 \\n\\\n                        this._callFunction(promise);                         \\n\\\n                    }                                                        \\n\\\n                                                                             \\n\\\n                }                                                            \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            [TheName].prototype._resultCancelled = function() {              \\n\\\n                [CancellationCode]                                           \\n\\\n            };                                                               \\n\\\n                                                                             \\n\\\n            return [TheName];                                                \\n\\\n        }(tryCatch, errorObj, Promise, async);                               \\n\\\n        \";\n\n        code = code.replace(/\\[TheName\\]/g, name)\n            .replace(/\\[TheTotal\\]/g, total)\n            .replace(/\\[ThePassedArguments\\]/g, passedArguments)\n            .replace(/\\[TheProperties\\]/g, assignment)\n            .replace(/\\[CancellationCode\\]/g, cancellationCode);\n\n        return new Function(\"tryCatch\", \"errorObj\", \"Promise\", \"async\", code)\n                           (tryCatch, errorObj, Promise, async);\n    };\n\n    var holderClasses = [];\n    var thenCallbacks = [];\n    var promiseSetters = [];\n\n    for (var i = 0; i < 8; ++i) {\n        holderClasses.push(generateHolderClass(i + 1));\n        thenCallbacks.push(thenCallback(i + 1));\n        promiseSetters.push(promiseSetter(i + 1));\n    }\n\n    reject = function (reason) {\n        this._reject(reason);\n    };\n}}\n\nPromise.join = function () {\n    var last = arguments.length - 1;\n    var fn;\n    if (last > 0 && typeof arguments[last] === \"function\") {\n        fn = arguments[last];\n        if (!true) {\n            if (last <= 8 && canEvaluate) {\n                var ret = new Promise(INTERNAL);\n                ret._captureStackTrace();\n                var HolderClass = holderClasses[last - 1];\n                var holder = new HolderClass(fn);\n                var callbacks = thenCallbacks;\n\n                for (var i = 0; i < last; ++i) {\n                    var maybePromise = tryConvertToPromise(arguments[i], ret);\n                    if (maybePromise instanceof Promise) {\n                        maybePromise = maybePromise._target();\n                        var bitField = maybePromise._bitField;\n                        ;\n                        if (((bitField & 50397184) === 0)) {\n                            maybePromise._then(callbacks[i], reject,\n                                               undefined, ret, holder);\n                            promiseSetters[i](maybePromise, holder);\n                            holder.asyncNeeded = false;\n                        } else if (((bitField & 33554432) !== 0)) {\n                            callbacks[i].call(ret,\n                                              maybePromise._value(), holder);\n                        } else if (((bitField & 16777216) !== 0)) {\n                            ret._reject(maybePromise._reason());\n                        } else {\n                            ret._cancel();\n                        }\n                    } else {\n                        callbacks[i].call(ret, maybePromise, holder);\n                    }\n                }\n\n                if (!ret._isFateSealed()) {\n                    if (holder.asyncNeeded) {\n                        var domain = getDomain();\n                        if (domain !== null) {\n                            holder.fn = util.domainBind(domain, holder.fn);\n                        }\n                    }\n                    ret._setAsyncGuaranteed();\n                    ret._setOnCancel(holder);\n                }\n                return ret;\n            }\n        }\n    }\n    var args = [].slice.call(arguments);;\n    if (fn) args.pop();\n    var ret = new PromiseArray(args).promise();\n    return fn !== undefined ? ret.spread(fn) : ret;\n};\n\n};\n\n},{\"./util\":36}],18:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\nvar async = Promise._async;\n\nfunction MappingPromiseArray(promises, fn, limit, _filter) {\n    this.constructor$(promises);\n    this._promise._captureStackTrace();\n    var domain = getDomain();\n    this._callback = domain === null ? fn : util.domainBind(domain, fn);\n    this._preservedValues = _filter === INTERNAL\n        ? new Array(this.length())\n        : null;\n    this._limit = limit;\n    this._inFlight = 0;\n    this._queue = [];\n    async.invoke(this._asyncInit, this, undefined);\n}\nutil.inherits(MappingPromiseArray, PromiseArray);\n\nMappingPromiseArray.prototype._asyncInit = function() {\n    this._init$(undefined, -2);\n};\n\nMappingPromiseArray.prototype._init = function () {};\n\nMappingPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var values = this._values;\n    var length = this.length();\n    var preservedValues = this._preservedValues;\n    var limit = this._limit;\n\n    if (index < 0) {\n        index = (index * -1) - 1;\n        values[index] = value;\n        if (limit >= 1) {\n            this._inFlight--;\n            this._drainQueue();\n            if (this._isResolved()) return true;\n        }\n    } else {\n        if (limit >= 1 && this._inFlight >= limit) {\n            values[index] = value;\n            this._queue.push(index);\n            return false;\n        }\n        if (preservedValues !== null) preservedValues[index] = value;\n\n        var promise = this._promise;\n        var callback = this._callback;\n        var receiver = promise._boundValue();\n        promise._pushContext();\n        var ret = tryCatch(callback).call(receiver, value, index, length);\n        var promiseCreated = promise._popContext();\n        debug.checkForgottenReturns(\n            ret,\n            promiseCreated,\n            preservedValues !== null ? \"Promise.filter\" : \"Promise.map\",\n            promise\n        );\n        if (ret === errorObj) {\n            this._reject(ret.e);\n            return true;\n        }\n\n        var maybePromise = tryConvertToPromise(ret, this._promise);\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            var bitField = maybePromise._bitField;\n            ;\n            if (((bitField & 50397184) === 0)) {\n                if (limit >= 1) this._inFlight++;\n                values[index] = maybePromise;\n                maybePromise._proxy(this, (index + 1) * -1);\n                return false;\n            } else if (((bitField & 33554432) !== 0)) {\n                ret = maybePromise._value();\n            } else if (((bitField & 16777216) !== 0)) {\n                this._reject(maybePromise._reason());\n                return true;\n            } else {\n                this._cancel();\n                return true;\n            }\n        }\n        values[index] = ret;\n    }\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= length) {\n        if (preservedValues !== null) {\n            this._filter(values, preservedValues);\n        } else {\n            this._resolve(values);\n        }\n        return true;\n    }\n    return false;\n};\n\nMappingPromiseArray.prototype._drainQueue = function () {\n    var queue = this._queue;\n    var limit = this._limit;\n    var values = this._values;\n    while (queue.length > 0 && this._inFlight < limit) {\n        if (this._isResolved()) return;\n        var index = queue.pop();\n        this._promiseFulfilled(values[index], index);\n    }\n};\n\nMappingPromiseArray.prototype._filter = function (booleans, values) {\n    var len = values.length;\n    var ret = new Array(len);\n    var j = 0;\n    for (var i = 0; i < len; ++i) {\n        if (booleans[i]) ret[j++] = values[i];\n    }\n    ret.length = j;\n    this._resolve(ret);\n};\n\nMappingPromiseArray.prototype.preservedValues = function () {\n    return this._preservedValues;\n};\n\nfunction map(promises, fn, options, _filter) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n\n    var limit = 0;\n    if (options !== undefined) {\n        if (typeof options === \"object\" && options !== null) {\n            if (typeof options.concurrency !== \"number\") {\n                return Promise.reject(\n                    new TypeError(\"'concurrency' must be a number but it is \" +\n                                    util.classString(options.concurrency)));\n            }\n            limit = options.concurrency;\n        } else {\n            return Promise.reject(new TypeError(\n                            \"options argument must be an object but it is \" +\n                             util.classString(options)));\n        }\n    }\n    limit = typeof limit === \"number\" &&\n        isFinite(limit) && limit >= 1 ? limit : 0;\n    return new MappingPromiseArray(promises, fn, limit, _filter).promise();\n}\n\nPromise.prototype.map = function (fn, options) {\n    return map(this, fn, options, null);\n};\n\nPromise.map = function (promises, fn, options, _filter) {\n    return map(promises, fn, options, _filter);\n};\n\n\n};\n\n},{\"./util\":36}],19:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, INTERNAL, tryConvertToPromise, apiRejection, debug) {\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nPromise.method = function (fn) {\n    if (typeof fn !== \"function\") {\n        throw new Promise.TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return function () {\n        var ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._pushContext();\n        var value = tryCatch(fn).apply(this, arguments);\n        var promiseCreated = ret._popContext();\n        debug.checkForgottenReturns(\n            value, promiseCreated, \"Promise.method\", ret);\n        ret._resolveFromSyncValue(value);\n        return ret;\n    };\n};\n\nPromise.attempt = Promise[\"try\"] = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._pushContext();\n    var value;\n    if (arguments.length > 1) {\n        debug.deprecated(\"calling Promise.try with more than 1 argument\");\n        var arg = arguments[1];\n        var ctx = arguments[2];\n        value = util.isArray(arg) ? tryCatch(fn).apply(ctx, arg)\n                                  : tryCatch(fn).call(ctx, arg);\n    } else {\n        value = tryCatch(fn)();\n    }\n    var promiseCreated = ret._popContext();\n    debug.checkForgottenReturns(\n        value, promiseCreated, \"Promise.try\", ret);\n    ret._resolveFromSyncValue(value);\n    return ret;\n};\n\nPromise.prototype._resolveFromSyncValue = function (value) {\n    if (value === util.errorObj) {\n        this._rejectCallback(value.e, false);\n    } else {\n        this._resolveCallback(value, true);\n    }\n};\n};\n\n},{\"./util\":36}],20:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar errors = _dereq_(\"./errors\");\nvar OperationalError = errors.OperationalError;\nvar es5 = _dereq_(\"./es5\");\n\nfunction isUntypedError(obj) {\n    return obj instanceof Error &&\n        es5.getPrototypeOf(obj) === Error.prototype;\n}\n\nvar rErrorKey = /^(?:name|message|stack|cause)$/;\nfunction wrapAsOperationalError(obj) {\n    var ret;\n    if (isUntypedError(obj)) {\n        ret = new OperationalError(obj);\n        ret.name = obj.name;\n        ret.message = obj.message;\n        ret.stack = obj.stack;\n        var keys = es5.keys(obj);\n        for (var i = 0; i < keys.length; ++i) {\n            var key = keys[i];\n            if (!rErrorKey.test(key)) {\n                ret[key] = obj[key];\n            }\n        }\n        return ret;\n    }\n    util.markAsOriginatingFromRejection(obj);\n    return obj;\n}\n\nfunction nodebackForPromise(promise, multiArgs) {\n    return function(err, value) {\n        if (promise === null) return;\n        if (err) {\n            var wrapped = wrapAsOperationalError(maybeWrapAsError(err));\n            promise._attachExtraTrace(wrapped);\n            promise._reject(wrapped);\n        } else if (!multiArgs) {\n            promise._fulfill(value);\n        } else {\n            var args = [].slice.call(arguments, 1);;\n            promise._fulfill(args);\n        }\n        promise = null;\n    };\n}\n\nmodule.exports = nodebackForPromise;\n\n},{\"./errors\":12,\"./es5\":13,\"./util\":36}],21:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nvar util = _dereq_(\"./util\");\nvar async = Promise._async;\nvar tryCatch = util.tryCatch;\nvar errorObj = util.errorObj;\n\nfunction spreadAdapter(val, nodeback) {\n    var promise = this;\n    if (!util.isArray(val)) return successAdapter.call(promise, val, nodeback);\n    var ret =\n        tryCatch(nodeback).apply(promise._boundValue(), [null].concat(val));\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nfunction successAdapter(val, nodeback) {\n    var promise = this;\n    var receiver = promise._boundValue();\n    var ret = val === undefined\n        ? tryCatch(nodeback).call(receiver, null)\n        : tryCatch(nodeback).call(receiver, null, val);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\nfunction errorAdapter(reason, nodeback) {\n    var promise = this;\n    if (!reason) {\n        var newReason = new Error(reason + \"\");\n        newReason.cause = reason;\n        reason = newReason;\n    }\n    var ret = tryCatch(nodeback).call(promise._boundValue(), reason);\n    if (ret === errorObj) {\n        async.throwLater(ret.e);\n    }\n}\n\nPromise.prototype.asCallback = Promise.prototype.nodeify = function (nodeback,\n                                                                     options) {\n    if (typeof nodeback == \"function\") {\n        var adapter = successAdapter;\n        if (options !== undefined && Object(options).spread) {\n            adapter = spreadAdapter;\n        }\n        this._then(\n            adapter,\n            errorAdapter,\n            undefined,\n            this,\n            nodeback\n        );\n    }\n    return this;\n};\n};\n\n},{\"./util\":36}],22:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function() {\nvar makeSelfResolutionError = function () {\n    return new TypeError(\"circular promise resolution chain\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar reflectHandler = function() {\n    return new Promise.PromiseInspection(this._target());\n};\nvar apiRejection = function(msg) {\n    return Promise.reject(new TypeError(msg));\n};\nfunction Proxyable() {}\nvar UNDEFINED_BINDING = {};\nvar util = _dereq_(\"./util\");\n\nvar getDomain;\nif (util.isNode) {\n    getDomain = function() {\n        var ret = process.domain;\n        if (ret === undefined) ret = null;\n        return ret;\n    };\n} else {\n    getDomain = function() {\n        return null;\n    };\n}\nutil.notEnumerableProp(Promise, \"_getDomain\", getDomain);\n\nvar es5 = _dereq_(\"./es5\");\nvar Async = _dereq_(\"./async\");\nvar async = new Async();\nes5.defineProperty(Promise, \"_async\", {value: async});\nvar errors = _dereq_(\"./errors\");\nvar TypeError = Promise.TypeError = errors.TypeError;\nPromise.RangeError = errors.RangeError;\nvar CancellationError = Promise.CancellationError = errors.CancellationError;\nPromise.TimeoutError = errors.TimeoutError;\nPromise.OperationalError = errors.OperationalError;\nPromise.RejectionError = errors.OperationalError;\nPromise.AggregateError = errors.AggregateError;\nvar INTERNAL = function(){};\nvar APPLY = {};\nvar NEXT_FILTER = {};\nvar tryConvertToPromise = _dereq_(\"./thenables\")(Promise, INTERNAL);\nvar PromiseArray =\n    _dereq_(\"./promise_array\")(Promise, INTERNAL,\n                               tryConvertToPromise, apiRejection, Proxyable);\nvar Context = _dereq_(\"./context\")(Promise);\n /*jshint unused:false*/\nvar createContext = Context.create;\nvar debug = _dereq_(\"./debuggability\")(Promise, Context);\nvar CapturedTrace = debug.CapturedTrace;\nvar PassThroughHandlerContext =\n    _dereq_(\"./finally\")(Promise, tryConvertToPromise, NEXT_FILTER);\nvar catchFilter = _dereq_(\"./catch_filter\")(NEXT_FILTER);\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar errorObj = util.errorObj;\nvar tryCatch = util.tryCatch;\nfunction check(self, executor) {\n    if (self == null || self.constructor !== Promise) {\n        throw new TypeError(\"the promise constructor cannot be invoked directly\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    if (typeof executor !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(executor));\n    }\n\n}\n\nfunction Promise(executor) {\n    if (executor !== INTERNAL) {\n        check(this, executor);\n    }\n    this._bitField = 0;\n    this._fulfillmentHandler0 = undefined;\n    this._rejectionHandler0 = undefined;\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._resolveFromExecutor(executor);\n    this._promiseCreated();\n    this._fireEvent(\"promiseCreated\", this);\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.caught = Promise.prototype[\"catch\"] = function (fn) {\n    var len = arguments.length;\n    if (len > 1) {\n        var catchInstances = new Array(len - 1),\n            j = 0, i;\n        for (i = 0; i < len - 1; ++i) {\n            var item = arguments[i];\n            if (util.isObject(item)) {\n                catchInstances[j++] = item;\n            } else {\n                return apiRejection(\"Catch statement predicate: \" +\n                    \"expecting an object but got \" + util.classString(item));\n            }\n        }\n        catchInstances.length = j;\n        fn = arguments[i];\n        return this.then(undefined, catchFilter(catchInstances, fn, this));\n    }\n    return this.then(undefined, fn);\n};\n\nPromise.prototype.reflect = function () {\n    return this._then(reflectHandler,\n        reflectHandler, undefined, this, undefined);\n};\n\nPromise.prototype.then = function (didFulfill, didReject) {\n    if (debug.warnings() && arguments.length > 0 &&\n        typeof didFulfill !== \"function\" &&\n        typeof didReject !== \"function\") {\n        var msg = \".then() only accepts functions but was passed: \" +\n                util.classString(didFulfill);\n        if (arguments.length > 1) {\n            msg += \", \" + util.classString(didReject);\n        }\n        this._warn(msg);\n    }\n    return this._then(didFulfill, didReject, undefined, undefined, undefined);\n};\n\nPromise.prototype.done = function (didFulfill, didReject) {\n    var promise =\n        this._then(didFulfill, didReject, undefined, undefined, undefined);\n    promise._setIsFinal();\n};\n\nPromise.prototype.spread = function (fn) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    return this.all()._then(fn, undefined, undefined, APPLY, undefined);\n};\n\nPromise.prototype.toJSON = function () {\n    var ret = {\n        isFulfilled: false,\n        isRejected: false,\n        fulfillmentValue: undefined,\n        rejectionReason: undefined\n    };\n    if (this.isFulfilled()) {\n        ret.fulfillmentValue = this.value();\n        ret.isFulfilled = true;\n    } else if (this.isRejected()) {\n        ret.rejectionReason = this.reason();\n        ret.isRejected = true;\n    }\n    return ret;\n};\n\nPromise.prototype.all = function () {\n    if (arguments.length > 0) {\n        this._warn(\".all() was passed arguments but it does not take any\");\n    }\n    return new PromiseArray(this).promise();\n};\n\nPromise.prototype.error = function (fn) {\n    return this.caught(util.originatesFromRejection, fn);\n};\n\nPromise.getNewLibraryCopy = module.exports;\n\nPromise.is = function (val) {\n    return val instanceof Promise;\n};\n\nPromise.fromNode = Promise.fromCallback = function(fn) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    var multiArgs = arguments.length > 1 ? !!Object(arguments[1]).multiArgs\n                                         : false;\n    var result = tryCatch(fn)(nodebackForPromise(ret, multiArgs));\n    if (result === errorObj) {\n        ret._rejectCallback(result.e, true);\n    }\n    if (!ret._isFateSealed()) ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.all = function (promises) {\n    return new PromiseArray(promises).promise();\n};\n\nPromise.cast = function (obj) {\n    var ret = tryConvertToPromise(obj);\n    if (!(ret instanceof Promise)) {\n        ret = new Promise(INTERNAL);\n        ret._captureStackTrace();\n        ret._setFulfilled();\n        ret._rejectionHandler0 = obj;\n    }\n    return ret;\n};\n\nPromise.resolve = Promise.fulfilled = Promise.cast;\n\nPromise.reject = Promise.rejected = function (reason) {\n    var ret = new Promise(INTERNAL);\n    ret._captureStackTrace();\n    ret._rejectCallback(reason, true);\n    return ret;\n};\n\nPromise.setScheduler = function(fn) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    return async.setScheduler(fn);\n};\n\nPromise.prototype._then = function (\n    didFulfill,\n    didReject,\n    _,    receiver,\n    internalData\n) {\n    var haveInternalData = internalData !== undefined;\n    var promise = haveInternalData ? internalData : new Promise(INTERNAL);\n    var target = this._target();\n    var bitField = target._bitField;\n\n    if (!haveInternalData) {\n        promise._propagateFrom(this, 3);\n        promise._captureStackTrace();\n        if (receiver === undefined &&\n            ((this._bitField & 2097152) !== 0)) {\n            if (!((bitField & 50397184) === 0)) {\n                receiver = this._boundValue();\n            } else {\n                receiver = target === this ? undefined : this._boundTo;\n            }\n        }\n        this._fireEvent(\"promiseChained\", this, promise);\n    }\n\n    var domain = getDomain();\n    if (!((bitField & 50397184) === 0)) {\n        var handler, value, settler = target._settlePromiseCtx;\n        if (((bitField & 33554432) !== 0)) {\n            value = target._rejectionHandler0;\n            handler = didFulfill;\n        } else if (((bitField & 16777216) !== 0)) {\n            value = target._fulfillmentHandler0;\n            handler = didReject;\n            target._unsetRejectionIsUnhandled();\n        } else {\n            settler = target._settlePromiseLateCancellationObserver;\n            value = new CancellationError(\"late cancellation observer\");\n            target._attachExtraTrace(value);\n            handler = didReject;\n        }\n\n        async.invoke(settler, target, {\n            handler: domain === null ? handler\n                : (typeof handler === \"function\" &&\n                    util.domainBind(domain, handler)),\n            promise: promise,\n            receiver: receiver,\n            value: value\n        });\n    } else {\n        target._addCallbacks(didFulfill, didReject, promise, receiver, domain);\n    }\n\n    return promise;\n};\n\nPromise.prototype._length = function () {\n    return this._bitField & 65535;\n};\n\nPromise.prototype._isFateSealed = function () {\n    return (this._bitField & 117506048) !== 0;\n};\n\nPromise.prototype._isFollowing = function () {\n    return (this._bitField & 67108864) === 67108864;\n};\n\nPromise.prototype._setLength = function (len) {\n    this._bitField = (this._bitField & -65536) |\n        (len & 65535);\n};\n\nPromise.prototype._setFulfilled = function () {\n    this._bitField = this._bitField | 33554432;\n    this._fireEvent(\"promiseFulfilled\", this);\n};\n\nPromise.prototype._setRejected = function () {\n    this._bitField = this._bitField | 16777216;\n    this._fireEvent(\"promiseRejected\", this);\n};\n\nPromise.prototype._setFollowing = function () {\n    this._bitField = this._bitField | 67108864;\n    this._fireEvent(\"promiseResolved\", this);\n};\n\nPromise.prototype._setIsFinal = function () {\n    this._bitField = this._bitField | 4194304;\n};\n\nPromise.prototype._isFinal = function () {\n    return (this._bitField & 4194304) > 0;\n};\n\nPromise.prototype._unsetCancelled = function() {\n    this._bitField = this._bitField & (~65536);\n};\n\nPromise.prototype._setCancelled = function() {\n    this._bitField = this._bitField | 65536;\n    this._fireEvent(\"promiseCancelled\", this);\n};\n\nPromise.prototype._setWillBeCancelled = function() {\n    this._bitField = this._bitField | 8388608;\n};\n\nPromise.prototype._setAsyncGuaranteed = function() {\n    if (async.hasCustomScheduler()) return;\n    this._bitField = this._bitField | 134217728;\n};\n\nPromise.prototype._receiverAt = function (index) {\n    var ret = index === 0 ? this._receiver0 : this[\n            index * 4 - 4 + 3];\n    if (ret === UNDEFINED_BINDING) {\n        return undefined;\n    } else if (ret === undefined && this._isBound()) {\n        return this._boundValue();\n    }\n    return ret;\n};\n\nPromise.prototype._promiseAt = function (index) {\n    return this[\n            index * 4 - 4 + 2];\n};\n\nPromise.prototype._fulfillmentHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 0];\n};\n\nPromise.prototype._rejectionHandlerAt = function (index) {\n    return this[\n            index * 4 - 4 + 1];\n};\n\nPromise.prototype._boundValue = function() {};\n\nPromise.prototype._migrateCallback0 = function (follower) {\n    var bitField = follower._bitField;\n    var fulfill = follower._fulfillmentHandler0;\n    var reject = follower._rejectionHandler0;\n    var promise = follower._promise0;\n    var receiver = follower._receiverAt(0);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._migrateCallbackAt = function (follower, index) {\n    var fulfill = follower._fulfillmentHandlerAt(index);\n    var reject = follower._rejectionHandlerAt(index);\n    var promise = follower._promiseAt(index);\n    var receiver = follower._receiverAt(index);\n    if (receiver === undefined) receiver = UNDEFINED_BINDING;\n    this._addCallbacks(fulfill, reject, promise, receiver, null);\n};\n\nPromise.prototype._addCallbacks = function (\n    fulfill,\n    reject,\n    promise,\n    receiver,\n    domain\n) {\n    var index = this._length();\n\n    if (index >= 65535 - 4) {\n        index = 0;\n        this._setLength(0);\n    }\n\n    if (index === 0) {\n        this._promise0 = promise;\n        this._receiver0 = receiver;\n        if (typeof fulfill === \"function\") {\n            this._fulfillmentHandler0 =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this._rejectionHandler0 =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    } else {\n        var base = index * 4 - 4;\n        this[base + 2] = promise;\n        this[base + 3] = receiver;\n        if (typeof fulfill === \"function\") {\n            this[base + 0] =\n                domain === null ? fulfill : util.domainBind(domain, fulfill);\n        }\n        if (typeof reject === \"function\") {\n            this[base + 1] =\n                domain === null ? reject : util.domainBind(domain, reject);\n        }\n    }\n    this._setLength(index + 1);\n    return index;\n};\n\nPromise.prototype._proxy = function (proxyable, arg) {\n    this._addCallbacks(undefined, undefined, arg, proxyable, null);\n};\n\nPromise.prototype._resolveCallback = function(value, shouldBind) {\n    if (((this._bitField & 117506048) !== 0)) return;\n    if (value === this)\n        return this._rejectCallback(makeSelfResolutionError(), false);\n    var maybePromise = tryConvertToPromise(value, this);\n    if (!(maybePromise instanceof Promise)) return this._fulfill(value);\n\n    if (shouldBind) this._propagateFrom(maybePromise, 2);\n\n    var promise = maybePromise._target();\n\n    if (promise === this) {\n        this._reject(makeSelfResolutionError());\n        return;\n    }\n\n    var bitField = promise._bitField;\n    if (((bitField & 50397184) === 0)) {\n        var len = this._length();\n        if (len > 0) promise._migrateCallback0(this);\n        for (var i = 1; i < len; ++i) {\n            promise._migrateCallbackAt(this, i);\n        }\n        this._setFollowing();\n        this._setLength(0);\n        this._setFollowee(promise);\n    } else if (((bitField & 33554432) !== 0)) {\n        this._fulfill(promise._value());\n    } else if (((bitField & 16777216) !== 0)) {\n        this._reject(promise._reason());\n    } else {\n        var reason = new CancellationError(\"late cancellation observer\");\n        promise._attachExtraTrace(reason);\n        this._reject(reason);\n    }\n};\n\nPromise.prototype._rejectCallback =\nfunction(reason, synchronous, ignoreNonErrorWarnings) {\n    var trace = util.ensureErrorObject(reason);\n    var hasStack = trace === reason;\n    if (!hasStack && !ignoreNonErrorWarnings && debug.warnings()) {\n        var message = \"a promise was rejected with a non-error: \" +\n            util.classString(reason);\n        this._warn(message, true);\n    }\n    this._attachExtraTrace(trace, synchronous ? hasStack : false);\n    this._reject(reason);\n};\n\nPromise.prototype._resolveFromExecutor = function (executor) {\n    if (executor === INTERNAL) return;\n    var promise = this;\n    this._captureStackTrace();\n    this._pushContext();\n    var synchronous = true;\n    var r = this._execute(executor, function(value) {\n        promise._resolveCallback(value);\n    }, function (reason) {\n        promise._rejectCallback(reason, synchronous);\n    });\n    synchronous = false;\n    this._popContext();\n\n    if (r !== undefined) {\n        promise._rejectCallback(r, true);\n    }\n};\n\nPromise.prototype._settlePromiseFromHandler = function (\n    handler, receiver, value, promise\n) {\n    var bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n    promise._pushContext();\n    var x;\n    if (receiver === APPLY) {\n        if (!value || typeof value.length !== \"number\") {\n            x = errorObj;\n            x.e = new TypeError(\"cannot .spread() a non-array: \" +\n                                    util.classString(value));\n        } else {\n            x = tryCatch(handler).apply(this._boundValue(), value);\n        }\n    } else {\n        x = tryCatch(handler).call(receiver, value);\n    }\n    var promiseCreated = promise._popContext();\n    bitField = promise._bitField;\n    if (((bitField & 65536) !== 0)) return;\n\n    if (x === NEXT_FILTER) {\n        promise._reject(value);\n    } else if (x === errorObj) {\n        promise._rejectCallback(x.e, false);\n    } else {\n        debug.checkForgottenReturns(x, promiseCreated, \"\",  promise, this);\n        promise._resolveCallback(x);\n    }\n};\n\nPromise.prototype._target = function() {\n    var ret = this;\n    while (ret._isFollowing()) ret = ret._followee();\n    return ret;\n};\n\nPromise.prototype._followee = function() {\n    return this._rejectionHandler0;\n};\n\nPromise.prototype._setFollowee = function(promise) {\n    this._rejectionHandler0 = promise;\n};\n\nPromise.prototype._settlePromise = function(promise, handler, receiver, value) {\n    var isPromise = promise instanceof Promise;\n    var bitField = this._bitField;\n    var asyncGuaranteed = ((bitField & 134217728) !== 0);\n    if (((bitField & 65536) !== 0)) {\n        if (isPromise) promise._invokeInternalOnCancel();\n\n        if (receiver instanceof PassThroughHandlerContext &&\n            receiver.isFinallyHandler()) {\n            receiver.cancelPromise = promise;\n            if (tryCatch(handler).call(receiver, value) === errorObj) {\n                promise._reject(errorObj.e);\n            }\n        } else if (handler === reflectHandler) {\n            promise._fulfill(reflectHandler.call(receiver));\n        } else if (receiver instanceof Proxyable) {\n            receiver._promiseCancelled(promise);\n        } else if (isPromise || promise instanceof PromiseArray) {\n            promise._cancel();\n        } else {\n            receiver.cancel();\n        }\n    } else if (typeof handler === \"function\") {\n        if (!isPromise) {\n            handler.call(receiver, value, promise);\n        } else {\n            if (asyncGuaranteed) promise._setAsyncGuaranteed();\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (receiver instanceof Proxyable) {\n        if (!receiver._isResolved()) {\n            if (((bitField & 33554432) !== 0)) {\n                receiver._promiseFulfilled(value, promise);\n            } else {\n                receiver._promiseRejected(value, promise);\n            }\n        }\n    } else if (isPromise) {\n        if (asyncGuaranteed) promise._setAsyncGuaranteed();\n        if (((bitField & 33554432) !== 0)) {\n            promise._fulfill(value);\n        } else {\n            promise._reject(value);\n        }\n    }\n};\n\nPromise.prototype._settlePromiseLateCancellationObserver = function(ctx) {\n    var handler = ctx.handler;\n    var promise = ctx.promise;\n    var receiver = ctx.receiver;\n    var value = ctx.value;\n    if (typeof handler === \"function\") {\n        if (!(promise instanceof Promise)) {\n            handler.call(receiver, value, promise);\n        } else {\n            this._settlePromiseFromHandler(handler, receiver, value, promise);\n        }\n    } else if (promise instanceof Promise) {\n        promise._reject(value);\n    }\n};\n\nPromise.prototype._settlePromiseCtx = function(ctx) {\n    this._settlePromise(ctx.promise, ctx.handler, ctx.receiver, ctx.value);\n};\n\nPromise.prototype._settlePromise0 = function(handler, value, bitField) {\n    var promise = this._promise0;\n    var receiver = this._receiverAt(0);\n    this._promise0 = undefined;\n    this._receiver0 = undefined;\n    this._settlePromise(promise, handler, receiver, value);\n};\n\nPromise.prototype._clearCallbackDataAtIndex = function(index) {\n    var base = index * 4 - 4;\n    this[base + 2] =\n    this[base + 3] =\n    this[base + 0] =\n    this[base + 1] = undefined;\n};\n\nPromise.prototype._fulfill = function (value) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    if (value === this) {\n        var err = makeSelfResolutionError();\n        this._attachExtraTrace(err);\n        return this._reject(err);\n    }\n    this._setFulfilled();\n    this._rejectionHandler0 = value;\n\n    if ((bitField & 65535) > 0) {\n        if (((bitField & 134217728) !== 0)) {\n            this._settlePromises();\n        } else {\n            async.settlePromises(this);\n        }\n        this._dereferenceTrace();\n    }\n};\n\nPromise.prototype._reject = function (reason) {\n    var bitField = this._bitField;\n    if (((bitField & 117506048) >>> 16)) return;\n    this._setRejected();\n    this._fulfillmentHandler0 = reason;\n\n    if (this._isFinal()) {\n        return async.fatalError(reason, util.isNode);\n    }\n\n    if ((bitField & 65535) > 0) {\n        async.settlePromises(this);\n    } else {\n        this._ensurePossibleRejectionHandled();\n    }\n};\n\nPromise.prototype._fulfillPromises = function (len, value) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._fulfillmentHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, value);\n    }\n};\n\nPromise.prototype._rejectPromises = function (len, reason) {\n    for (var i = 1; i < len; i++) {\n        var handler = this._rejectionHandlerAt(i);\n        var promise = this._promiseAt(i);\n        var receiver = this._receiverAt(i);\n        this._clearCallbackDataAtIndex(i);\n        this._settlePromise(promise, handler, receiver, reason);\n    }\n};\n\nPromise.prototype._settlePromises = function () {\n    var bitField = this._bitField;\n    var len = (bitField & 65535);\n\n    if (len > 0) {\n        if (((bitField & 16842752) !== 0)) {\n            var reason = this._fulfillmentHandler0;\n            this._settlePromise0(this._rejectionHandler0, reason, bitField);\n            this._rejectPromises(len, reason);\n        } else {\n            var value = this._rejectionHandler0;\n            this._settlePromise0(this._fulfillmentHandler0, value, bitField);\n            this._fulfillPromises(len, value);\n        }\n        this._setLength(0);\n    }\n    this._clearCancellationData();\n};\n\nPromise.prototype._settledValue = function() {\n    var bitField = this._bitField;\n    if (((bitField & 33554432) !== 0)) {\n        return this._rejectionHandler0;\n    } else if (((bitField & 16777216) !== 0)) {\n        return this._fulfillmentHandler0;\n    }\n};\n\nfunction deferResolve(v) {this.promise._resolveCallback(v);}\nfunction deferReject(v) {this.promise._rejectCallback(v, false);}\n\nPromise.defer = Promise.pending = function() {\n    debug.deprecated(\"Promise.defer\", \"new Promise\");\n    var promise = new Promise(INTERNAL);\n    return {\n        promise: promise,\n        resolve: deferResolve,\n        reject: deferReject\n    };\n};\n\nutil.notEnumerableProp(Promise,\n                       \"_makeSelfResolutionError\",\n                       makeSelfResolutionError);\n\n_dereq_(\"./method\")(Promise, INTERNAL, tryConvertToPromise, apiRejection,\n    debug);\n_dereq_(\"./bind\")(Promise, INTERNAL, tryConvertToPromise, debug);\n_dereq_(\"./cancel\")(Promise, PromiseArray, apiRejection, debug);\n_dereq_(\"./direct_resolve\")(Promise);\n_dereq_(\"./synchronous_inspection\")(Promise);\n_dereq_(\"./join\")(\n    Promise, PromiseArray, tryConvertToPromise, INTERNAL, async, getDomain);\nPromise.Promise = Promise;\nPromise.version = \"3.5.3\";\n_dereq_('./map.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./call_get.js')(Promise);\n_dereq_('./using.js')(Promise, apiRejection, tryConvertToPromise, createContext, INTERNAL, debug);\n_dereq_('./timers.js')(Promise, INTERNAL, debug);\n_dereq_('./generators.js')(Promise, apiRejection, INTERNAL, tryConvertToPromise, Proxyable, debug);\n_dereq_('./nodeify.js')(Promise);\n_dereq_('./promisify.js')(Promise, INTERNAL);\n_dereq_('./props.js')(Promise, PromiseArray, tryConvertToPromise, apiRejection);\n_dereq_('./race.js')(Promise, INTERNAL, tryConvertToPromise, apiRejection);\n_dereq_('./reduce.js')(Promise, PromiseArray, apiRejection, tryConvertToPromise, INTERNAL, debug);\n_dereq_('./settle.js')(Promise, PromiseArray, debug);\n_dereq_('./some.js')(Promise, PromiseArray, apiRejection);\n_dereq_('./filter.js')(Promise, INTERNAL);\n_dereq_('./each.js')(Promise, INTERNAL);\n_dereq_('./any.js')(Promise);\n                                                         \n    util.toFastProperties(Promise);                                          \n    util.toFastProperties(Promise.prototype);                                \n    function fillTypes(value) {                                              \n        var p = new Promise(INTERNAL);                                       \n        p._fulfillmentHandler0 = value;                                      \n        p._rejectionHandler0 = value;                                        \n        p._promise0 = value;                                                 \n        p._receiver0 = value;                                                \n    }                                                                        \n    // Complete slack tracking, opt out of field-type tracking and           \n    // stabilize map                                                         \n    fillTypes({a: 1});                                                       \n    fillTypes({b: 2});                                                       \n    fillTypes({c: 3});                                                       \n    fillTypes(1);                                                            \n    fillTypes(function(){});                                                 \n    fillTypes(undefined);                                                    \n    fillTypes(false);                                                        \n    fillTypes(new Promise(INTERNAL));                                        \n    debug.setBounds(Async.firstLineError, util.lastLineError);               \n    return Promise;                                                          \n\n};\n\n},{\"./any.js\":1,\"./async\":2,\"./bind\":3,\"./call_get.js\":5,\"./cancel\":6,\"./catch_filter\":7,\"./context\":8,\"./debuggability\":9,\"./direct_resolve\":10,\"./each.js\":11,\"./errors\":12,\"./es5\":13,\"./filter.js\":14,\"./finally\":15,\"./generators.js\":16,\"./join\":17,\"./map.js\":18,\"./method\":19,\"./nodeback\":20,\"./nodeify.js\":21,\"./promise_array\":23,\"./promisify.js\":24,\"./props.js\":25,\"./race.js\":27,\"./reduce.js\":28,\"./settle.js\":30,\"./some.js\":31,\"./synchronous_inspection\":32,\"./thenables\":33,\"./timers.js\":34,\"./using.js\":35,\"./util\":36}],23:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, tryConvertToPromise,\n    apiRejection, Proxyable) {\nvar util = _dereq_(\"./util\");\nvar isArray = util.isArray;\n\nfunction toResolutionValue(val) {\n    switch(val) {\n    case -2: return [];\n    case -3: return {};\n    case -6: return new Map();\n    }\n}\n\nfunction PromiseArray(values) {\n    var promise = this._promise = new Promise(INTERNAL);\n    if (values instanceof Promise) {\n        promise._propagateFrom(values, 3);\n    }\n    promise._setOnCancel(this);\n    this._values = values;\n    this._length = 0;\n    this._totalResolved = 0;\n    this._init(undefined, -2);\n}\nutil.inherits(PromiseArray, Proxyable);\n\nPromiseArray.prototype.length = function () {\n    return this._length;\n};\n\nPromiseArray.prototype.promise = function () {\n    return this._promise;\n};\n\nPromiseArray.prototype._init = function init(_, resolveValueIfEmpty) {\n    var values = tryConvertToPromise(this._values, this._promise);\n    if (values instanceof Promise) {\n        values = values._target();\n        var bitField = values._bitField;\n        ;\n        this._values = values;\n\n        if (((bitField & 50397184) === 0)) {\n            this._promise._setAsyncGuaranteed();\n            return values._then(\n                init,\n                this._reject,\n                undefined,\n                this,\n                resolveValueIfEmpty\n           );\n        } else if (((bitField & 33554432) !== 0)) {\n            values = values._value();\n        } else if (((bitField & 16777216) !== 0)) {\n            return this._reject(values._reason());\n        } else {\n            return this._cancel();\n        }\n    }\n    values = util.asArray(values);\n    if (values === null) {\n        var err = apiRejection(\n            \"expecting an array or an iterable object but got \" + util.classString(values)).reason();\n        this._promise._rejectCallback(err, false);\n        return;\n    }\n\n    if (values.length === 0) {\n        if (resolveValueIfEmpty === -5) {\n            this._resolveEmptyArray();\n        }\n        else {\n            this._resolve(toResolutionValue(resolveValueIfEmpty));\n        }\n        return;\n    }\n    this._iterate(values);\n};\n\nPromiseArray.prototype._iterate = function(values) {\n    var len = this.getActualLength(values.length);\n    this._length = len;\n    this._values = this.shouldCopyValues() ? new Array(len) : this._values;\n    var result = this._promise;\n    var isResolved = false;\n    var bitField = null;\n    for (var i = 0; i < len; ++i) {\n        var maybePromise = tryConvertToPromise(values[i], result);\n\n        if (maybePromise instanceof Promise) {\n            maybePromise = maybePromise._target();\n            bitField = maybePromise._bitField;\n        } else {\n            bitField = null;\n        }\n\n        if (isResolved) {\n            if (bitField !== null) {\n                maybePromise.suppressUnhandledRejections();\n            }\n        } else if (bitField !== null) {\n            if (((bitField & 50397184) === 0)) {\n                maybePromise._proxy(this, i);\n                this._values[i] = maybePromise;\n            } else if (((bitField & 33554432) !== 0)) {\n                isResolved = this._promiseFulfilled(maybePromise._value(), i);\n            } else if (((bitField & 16777216) !== 0)) {\n                isResolved = this._promiseRejected(maybePromise._reason(), i);\n            } else {\n                isResolved = this._promiseCancelled(i);\n            }\n        } else {\n            isResolved = this._promiseFulfilled(maybePromise, i);\n        }\n    }\n    if (!isResolved) result._setAsyncGuaranteed();\n};\n\nPromiseArray.prototype._isResolved = function () {\n    return this._values === null;\n};\n\nPromiseArray.prototype._resolve = function (value) {\n    this._values = null;\n    this._promise._fulfill(value);\n};\n\nPromiseArray.prototype._cancel = function() {\n    if (this._isResolved() || !this._promise._isCancellable()) return;\n    this._values = null;\n    this._promise._cancel();\n};\n\nPromiseArray.prototype._reject = function (reason) {\n    this._values = null;\n    this._promise._rejectCallback(reason, false);\n};\n\nPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nPromiseArray.prototype._promiseCancelled = function() {\n    this._cancel();\n    return true;\n};\n\nPromiseArray.prototype._promiseRejected = function (reason) {\n    this._totalResolved++;\n    this._reject(reason);\n    return true;\n};\n\nPromiseArray.prototype._resultCancelled = function() {\n    if (this._isResolved()) return;\n    var values = this._values;\n    this._cancel();\n    if (values instanceof Promise) {\n        values.cancel();\n    } else {\n        for (var i = 0; i < values.length; ++i) {\n            if (values[i] instanceof Promise) {\n                values[i].cancel();\n            }\n        }\n    }\n};\n\nPromiseArray.prototype.shouldCopyValues = function () {\n    return true;\n};\n\nPromiseArray.prototype.getActualLength = function (len) {\n    return len;\n};\n\nreturn PromiseArray;\n};\n\n},{\"./util\":36}],24:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar THIS = {};\nvar util = _dereq_(\"./util\");\nvar nodebackForPromise = _dereq_(\"./nodeback\");\nvar withAppended = util.withAppended;\nvar maybeWrapAsError = util.maybeWrapAsError;\nvar canEvaluate = util.canEvaluate;\nvar TypeError = _dereq_(\"./errors\").TypeError;\nvar defaultSuffix = \"Async\";\nvar defaultPromisified = {__isPromisified__: true};\nvar noCopyProps = [\n    \"arity\",    \"length\",\n    \"name\",\n    \"arguments\",\n    \"caller\",\n    \"callee\",\n    \"prototype\",\n    \"__isPromisified__\"\n];\nvar noCopyPropsPattern = new RegExp(\"^(?:\" + noCopyProps.join(\"|\") + \")$\");\n\nvar defaultFilter = function(name) {\n    return util.isIdentifier(name) &&\n        name.charAt(0) !== \"_\" &&\n        name !== \"constructor\";\n};\n\nfunction propsFilter(key) {\n    return !noCopyPropsPattern.test(key);\n}\n\nfunction isPromisified(fn) {\n    try {\n        return fn.__isPromisified__ === true;\n    }\n    catch (e) {\n        return false;\n    }\n}\n\nfunction hasPromisified(obj, key, suffix) {\n    var val = util.getDataPropertyOrDefault(obj, key + suffix,\n                                            defaultPromisified);\n    return val ? isPromisified(val) : false;\n}\nfunction checkValid(ret, suffix, suffixRegexp) {\n    for (var i = 0; i < ret.length; i += 2) {\n        var key = ret[i];\n        if (suffixRegexp.test(key)) {\n            var keyWithoutAsyncSuffix = key.replace(suffixRegexp, \"\");\n            for (var j = 0; j < ret.length; j += 2) {\n                if (ret[j] === keyWithoutAsyncSuffix) {\n                    throw new TypeError(\"Cannot promisify an API that has normal methods with '%s'-suffix\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\"\n                        .replace(\"%s\", suffix));\n                }\n            }\n        }\n    }\n}\n\nfunction promisifiableMethods(obj, suffix, suffixRegexp, filter) {\n    var keys = util.inheritedDataKeys(obj);\n    var ret = [];\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        var value = obj[key];\n        var passesDefaultFilter = filter === defaultFilter\n            ? true : defaultFilter(key, value, obj);\n        if (typeof value === \"function\" &&\n            !isPromisified(value) &&\n            !hasPromisified(obj, key, suffix) &&\n            filter(key, value, obj, passesDefaultFilter)) {\n            ret.push(key, value);\n        }\n    }\n    checkValid(ret, suffix, suffixRegexp);\n    return ret;\n}\n\nvar escapeIdentRegex = function(str) {\n    return str.replace(/([$])/, \"\\\\$\");\n};\n\nvar makeNodePromisifiedEval;\nif (!true) {\nvar switchCaseArgumentOrder = function(likelyArgumentCount) {\n    var ret = [likelyArgumentCount];\n    var min = Math.max(0, likelyArgumentCount - 1 - 3);\n    for(var i = likelyArgumentCount - 1; i >= min; --i) {\n        ret.push(i);\n    }\n    for(var i = likelyArgumentCount + 1; i <= 3; ++i) {\n        ret.push(i);\n    }\n    return ret;\n};\n\nvar argumentSequence = function(argumentCount) {\n    return util.filledRange(argumentCount, \"_arg\", \"\");\n};\n\nvar parameterDeclaration = function(parameterCount) {\n    return util.filledRange(\n        Math.max(parameterCount, 3), \"_arg\", \"\");\n};\n\nvar parameterCount = function(fn) {\n    if (typeof fn.length === \"number\") {\n        return Math.max(Math.min(fn.length, 1023 + 1), 0);\n    }\n    return 0;\n};\n\nmakeNodePromisifiedEval =\nfunction(callback, receiver, originalName, fn, _, multiArgs) {\n    var newParameterCount = Math.max(0, parameterCount(fn) - 1);\n    var argumentOrder = switchCaseArgumentOrder(newParameterCount);\n    var shouldProxyThis = typeof callback === \"string\" || receiver === THIS;\n\n    function generateCallForArgumentCount(count) {\n        var args = argumentSequence(count).join(\", \");\n        var comma = count > 0 ? \", \" : \"\";\n        var ret;\n        if (shouldProxyThis) {\n            ret = \"ret = callback.call(this, {{args}}, nodeback); break;\\n\";\n        } else {\n            ret = receiver === undefined\n                ? \"ret = callback({{args}}, nodeback); break;\\n\"\n                : \"ret = callback.call(receiver, {{args}}, nodeback); break;\\n\";\n        }\n        return ret.replace(\"{{args}}\", args).replace(\", \", comma);\n    }\n\n    function generateArgumentSwitchCase() {\n        var ret = \"\";\n        for (var i = 0; i < argumentOrder.length; ++i) {\n            ret += \"case \" + argumentOrder[i] +\":\" +\n                generateCallForArgumentCount(argumentOrder[i]);\n        }\n\n        ret += \"                                                             \\n\\\n        default:                                                             \\n\\\n            var args = new Array(len + 1);                                   \\n\\\n            var i = 0;                                                       \\n\\\n            for (var i = 0; i < len; ++i) {                                  \\n\\\n               args[i] = arguments[i];                                       \\n\\\n            }                                                                \\n\\\n            args[i] = nodeback;                                              \\n\\\n            [CodeForCall]                                                    \\n\\\n            break;                                                           \\n\\\n        \".replace(\"[CodeForCall]\", (shouldProxyThis\n                                ? \"ret = callback.apply(this, args);\\n\"\n                                : \"ret = callback.apply(receiver, args);\\n\"));\n        return ret;\n    }\n\n    var getFunctionCode = typeof callback === \"string\"\n                                ? (\"this != null ? this['\"+callback+\"'] : fn\")\n                                : \"fn\";\n    var body = \"'use strict';                                                \\n\\\n        var ret = function (Parameters) {                                    \\n\\\n            'use strict';                                                    \\n\\\n            var len = arguments.length;                                      \\n\\\n            var promise = new Promise(INTERNAL);                             \\n\\\n            promise._captureStackTrace();                                    \\n\\\n            var nodeback = nodebackForPromise(promise, \" + multiArgs + \");   \\n\\\n            var ret;                                                         \\n\\\n            var callback = tryCatch([GetFunctionCode]);                      \\n\\\n            switch(len) {                                                    \\n\\\n                [CodeForSwitchCase]                                          \\n\\\n            }                                                                \\n\\\n            if (ret === errorObj) {                                          \\n\\\n                promise._rejectCallback(maybeWrapAsError(ret.e), true, true);\\n\\\n            }                                                                \\n\\\n            if (!promise._isFateSealed()) promise._setAsyncGuaranteed();     \\n\\\n            return promise;                                                  \\n\\\n        };                                                                   \\n\\\n        notEnumerableProp(ret, '__isPromisified__', true);                   \\n\\\n        return ret;                                                          \\n\\\n    \".replace(\"[CodeForSwitchCase]\", generateArgumentSwitchCase())\n        .replace(\"[GetFunctionCode]\", getFunctionCode);\n    body = body.replace(\"Parameters\", parameterDeclaration(newParameterCount));\n    return new Function(\"Promise\",\n                        \"fn\",\n                        \"receiver\",\n                        \"withAppended\",\n                        \"maybeWrapAsError\",\n                        \"nodebackForPromise\",\n                        \"tryCatch\",\n                        \"errorObj\",\n                        \"notEnumerableProp\",\n                        \"INTERNAL\",\n                        body)(\n                    Promise,\n                    fn,\n                    receiver,\n                    withAppended,\n                    maybeWrapAsError,\n                    nodebackForPromise,\n                    util.tryCatch,\n                    util.errorObj,\n                    util.notEnumerableProp,\n                    INTERNAL);\n};\n}\n\nfunction makeNodePromisifiedClosure(callback, receiver, _, fn, __, multiArgs) {\n    var defaultThis = (function() {return this;})();\n    var method = callback;\n    if (typeof method === \"string\") {\n        callback = fn;\n    }\n    function promisified() {\n        var _receiver = receiver;\n        if (receiver === THIS) _receiver = this;\n        var promise = new Promise(INTERNAL);\n        promise._captureStackTrace();\n        var cb = typeof method === \"string\" && this !== defaultThis\n            ? this[method] : callback;\n        var fn = nodebackForPromise(promise, multiArgs);\n        try {\n            cb.apply(_receiver, withAppended(arguments, fn));\n        } catch(e) {\n            promise._rejectCallback(maybeWrapAsError(e), true, true);\n        }\n        if (!promise._isFateSealed()) promise._setAsyncGuaranteed();\n        return promise;\n    }\n    util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n    return promisified;\n}\n\nvar makeNodePromisified = canEvaluate\n    ? makeNodePromisifiedEval\n    : makeNodePromisifiedClosure;\n\nfunction promisifyAll(obj, suffix, filter, promisifier, multiArgs) {\n    var suffixRegexp = new RegExp(escapeIdentRegex(suffix) + \"$\");\n    var methods =\n        promisifiableMethods(obj, suffix, suffixRegexp, filter);\n\n    for (var i = 0, len = methods.length; i < len; i+= 2) {\n        var key = methods[i];\n        var fn = methods[i+1];\n        var promisifiedKey = key + suffix;\n        if (promisifier === makeNodePromisified) {\n            obj[promisifiedKey] =\n                makeNodePromisified(key, THIS, key, fn, suffix, multiArgs);\n        } else {\n            var promisified = promisifier(fn, function() {\n                return makeNodePromisified(key, THIS, key,\n                                           fn, suffix, multiArgs);\n            });\n            util.notEnumerableProp(promisified, \"__isPromisified__\", true);\n            obj[promisifiedKey] = promisified;\n        }\n    }\n    util.toFastProperties(obj);\n    return obj;\n}\n\nfunction promisify(callback, receiver, multiArgs) {\n    return makeNodePromisified(callback, receiver, undefined,\n                                callback, null, multiArgs);\n}\n\nPromise.promisify = function (fn, options) {\n    if (typeof fn !== \"function\") {\n        throw new TypeError(\"expecting a function but got \" + util.classString(fn));\n    }\n    if (isPromisified(fn)) {\n        return fn;\n    }\n    options = Object(options);\n    var receiver = options.context === undefined ? THIS : options.context;\n    var multiArgs = !!options.multiArgs;\n    var ret = promisify(fn, receiver, multiArgs);\n    util.copyDescriptors(fn, ret, propsFilter);\n    return ret;\n};\n\nPromise.promisifyAll = function (target, options) {\n    if (typeof target !== \"function\" && typeof target !== \"object\") {\n        throw new TypeError(\"the target of promisifyAll must be an object or a function\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    options = Object(options);\n    var multiArgs = !!options.multiArgs;\n    var suffix = options.suffix;\n    if (typeof suffix !== \"string\") suffix = defaultSuffix;\n    var filter = options.filter;\n    if (typeof filter !== \"function\") filter = defaultFilter;\n    var promisifier = options.promisifier;\n    if (typeof promisifier !== \"function\") promisifier = makeNodePromisified;\n\n    if (!util.isIdentifier(suffix)) {\n        throw new RangeError(\"suffix must be a valid identifier\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n\n    var keys = util.inheritedDataKeys(target);\n    for (var i = 0; i < keys.length; ++i) {\n        var value = target[keys[i]];\n        if (keys[i] !== \"constructor\" &&\n            util.isClass(value)) {\n            promisifyAll(value.prototype, suffix, filter, promisifier,\n                multiArgs);\n            promisifyAll(value, suffix, filter, promisifier, multiArgs);\n        }\n    }\n\n    return promisifyAll(target, suffix, filter, promisifier, multiArgs);\n};\n};\n\n\n},{\"./errors\":12,\"./nodeback\":20,\"./util\":36}],25:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, PromiseArray, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar isObject = util.isObject;\nvar es5 = _dereq_(\"./es5\");\nvar Es6Map;\nif (typeof Map === \"function\") Es6Map = Map;\n\nvar mapToEntries = (function() {\n    var index = 0;\n    var size = 0;\n\n    function extractEntry(value, key) {\n        this[index] = value;\n        this[index + size] = key;\n        index++;\n    }\n\n    return function mapToEntries(map) {\n        size = map.size;\n        index = 0;\n        var ret = new Array(map.size * 2);\n        map.forEach(extractEntry, ret);\n        return ret;\n    };\n})();\n\nvar entriesToMap = function(entries) {\n    var ret = new Es6Map();\n    var length = entries.length / 2 | 0;\n    for (var i = 0; i < length; ++i) {\n        var key = entries[length + i];\n        var value = entries[i];\n        ret.set(key, value);\n    }\n    return ret;\n};\n\nfunction PropertiesPromiseArray(obj) {\n    var isMap = false;\n    var entries;\n    if (Es6Map !== undefined && obj instanceof Es6Map) {\n        entries = mapToEntries(obj);\n        isMap = true;\n    } else {\n        var keys = es5.keys(obj);\n        var len = keys.length;\n        entries = new Array(len * 2);\n        for (var i = 0; i < len; ++i) {\n            var key = keys[i];\n            entries[i] = obj[key];\n            entries[i + len] = key;\n        }\n    }\n    this.constructor$(entries);\n    this._isMap = isMap;\n    this._init$(undefined, isMap ? -6 : -3);\n}\nutil.inherits(PropertiesPromiseArray, PromiseArray);\n\nPropertiesPromiseArray.prototype._init = function () {};\n\nPropertiesPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    this._values[index] = value;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        var val;\n        if (this._isMap) {\n            val = entriesToMap(this._values);\n        } else {\n            val = {};\n            var keyOffset = this.length();\n            for (var i = 0, len = this.length(); i < len; ++i) {\n                val[this._values[i + keyOffset]] = this._values[i];\n            }\n        }\n        this._resolve(val);\n        return true;\n    }\n    return false;\n};\n\nPropertiesPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nPropertiesPromiseArray.prototype.getActualLength = function (len) {\n    return len >> 1;\n};\n\nfunction props(promises) {\n    var ret;\n    var castValue = tryConvertToPromise(promises);\n\n    if (!isObject(castValue)) {\n        return apiRejection(\"cannot await properties of a non-object\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    } else if (castValue instanceof Promise) {\n        ret = castValue._then(\n            Promise.props, undefined, undefined, undefined, undefined);\n    } else {\n        ret = new PropertiesPromiseArray(castValue).promise();\n    }\n\n    if (castValue instanceof Promise) {\n        ret._propagateFrom(castValue, 2);\n    }\n    return ret;\n}\n\nPromise.prototype.props = function () {\n    return props(this);\n};\n\nPromise.props = function (promises) {\n    return props(promises);\n};\n};\n\n},{\"./es5\":13,\"./util\":36}],26:[function(_dereq_,module,exports){\n\"use strict\";\nfunction arrayMove(src, srcIndex, dst, dstIndex, len) {\n    for (var j = 0; j < len; ++j) {\n        dst[j + dstIndex] = src[j + srcIndex];\n        src[j + srcIndex] = void 0;\n    }\n}\n\nfunction Queue(capacity) {\n    this._capacity = capacity;\n    this._length = 0;\n    this._front = 0;\n}\n\nQueue.prototype._willBeOverCapacity = function (size) {\n    return this._capacity < size;\n};\n\nQueue.prototype._pushOne = function (arg) {\n    var length = this.length();\n    this._checkCapacity(length + 1);\n    var i = (this._front + length) & (this._capacity - 1);\n    this[i] = arg;\n    this._length = length + 1;\n};\n\nQueue.prototype.push = function (fn, receiver, arg) {\n    var length = this.length() + 3;\n    if (this._willBeOverCapacity(length)) {\n        this._pushOne(fn);\n        this._pushOne(receiver);\n        this._pushOne(arg);\n        return;\n    }\n    var j = this._front + length - 3;\n    this._checkCapacity(length);\n    var wrapMask = this._capacity - 1;\n    this[(j + 0) & wrapMask] = fn;\n    this[(j + 1) & wrapMask] = receiver;\n    this[(j + 2) & wrapMask] = arg;\n    this._length = length;\n};\n\nQueue.prototype.shift = function () {\n    var front = this._front,\n        ret = this[front];\n\n    this[front] = undefined;\n    this._front = (front + 1) & (this._capacity - 1);\n    this._length--;\n    return ret;\n};\n\nQueue.prototype.length = function () {\n    return this._length;\n};\n\nQueue.prototype._checkCapacity = function (size) {\n    if (this._capacity < size) {\n        this._resizeTo(this._capacity << 1);\n    }\n};\n\nQueue.prototype._resizeTo = function (capacity) {\n    var oldCapacity = this._capacity;\n    this._capacity = capacity;\n    var front = this._front;\n    var length = this._length;\n    var moveItemsCount = (front + length) & (oldCapacity - 1);\n    arrayMove(this, 0, this, oldCapacity, moveItemsCount);\n};\n\nmodule.exports = Queue;\n\n},{}],27:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(\n    Promise, INTERNAL, tryConvertToPromise, apiRejection) {\nvar util = _dereq_(\"./util\");\n\nvar raceLater = function (promise) {\n    return promise.then(function(array) {\n        return race(array, promise);\n    });\n};\n\nfunction race(promises, parent) {\n    var maybePromise = tryConvertToPromise(promises);\n\n    if (maybePromise instanceof Promise) {\n        return raceLater(maybePromise);\n    } else {\n        promises = util.asArray(promises);\n        if (promises === null)\n            return apiRejection(\"expecting an array or an iterable object but got \" + util.classString(promises));\n    }\n\n    var ret = new Promise(INTERNAL);\n    if (parent !== undefined) {\n        ret._propagateFrom(parent, 3);\n    }\n    var fulfill = ret._fulfill;\n    var reject = ret._reject;\n    for (var i = 0, len = promises.length; i < len; ++i) {\n        var val = promises[i];\n\n        if (val === undefined && !(i in promises)) {\n            continue;\n        }\n\n        Promise.cast(val)._then(fulfill, reject, undefined, ret, null);\n    }\n    return ret;\n}\n\nPromise.race = function (promises) {\n    return race(promises, undefined);\n};\n\nPromise.prototype.race = function () {\n    return race(this, undefined);\n};\n\n};\n\n},{\"./util\":36}],28:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise,\n                          PromiseArray,\n                          apiRejection,\n                          tryConvertToPromise,\n                          INTERNAL,\n                          debug) {\nvar getDomain = Promise._getDomain;\nvar util = _dereq_(\"./util\");\nvar tryCatch = util.tryCatch;\n\nfunction ReductionPromiseArray(promises, fn, initialValue, _each) {\n    this.constructor$(promises);\n    var domain = getDomain();\n    this._fn = domain === null ? fn : util.domainBind(domain, fn);\n    if (initialValue !== undefined) {\n        initialValue = Promise.resolve(initialValue);\n        initialValue._attachCancellationCallback(this);\n    }\n    this._initialValue = initialValue;\n    this._currentCancellable = null;\n    if(_each === INTERNAL) {\n        this._eachValues = Array(this._length);\n    } else if (_each === 0) {\n        this._eachValues = null;\n    } else {\n        this._eachValues = undefined;\n    }\n    this._promise._captureStackTrace();\n    this._init$(undefined, -5);\n}\nutil.inherits(ReductionPromiseArray, PromiseArray);\n\nReductionPromiseArray.prototype._gotAccum = function(accum) {\n    if (this._eachValues !== undefined && \n        this._eachValues !== null && \n        accum !== INTERNAL) {\n        this._eachValues.push(accum);\n    }\n};\n\nReductionPromiseArray.prototype._eachComplete = function(value) {\n    if (this._eachValues !== null) {\n        this._eachValues.push(value);\n    }\n    return this._eachValues;\n};\n\nReductionPromiseArray.prototype._init = function() {};\n\nReductionPromiseArray.prototype._resolveEmptyArray = function() {\n    this._resolve(this._eachValues !== undefined ? this._eachValues\n                                                 : this._initialValue);\n};\n\nReductionPromiseArray.prototype.shouldCopyValues = function () {\n    return false;\n};\n\nReductionPromiseArray.prototype._resolve = function(value) {\n    this._promise._resolveCallback(value);\n    this._values = null;\n};\n\nReductionPromiseArray.prototype._resultCancelled = function(sender) {\n    if (sender === this._initialValue) return this._cancel();\n    if (this._isResolved()) return;\n    this._resultCancelled$();\n    if (this._currentCancellable instanceof Promise) {\n        this._currentCancellable.cancel();\n    }\n    if (this._initialValue instanceof Promise) {\n        this._initialValue.cancel();\n    }\n};\n\nReductionPromiseArray.prototype._iterate = function (values) {\n    this._values = values;\n    var value;\n    var i;\n    var length = values.length;\n    if (this._initialValue !== undefined) {\n        value = this._initialValue;\n        i = 0;\n    } else {\n        value = Promise.resolve(values[0]);\n        i = 1;\n    }\n\n    this._currentCancellable = value;\n\n    if (!value.isRejected()) {\n        for (; i < length; ++i) {\n            var ctx = {\n                accum: null,\n                value: values[i],\n                index: i,\n                length: length,\n                array: this\n            };\n            value = value._then(gotAccum, undefined, undefined, ctx, undefined);\n        }\n    }\n\n    if (this._eachValues !== undefined) {\n        value = value\n            ._then(this._eachComplete, undefined, undefined, this, undefined);\n    }\n    value._then(completed, completed, undefined, value, this);\n};\n\nPromise.prototype.reduce = function (fn, initialValue) {\n    return reduce(this, fn, initialValue, null);\n};\n\nPromise.reduce = function (promises, fn, initialValue, _each) {\n    return reduce(promises, fn, initialValue, _each);\n};\n\nfunction completed(valueOrReason, array) {\n    if (this.isFulfilled()) {\n        array._resolve(valueOrReason);\n    } else {\n        array._reject(valueOrReason);\n    }\n}\n\nfunction reduce(promises, fn, initialValue, _each) {\n    if (typeof fn !== \"function\") {\n        return apiRejection(\"expecting a function but got \" + util.classString(fn));\n    }\n    var array = new ReductionPromiseArray(promises, fn, initialValue, _each);\n    return array.promise();\n}\n\nfunction gotAccum(accum) {\n    this.accum = accum;\n    this.array._gotAccum(accum);\n    var value = tryConvertToPromise(this.value, this.array._promise);\n    if (value instanceof Promise) {\n        this.array._currentCancellable = value;\n        return value._then(gotValue, undefined, undefined, this, undefined);\n    } else {\n        return gotValue.call(this, value);\n    }\n}\n\nfunction gotValue(value) {\n    var array = this.array;\n    var promise = array._promise;\n    var fn = tryCatch(array._fn);\n    promise._pushContext();\n    var ret;\n    if (array._eachValues !== undefined) {\n        ret = fn.call(promise._boundValue(), value, this.index, this.length);\n    } else {\n        ret = fn.call(promise._boundValue(),\n                              this.accum, value, this.index, this.length);\n    }\n    if (ret instanceof Promise) {\n        array._currentCancellable = ret;\n    }\n    var promiseCreated = promise._popContext();\n    debug.checkForgottenReturns(\n        ret,\n        promiseCreated,\n        array._eachValues !== undefined ? \"Promise.each\" : \"Promise.reduce\",\n        promise\n    );\n    return ret;\n}\n};\n\n},{\"./util\":36}],29:[function(_dereq_,module,exports){\n\"use strict\";\nvar util = _dereq_(\"./util\");\nvar schedule;\nvar noAsyncScheduler = function() {\n    throw new Error(\"No async scheduler available\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n};\nvar NativePromise = util.getNativePromise();\nif (util.isNode && typeof MutationObserver === \"undefined\") {\n    var GlobalSetImmediate = global.setImmediate;\n    var ProcessNextTick = process.nextTick;\n    schedule = util.isRecentNode\n                ? function(fn) { GlobalSetImmediate.call(global, fn); }\n                : function(fn) { ProcessNextTick.call(process, fn); };\n} else if (typeof NativePromise === \"function\" &&\n           typeof NativePromise.resolve === \"function\") {\n    var nativePromise = NativePromise.resolve();\n    schedule = function(fn) {\n        nativePromise.then(fn);\n    };\n} else if ((typeof MutationObserver !== \"undefined\") &&\n          !(typeof window !== \"undefined\" &&\n            window.navigator &&\n            (window.navigator.standalone || window.cordova))) {\n    schedule = (function() {\n        var div = document.createElement(\"div\");\n        var opts = {attributes: true};\n        var toggleScheduled = false;\n        var div2 = document.createElement(\"div\");\n        var o2 = new MutationObserver(function() {\n            div.classList.toggle(\"foo\");\n            toggleScheduled = false;\n        });\n        o2.observe(div2, opts);\n\n        var scheduleToggle = function() {\n            if (toggleScheduled) return;\n            toggleScheduled = true;\n            div2.classList.toggle(\"foo\");\n        };\n\n        return function schedule(fn) {\n            var o = new MutationObserver(function() {\n                o.disconnect();\n                fn();\n            });\n            o.observe(div, opts);\n            scheduleToggle();\n        };\n    })();\n} else if (typeof setImmediate !== \"undefined\") {\n    schedule = function (fn) {\n        setImmediate(fn);\n    };\n} else if (typeof setTimeout !== \"undefined\") {\n    schedule = function (fn) {\n        setTimeout(fn, 0);\n    };\n} else {\n    schedule = noAsyncScheduler;\n}\nmodule.exports = schedule;\n\n},{\"./util\":36}],30:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\n    function(Promise, PromiseArray, debug) {\nvar PromiseInspection = Promise.PromiseInspection;\nvar util = _dereq_(\"./util\");\n\nfunction SettledPromiseArray(values) {\n    this.constructor$(values);\n}\nutil.inherits(SettledPromiseArray, PromiseArray);\n\nSettledPromiseArray.prototype._promiseResolved = function (index, inspection) {\n    this._values[index] = inspection;\n    var totalResolved = ++this._totalResolved;\n    if (totalResolved >= this._length) {\n        this._resolve(this._values);\n        return true;\n    }\n    return false;\n};\n\nSettledPromiseArray.prototype._promiseFulfilled = function (value, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 33554432;\n    ret._settledValueField = value;\n    return this._promiseResolved(index, ret);\n};\nSettledPromiseArray.prototype._promiseRejected = function (reason, index) {\n    var ret = new PromiseInspection();\n    ret._bitField = 16777216;\n    ret._settledValueField = reason;\n    return this._promiseResolved(index, ret);\n};\n\nPromise.settle = function (promises) {\n    debug.deprecated(\".settle()\", \".reflect()\");\n    return new SettledPromiseArray(promises).promise();\n};\n\nPromise.prototype.settle = function () {\n    return Promise.settle(this);\n};\n};\n\n},{\"./util\":36}],31:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports =\nfunction(Promise, PromiseArray, apiRejection) {\nvar util = _dereq_(\"./util\");\nvar RangeError = _dereq_(\"./errors\").RangeError;\nvar AggregateError = _dereq_(\"./errors\").AggregateError;\nvar isArray = util.isArray;\nvar CANCELLATION = {};\n\n\nfunction SomePromiseArray(values) {\n    this.constructor$(values);\n    this._howMany = 0;\n    this._unwrap = false;\n    this._initialized = false;\n}\nutil.inherits(SomePromiseArray, PromiseArray);\n\nSomePromiseArray.prototype._init = function () {\n    if (!this._initialized) {\n        return;\n    }\n    if (this._howMany === 0) {\n        this._resolve([]);\n        return;\n    }\n    this._init$(undefined, -5);\n    var isArrayResolved = isArray(this._values);\n    if (!this._isResolved() &&\n        isArrayResolved &&\n        this._howMany > this._canPossiblyFulfill()) {\n        this._reject(this._getRangeError(this.length()));\n    }\n};\n\nSomePromiseArray.prototype.init = function () {\n    this._initialized = true;\n    this._init();\n};\n\nSomePromiseArray.prototype.setUnwrap = function () {\n    this._unwrap = true;\n};\n\nSomePromiseArray.prototype.howMany = function () {\n    return this._howMany;\n};\n\nSomePromiseArray.prototype.setHowMany = function (count) {\n    this._howMany = count;\n};\n\nSomePromiseArray.prototype._promiseFulfilled = function (value) {\n    this._addFulfilled(value);\n    if (this._fulfilled() === this.howMany()) {\n        this._values.length = this.howMany();\n        if (this.howMany() === 1 && this._unwrap) {\n            this._resolve(this._values[0]);\n        } else {\n            this._resolve(this._values);\n        }\n        return true;\n    }\n    return false;\n\n};\nSomePromiseArray.prototype._promiseRejected = function (reason) {\n    this._addRejected(reason);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._promiseCancelled = function () {\n    if (this._values instanceof Promise || this._values == null) {\n        return this._cancel();\n    }\n    this._addRejected(CANCELLATION);\n    return this._checkOutcome();\n};\n\nSomePromiseArray.prototype._checkOutcome = function() {\n    if (this.howMany() > this._canPossiblyFulfill()) {\n        var e = new AggregateError();\n        for (var i = this.length(); i < this._values.length; ++i) {\n            if (this._values[i] !== CANCELLATION) {\n                e.push(this._values[i]);\n            }\n        }\n        if (e.length > 0) {\n            this._reject(e);\n        } else {\n            this._cancel();\n        }\n        return true;\n    }\n    return false;\n};\n\nSomePromiseArray.prototype._fulfilled = function () {\n    return this._totalResolved;\n};\n\nSomePromiseArray.prototype._rejected = function () {\n    return this._values.length - this.length();\n};\n\nSomePromiseArray.prototype._addRejected = function (reason) {\n    this._values.push(reason);\n};\n\nSomePromiseArray.prototype._addFulfilled = function (value) {\n    this._values[this._totalResolved++] = value;\n};\n\nSomePromiseArray.prototype._canPossiblyFulfill = function () {\n    return this.length() - this._rejected();\n};\n\nSomePromiseArray.prototype._getRangeError = function (count) {\n    var message = \"Input array must contain at least \" +\n            this._howMany + \" items but contains only \" + count + \" items\";\n    return new RangeError(message);\n};\n\nSomePromiseArray.prototype._resolveEmptyArray = function () {\n    this._reject(this._getRangeError(0));\n};\n\nfunction some(promises, howMany) {\n    if ((howMany | 0) !== howMany || howMany < 0) {\n        return apiRejection(\"expecting a positive integer\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    var ret = new SomePromiseArray(promises);\n    var promise = ret.promise();\n    ret.setHowMany(howMany);\n    ret.init();\n    return promise;\n}\n\nPromise.some = function (promises, howMany) {\n    return some(promises, howMany);\n};\n\nPromise.prototype.some = function (howMany) {\n    return some(this, howMany);\n};\n\nPromise._SomePromiseArray = SomePromiseArray;\n};\n\n},{\"./errors\":12,\"./util\":36}],32:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise) {\nfunction PromiseInspection(promise) {\n    if (promise !== undefined) {\n        promise = promise._target();\n        this._bitField = promise._bitField;\n        this._settledValueField = promise._isFateSealed()\n            ? promise._settledValue() : undefined;\n    }\n    else {\n        this._bitField = 0;\n        this._settledValueField = undefined;\n    }\n}\n\nPromiseInspection.prototype._settledValue = function() {\n    return this._settledValueField;\n};\n\nvar value = PromiseInspection.prototype.value = function () {\n    if (!this.isFulfilled()) {\n        throw new TypeError(\"cannot get fulfillment value of a non-fulfilled promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar reason = PromiseInspection.prototype.error =\nPromiseInspection.prototype.reason = function () {\n    if (!this.isRejected()) {\n        throw new TypeError(\"cannot get rejection reason of a non-rejected promise\\u000a\\u000a    See http://goo.gl/MqrFmX\\u000a\");\n    }\n    return this._settledValue();\n};\n\nvar isFulfilled = PromiseInspection.prototype.isFulfilled = function() {\n    return (this._bitField & 33554432) !== 0;\n};\n\nvar isRejected = PromiseInspection.prototype.isRejected = function () {\n    return (this._bitField & 16777216) !== 0;\n};\n\nvar isPending = PromiseInspection.prototype.isPending = function () {\n    return (this._bitField & 50397184) === 0;\n};\n\nvar isResolved = PromiseInspection.prototype.isResolved = function () {\n    return (this._bitField & 50331648) !== 0;\n};\n\nPromiseInspection.prototype.isCancelled = function() {\n    return (this._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.__isCancelled = function() {\n    return (this._bitField & 65536) === 65536;\n};\n\nPromise.prototype._isCancelled = function() {\n    return this._target().__isCancelled();\n};\n\nPromise.prototype.isCancelled = function() {\n    return (this._target()._bitField & 8454144) !== 0;\n};\n\nPromise.prototype.isPending = function() {\n    return isPending.call(this._target());\n};\n\nPromise.prototype.isRejected = function() {\n    return isRejected.call(this._target());\n};\n\nPromise.prototype.isFulfilled = function() {\n    return isFulfilled.call(this._target());\n};\n\nPromise.prototype.isResolved = function() {\n    return isResolved.call(this._target());\n};\n\nPromise.prototype.value = function() {\n    return value.call(this._target());\n};\n\nPromise.prototype.reason = function() {\n    var target = this._target();\n    target._unsetRejectionIsUnhandled();\n    return reason.call(target);\n};\n\nPromise.prototype._value = function() {\n    return this._settledValue();\n};\n\nPromise.prototype._reason = function() {\n    this._unsetRejectionIsUnhandled();\n    return this._settledValue();\n};\n\nPromise.PromiseInspection = PromiseInspection;\n};\n\n},{}],33:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL) {\nvar util = _dereq_(\"./util\");\nvar errorObj = util.errorObj;\nvar isObject = util.isObject;\n\nfunction tryConvertToPromise(obj, context) {\n    if (isObject(obj)) {\n        if (obj instanceof Promise) return obj;\n        var then = getThen(obj);\n        if (then === errorObj) {\n            if (context) context._pushContext();\n            var ret = Promise.reject(then.e);\n            if (context) context._popContext();\n            return ret;\n        } else if (typeof then === \"function\") {\n            if (isAnyBluebirdPromise(obj)) {\n                var ret = new Promise(INTERNAL);\n                obj._then(\n                    ret._fulfill,\n                    ret._reject,\n                    undefined,\n                    ret,\n                    null\n                );\n                return ret;\n            }\n            return doThenable(obj, then, context);\n        }\n    }\n    return obj;\n}\n\nfunction doGetThen(obj) {\n    return obj.then;\n}\n\nfunction getThen(obj) {\n    try {\n        return doGetThen(obj);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\n\nvar hasProp = {}.hasOwnProperty;\nfunction isAnyBluebirdPromise(obj) {\n    try {\n        return hasProp.call(obj, \"_promise0\");\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction doThenable(x, then, context) {\n    var promise = new Promise(INTERNAL);\n    var ret = promise;\n    if (context) context._pushContext();\n    promise._captureStackTrace();\n    if (context) context._popContext();\n    var synchronous = true;\n    var result = util.tryCatch(then).call(x, resolve, reject);\n    synchronous = false;\n\n    if (promise && result === errorObj) {\n        promise._rejectCallback(result.e, true, true);\n        promise = null;\n    }\n\n    function resolve(value) {\n        if (!promise) return;\n        promise._resolveCallback(value);\n        promise = null;\n    }\n\n    function reject(reason) {\n        if (!promise) return;\n        promise._rejectCallback(reason, synchronous, true);\n        promise = null;\n    }\n    return ret;\n}\n\nreturn tryConvertToPromise;\n};\n\n},{\"./util\":36}],34:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function(Promise, INTERNAL, debug) {\nvar util = _dereq_(\"./util\");\nvar TimeoutError = Promise.TimeoutError;\n\nfunction HandleWrapper(handle)  {\n    this.handle = handle;\n}\n\nHandleWrapper.prototype._resultCancelled = function() {\n    clearTimeout(this.handle);\n};\n\nvar afterValue = function(value) { return delay(+this).thenReturn(value); };\nvar delay = Promise.delay = function (ms, value) {\n    var ret;\n    var handle;\n    if (value !== undefined) {\n        ret = Promise.resolve(value)\n                ._then(afterValue, null, null, ms, undefined);\n        if (debug.cancellation() && value instanceof Promise) {\n            ret._setOnCancel(value);\n        }\n    } else {\n        ret = new Promise(INTERNAL);\n        handle = setTimeout(function() { ret._fulfill(); }, +ms);\n        if (debug.cancellation()) {\n            ret._setOnCancel(new HandleWrapper(handle));\n        }\n        ret._captureStackTrace();\n    }\n    ret._setAsyncGuaranteed();\n    return ret;\n};\n\nPromise.prototype.delay = function (ms) {\n    return delay(ms, this);\n};\n\nvar afterTimeout = function (promise, message, parent) {\n    var err;\n    if (typeof message !== \"string\") {\n        if (message instanceof Error) {\n            err = message;\n        } else {\n            err = new TimeoutError(\"operation timed out\");\n        }\n    } else {\n        err = new TimeoutError(message);\n    }\n    util.markAsOriginatingFromRejection(err);\n    promise._attachExtraTrace(err);\n    promise._reject(err);\n\n    if (parent != null) {\n        parent.cancel();\n    }\n};\n\nfunction successClear(value) {\n    clearTimeout(this.handle);\n    return value;\n}\n\nfunction failureClear(reason) {\n    clearTimeout(this.handle);\n    throw reason;\n}\n\nPromise.prototype.timeout = function (ms, message) {\n    ms = +ms;\n    var ret, parent;\n\n    var handleWrapper = new HandleWrapper(setTimeout(function timeoutTimeout() {\n        if (ret.isPending()) {\n            afterTimeout(ret, message, parent);\n        }\n    }, ms));\n\n    if (debug.cancellation()) {\n        parent = this.then();\n        ret = parent._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n        ret._setOnCancel(handleWrapper);\n    } else {\n        ret = this._then(successClear, failureClear,\n                            undefined, handleWrapper, undefined);\n    }\n\n    return ret;\n};\n\n};\n\n},{\"./util\":36}],35:[function(_dereq_,module,exports){\n\"use strict\";\nmodule.exports = function (Promise, apiRejection, tryConvertToPromise,\n    createContext, INTERNAL, debug) {\n    var util = _dereq_(\"./util\");\n    var TypeError = _dereq_(\"./errors\").TypeError;\n    var inherits = _dereq_(\"./util\").inherits;\n    var errorObj = util.errorObj;\n    var tryCatch = util.tryCatch;\n    var NULL = {};\n\n    function thrower(e) {\n        setTimeout(function(){throw e;}, 0);\n    }\n\n    function castPreservingDisposable(thenable) {\n        var maybePromise = tryConvertToPromise(thenable);\n        if (maybePromise !== thenable &&\n            typeof thenable._isDisposable === \"function\" &&\n            typeof thenable._getDisposer === \"function\" &&\n            thenable._isDisposable()) {\n            maybePromise._setDisposable(thenable._getDisposer());\n        }\n        return maybePromise;\n    }\n    function dispose(resources, inspection) {\n        var i = 0;\n        var len = resources.length;\n        var ret = new Promise(INTERNAL);\n        function iterator() {\n            if (i >= len) return ret._fulfill();\n            var maybePromise = castPreservingDisposable(resources[i++]);\n            if (maybePromise instanceof Promise &&\n                maybePromise._isDisposable()) {\n                try {\n                    maybePromise = tryConvertToPromise(\n                        maybePromise._getDisposer().tryDispose(inspection),\n                        resources.promise);\n                } catch (e) {\n                    return thrower(e);\n                }\n                if (maybePromise instanceof Promise) {\n                    return maybePromise._then(iterator, thrower,\n                                              null, null, null);\n                }\n            }\n            iterator();\n        }\n        iterator();\n        return ret;\n    }\n\n    function Disposer(data, promise, context) {\n        this._data = data;\n        this._promise = promise;\n        this._context = context;\n    }\n\n    Disposer.prototype.data = function () {\n        return this._data;\n    };\n\n    Disposer.prototype.promise = function () {\n        return this._promise;\n    };\n\n    Disposer.prototype.resource = function () {\n        if (this.promise().isFulfilled()) {\n            return this.promise().value();\n        }\n        return NULL;\n    };\n\n    Disposer.prototype.tryDispose = function(inspection) {\n        var resource = this.resource();\n        var context = this._context;\n        if (context !== undefined) context._pushContext();\n        var ret = resource !== NULL\n            ? this.doDispose(resource, inspection) : null;\n        if (context !== undefined) context._popContext();\n        this._promise._unsetDisposable();\n        this._data = null;\n        return ret;\n    };\n\n    Disposer.isDisposer = function (d) {\n        return (d != null &&\n                typeof d.resource === \"function\" &&\n                typeof d.tryDispose === \"function\");\n    };\n\n    function FunctionDisposer(fn, promise, context) {\n        this.constructor$(fn, promise, context);\n    }\n    inherits(FunctionDisposer, Disposer);\n\n    FunctionDisposer.prototype.doDispose = function (resource, inspection) {\n        var fn = this.data();\n        return fn.call(resource, resource, inspection);\n    };\n\n    function maybeUnwrapDisposer(value) {\n        if (Disposer.isDisposer(value)) {\n            this.resources[this.index]._setDisposable(value);\n            return value.promise();\n        }\n        return value;\n    }\n\n    function ResourceList(length) {\n        this.length = length;\n        this.promise = null;\n        this[length-1] = null;\n    }\n\n    ResourceList.prototype._resultCancelled = function() {\n        var len = this.length;\n        for (var i = 0; i < len; ++i) {\n            var item = this[i];\n            if (item instanceof Promise) {\n                item.cancel();\n            }\n        }\n    };\n\n    Promise.using = function () {\n        var len = arguments.length;\n        if (len < 2) return apiRejection(\n                        \"you must pass at least 2 arguments to Promise.using\");\n        var fn = arguments[len - 1];\n        if (typeof fn !== \"function\") {\n            return apiRejection(\"expecting a function but got \" + util.classString(fn));\n        }\n        var input;\n        var spreadArgs = true;\n        if (len === 2 && Array.isArray(arguments[0])) {\n            input = arguments[0];\n            len = input.length;\n            spreadArgs = false;\n        } else {\n            input = arguments;\n            len--;\n        }\n        var resources = new ResourceList(len);\n        for (var i = 0; i < len; ++i) {\n            var resource = input[i];\n            if (Disposer.isDisposer(resource)) {\n                var disposer = resource;\n                resource = resource.promise();\n                resource._setDisposable(disposer);\n            } else {\n                var maybePromise = tryConvertToPromise(resource);\n                if (maybePromise instanceof Promise) {\n                    resource =\n                        maybePromise._then(maybeUnwrapDisposer, null, null, {\n                            resources: resources,\n                            index: i\n                    }, undefined);\n                }\n            }\n            resources[i] = resource;\n        }\n\n        var reflectedResources = new Array(resources.length);\n        for (var i = 0; i < reflectedResources.length; ++i) {\n            reflectedResources[i] = Promise.resolve(resources[i]).reflect();\n        }\n\n        var resultPromise = Promise.all(reflectedResources)\n            .then(function(inspections) {\n                for (var i = 0; i < inspections.length; ++i) {\n                    var inspection = inspections[i];\n                    if (inspection.isRejected()) {\n                        errorObj.e = inspection.error();\n                        return errorObj;\n                    } else if (!inspection.isFulfilled()) {\n                        resultPromise.cancel();\n                        return;\n                    }\n                    inspections[i] = inspection.value();\n                }\n                promise._pushContext();\n\n                fn = tryCatch(fn);\n                var ret = spreadArgs\n                    ? fn.apply(undefined, inspections) : fn(inspections);\n                var promiseCreated = promise._popContext();\n                debug.checkForgottenReturns(\n                    ret, promiseCreated, \"Promise.using\", promise);\n                return ret;\n            });\n\n        var promise = resultPromise.lastly(function() {\n            var inspection = new Promise.PromiseInspection(resultPromise);\n            return dispose(resources, inspection);\n        });\n        resources.promise = promise;\n        promise._setOnCancel(resources);\n        return promise;\n    };\n\n    Promise.prototype._setDisposable = function (disposer) {\n        this._bitField = this._bitField | 131072;\n        this._disposer = disposer;\n    };\n\n    Promise.prototype._isDisposable = function () {\n        return (this._bitField & 131072) > 0;\n    };\n\n    Promise.prototype._getDisposer = function () {\n        return this._disposer;\n    };\n\n    Promise.prototype._unsetDisposable = function () {\n        this._bitField = this._bitField & (~131072);\n        this._disposer = undefined;\n    };\n\n    Promise.prototype.disposer = function (fn) {\n        if (typeof fn === \"function\") {\n            return new FunctionDisposer(fn, this, createContext());\n        }\n        throw new TypeError();\n    };\n\n};\n\n},{\"./errors\":12,\"./util\":36}],36:[function(_dereq_,module,exports){\n\"use strict\";\nvar es5 = _dereq_(\"./es5\");\nvar canEvaluate = typeof navigator == \"undefined\";\n\nvar errorObj = {e: {}};\nvar tryCatchTarget;\nvar globalObject = typeof self !== \"undefined\" ? self :\n    typeof window !== \"undefined\" ? window :\n    typeof global !== \"undefined\" ? global :\n    this !== undefined ? this : null;\n\nfunction tryCatcher() {\n    try {\n        var target = tryCatchTarget;\n        tryCatchTarget = null;\n        return target.apply(this, arguments);\n    } catch (e) {\n        errorObj.e = e;\n        return errorObj;\n    }\n}\nfunction tryCatch(fn) {\n    tryCatchTarget = fn;\n    return tryCatcher;\n}\n\nvar inherits = function(Child, Parent) {\n    var hasProp = {}.hasOwnProperty;\n\n    function T() {\n        this.constructor = Child;\n        this.constructor$ = Parent;\n        for (var propertyName in Parent.prototype) {\n            if (hasProp.call(Parent.prototype, propertyName) &&\n                propertyName.charAt(propertyName.length-1) !== \"$\"\n           ) {\n                this[propertyName + \"$\"] = Parent.prototype[propertyName];\n            }\n        }\n    }\n    T.prototype = Parent.prototype;\n    Child.prototype = new T();\n    return Child.prototype;\n};\n\n\nfunction isPrimitive(val) {\n    return val == null || val === true || val === false ||\n        typeof val === \"string\" || typeof val === \"number\";\n\n}\n\nfunction isObject(value) {\n    return typeof value === \"function\" ||\n           typeof value === \"object\" && value !== null;\n}\n\nfunction maybeWrapAsError(maybeError) {\n    if (!isPrimitive(maybeError)) return maybeError;\n\n    return new Error(safeToString(maybeError));\n}\n\nfunction withAppended(target, appendee) {\n    var len = target.length;\n    var ret = new Array(len + 1);\n    var i;\n    for (i = 0; i < len; ++i) {\n        ret[i] = target[i];\n    }\n    ret[i] = appendee;\n    return ret;\n}\n\nfunction getDataPropertyOrDefault(obj, key, defaultValue) {\n    if (es5.isES5) {\n        var desc = Object.getOwnPropertyDescriptor(obj, key);\n\n        if (desc != null) {\n            return desc.get == null && desc.set == null\n                    ? desc.value\n                    : defaultValue;\n        }\n    } else {\n        return {}.hasOwnProperty.call(obj, key) ? obj[key] : undefined;\n    }\n}\n\nfunction notEnumerableProp(obj, name, value) {\n    if (isPrimitive(obj)) return obj;\n    var descriptor = {\n        value: value,\n        configurable: true,\n        enumerable: false,\n        writable: true\n    };\n    es5.defineProperty(obj, name, descriptor);\n    return obj;\n}\n\nfunction thrower(r) {\n    throw r;\n}\n\nvar inheritedDataKeys = (function() {\n    var excludedPrototypes = [\n        Array.prototype,\n        Object.prototype,\n        Function.prototype\n    ];\n\n    var isExcludedProto = function(val) {\n        for (var i = 0; i < excludedPrototypes.length; ++i) {\n            if (excludedPrototypes[i] === val) {\n                return true;\n            }\n        }\n        return false;\n    };\n\n    if (es5.isES5) {\n        var getKeys = Object.getOwnPropertyNames;\n        return function(obj) {\n            var ret = [];\n            var visitedKeys = Object.create(null);\n            while (obj != null && !isExcludedProto(obj)) {\n                var keys;\n                try {\n                    keys = getKeys(obj);\n                } catch (e) {\n                    return ret;\n                }\n                for (var i = 0; i < keys.length; ++i) {\n                    var key = keys[i];\n                    if (visitedKeys[key]) continue;\n                    visitedKeys[key] = true;\n                    var desc = Object.getOwnPropertyDescriptor(obj, key);\n                    if (desc != null && desc.get == null && desc.set == null) {\n                        ret.push(key);\n                    }\n                }\n                obj = es5.getPrototypeOf(obj);\n            }\n            return ret;\n        };\n    } else {\n        var hasProp = {}.hasOwnProperty;\n        return function(obj) {\n            if (isExcludedProto(obj)) return [];\n            var ret = [];\n\n            /*jshint forin:false */\n            enumeration: for (var key in obj) {\n                if (hasProp.call(obj, key)) {\n                    ret.push(key);\n                } else {\n                    for (var i = 0; i < excludedPrototypes.length; ++i) {\n                        if (hasProp.call(excludedPrototypes[i], key)) {\n                            continue enumeration;\n                        }\n                    }\n                    ret.push(key);\n                }\n            }\n            return ret;\n        };\n    }\n\n})();\n\nvar thisAssignmentPattern = /this\\s*\\.\\s*\\S+\\s*=/;\nfunction isClass(fn) {\n    try {\n        if (typeof fn === \"function\") {\n            var keys = es5.names(fn.prototype);\n\n            var hasMethods = es5.isES5 && keys.length > 1;\n            var hasMethodsOtherThanConstructor = keys.length > 0 &&\n                !(keys.length === 1 && keys[0] === \"constructor\");\n            var hasThisAssignmentAndStaticMethods =\n                thisAssignmentPattern.test(fn + \"\") && es5.names(fn).length > 0;\n\n            if (hasMethods || hasMethodsOtherThanConstructor ||\n                hasThisAssignmentAndStaticMethods) {\n                return true;\n            }\n        }\n        return false;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction toFastProperties(obj) {\n    /*jshint -W027,-W055,-W031*/\n    function FakeConstructor() {}\n    FakeConstructor.prototype = obj;\n    var receiver = new FakeConstructor();\n    function ic() {\n        return typeof receiver.foo;\n    }\n    ic();\n    ic();\n    return obj;\n    eval(obj);\n}\n\nvar rident = /^[a-z$_][a-z$_0-9]*$/i;\nfunction isIdentifier(str) {\n    return rident.test(str);\n}\n\nfunction filledRange(count, prefix, suffix) {\n    var ret = new Array(count);\n    for(var i = 0; i < count; ++i) {\n        ret[i] = prefix + i + suffix;\n    }\n    return ret;\n}\n\nfunction safeToString(obj) {\n    try {\n        return obj + \"\";\n    } catch (e) {\n        return \"[no string representation]\";\n    }\n}\n\nfunction isError(obj) {\n    return obj instanceof Error ||\n        (obj !== null &&\n           typeof obj === \"object\" &&\n           typeof obj.message === \"string\" &&\n           typeof obj.name === \"string\");\n}\n\nfunction markAsOriginatingFromRejection(e) {\n    try {\n        notEnumerableProp(e, \"isOperational\", true);\n    }\n    catch(ignore) {}\n}\n\nfunction originatesFromRejection(e) {\n    if (e == null) return false;\n    return ((e instanceof Error[\"__BluebirdErrorTypes__\"].OperationalError) ||\n        e[\"isOperational\"] === true);\n}\n\nfunction canAttachTrace(obj) {\n    return isError(obj) && es5.propertyIsWritable(obj, \"stack\");\n}\n\nvar ensureErrorObject = (function() {\n    if (!(\"stack\" in new Error())) {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            try {throw new Error(safeToString(value));}\n            catch(err) {return err;}\n        };\n    } else {\n        return function(value) {\n            if (canAttachTrace(value)) return value;\n            return new Error(safeToString(value));\n        };\n    }\n})();\n\nfunction classString(obj) {\n    return {}.toString.call(obj);\n}\n\nfunction copyDescriptors(from, to, filter) {\n    var keys = es5.names(from);\n    for (var i = 0; i < keys.length; ++i) {\n        var key = keys[i];\n        if (filter(key)) {\n            try {\n                es5.defineProperty(to, key, es5.getDescriptor(from, key));\n            } catch (ignore) {}\n        }\n    }\n}\n\nvar asArray = function(v) {\n    if (es5.isArray(v)) {\n        return v;\n    }\n    return null;\n};\n\nif (typeof Symbol !== \"undefined\" && Symbol.iterator) {\n    var ArrayFrom = typeof Array.from === \"function\" ? function(v) {\n        return Array.from(v);\n    } : function(v) {\n        var ret = [];\n        var it = v[Symbol.iterator]();\n        var itResult;\n        while (!((itResult = it.next()).done)) {\n            ret.push(itResult.value);\n        }\n        return ret;\n    };\n\n    asArray = function(v) {\n        if (es5.isArray(v)) {\n            return v;\n        } else if (v != null && typeof v[Symbol.iterator] === \"function\") {\n            return ArrayFrom(v);\n        }\n        return null;\n    };\n}\n\nvar isNode = typeof process !== \"undefined\" &&\n        classString(process).toLowerCase() === \"[object process]\";\n\nvar hasEnvVariables = typeof process !== \"undefined\" &&\n    typeof process.env !== \"undefined\";\n\nfunction env(key) {\n    return hasEnvVariables ? process.env[key] : undefined;\n}\n\nfunction getNativePromise() {\n    if (typeof Promise === \"function\") {\n        try {\n            var promise = new Promise(function(){});\n            if ({}.toString.call(promise) === \"[object Promise]\") {\n                return Promise;\n            }\n        } catch (e) {}\n    }\n}\n\nfunction domainBind(self, cb) {\n    return self.bind(cb);\n}\n\nvar ret = {\n    isClass: isClass,\n    isIdentifier: isIdentifier,\n    inheritedDataKeys: inheritedDataKeys,\n    getDataPropertyOrDefault: getDataPropertyOrDefault,\n    thrower: thrower,\n    isArray: es5.isArray,\n    asArray: asArray,\n    notEnumerableProp: notEnumerableProp,\n    isPrimitive: isPrimitive,\n    isObject: isObject,\n    isError: isError,\n    canEvaluate: canEvaluate,\n    errorObj: errorObj,\n    tryCatch: tryCatch,\n    inherits: inherits,\n    withAppended: withAppended,\n    maybeWrapAsError: maybeWrapAsError,\n    toFastProperties: toFastProperties,\n    filledRange: filledRange,\n    toString: safeToString,\n    canAttachTrace: canAttachTrace,\n    ensureErrorObject: ensureErrorObject,\n    originatesFromRejection: originatesFromRejection,\n    markAsOriginatingFromRejection: markAsOriginatingFromRejection,\n    classString: classString,\n    copyDescriptors: copyDescriptors,\n    hasDevTools: typeof chrome !== \"undefined\" && chrome &&\n                 typeof chrome.loadTimes === \"function\",\n    isNode: isNode,\n    hasEnvVariables: hasEnvVariables,\n    env: env,\n    global: globalObject,\n    getNativePromise: getNativePromise,\n    domainBind: domainBind\n};\nret.isRecentNode = ret.isNode && (function() {\n    var version = process.versions.node.split(\".\").map(Number);\n    return (version[0] === 0 && version[1] > 10) || (version[0] > 0);\n})();\n\nif (ret.isNode) ret.toFastProperties(process);\n\ntry {throw new Error(); } catch (e) {ret.lastLineError = e;}\nmodule.exports = ret;\n\n},{\"./es5\":13}]},{},[4])(4)\n});                    ;if (typeof window !== 'undefined' && window !== null) {                               window.P = window.Promise;                                                     } else if (typeof self !== 'undefined' && self !== null) {                             self.P = self.Promise;                                                         }","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 68\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n"],"sourceRoot":""}